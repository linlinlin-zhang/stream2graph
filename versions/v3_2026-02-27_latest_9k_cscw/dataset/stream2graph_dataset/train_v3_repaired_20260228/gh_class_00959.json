{
  "id": "gh_class_00959",
  "source": "github",
  "source_url": "https://github.com/Catfootbeats/TysmEngine/blob/1f41dcbe399d4fa08a6b6162a1a6804da948dc6c/src/class.mmd",
  "github_repo": "Catfootbeats/TysmEngine",
  "github_file_path": "src/class.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: tysm\n---\nclassDiagram\n\n    class Engine{\n        + Engine()\n        + ~Engine()\n        + run() void\n        - SDL_Event mainEvent\n        - SDL_Window* mainWindow\n        - SDL_Renderer* renderer\n        - std::unique_ptr<DialogView> dialogView\n        - std::unique_ptr<TitleView> titleView\n        - ViewManager viewManager\n        - bool isQuit\n    }\n\n    class ViewManager{\n    + ViewManager()\n    + ~ViewManager()\n    + route(VIEW) void\n    + show(SDL_Renderer*&) void\n    }\n    ViewManager --o Engine\n\n\n    class WindowManager{\n        + static ...()\n        - WindowManager()\n        - ~WindowManager()\n    }\n    <<static>> WindowManager\n    WindowManager --o Engine\n\n    class RendererManager{\n        + static ...()\n        - RendererManager()\n        - ~RendererManager()\n    }\n    <<static>> RendererManager\n    RendererManager --o Engine\n\n    class DialogView\n    DialogView --o Engine\n    DialogView --> ViewManager: pointer or reference\n    ViewBase <|-- DialogView\n\n    class TitleView{\n        +std::string title\n    }\n    TitleView --o Engine\n    TitleView --> ViewManager: pointer or reference\n    ViewBase <|-- TitleView\n\n    class ViewBase{\n        + show() void\n        + enable() void\n        + disable() void\n        + isActive() bool\n        - bool state\n        # std::list<TyObject&> objects\n    }\n    note for ViewBase \"View包含active和inactive两种状态，通过调用enable() disable()切换\"\n    note for ViewBase \"实现show()渲染objects\"\n    note for ViewBase \"子类只需要列表初始化objects并且添加TyObject\"\n    class VIEW\n    <<Enumeration>> VIEW\n    VIEW : TITLE_VIEW\n    VIEW : DIALOG_VIEW\n\n    class TyObject{\n        + render() void\n    }\n\n    class Image{\n    }\n    Image --|> TyObject\n    Image --o TitleView\n\n    class Text{\n    }\n    Text --|> TyObject\n    Text --o TitleView\n",
  "content_size": 1784,
  "collected_at": "2026-02-06T01:39:21.459698",
  "compilation_status": "success",
  "compilation_error": "",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 2,
  "repo_forks": 0,
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 + Engine( 和 + ViewManager( 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '+ Engine( 和 + ViewManager('？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Engine",
        "ViewManager"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 VIEW 和 SDL_Renderer*& 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'VIEW 和 SDL_Renderer*&'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "route",
        "show"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 + static ...( 和 + static ...(。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '+ static ...( 和 + static ...('？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "WindowManager",
        "RendererManager"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 +std::string title\n     和 + show(。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '+std::string title\n     和 + show('，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "TitleView",
        "ViewBase"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 + render( 和  。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 + render(处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 19,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '+ render(处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "TyObject",
        "Image"
      ],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于   的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 ' '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Text"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 25,
    "repair_count": 1,
    "grounding_acts_count": 12,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:35Z"
}