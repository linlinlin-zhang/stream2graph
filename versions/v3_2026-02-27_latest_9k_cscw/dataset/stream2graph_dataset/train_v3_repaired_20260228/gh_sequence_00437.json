{
  "id": "gh_sequence_00437",
  "source": "github",
  "source_url": "https://github.com/khaosans/articles/blob/ec216dd3ab150b87c10e59fd169d5920fddd9890/extracted_diagrams/ai-roles-workflows-comprehensive_diagram_3.mmd",
  "github_repo": "khaosans/articles",
  "github_file_path": "extracted_diagrams/ai-roles-workflows-comprehensive_diagram_3.mmd",
  "diagram_type": "sequence",
  "code": "sequenceDiagram\n    participant U as User\n    participant API as API Gateway\n    participant AUTH as Auth Service\n    participant RAG as RAG Engine\n    participant VDB as Vector DB\n    participant LLM as LLM Service\n    participant CACHE as Cache\n    participant MON as Monitor\n    \n    U->>API: Submit Query\n    API->>AUTH: Validate Token\n    AUTH-->>API: Token Valid\n    API->>RAG: Process Query\n    \n    RAG->>VDB: Search Embeddings\n    VDB-->>RAG: Top-k Results\n    RAG->>CACHE: Check Cache\n    alt Cache Hit\n        CACHE-->>RAG: Cached Response\n    else Cache Miss\n        RAG->>LLM: Generate Response\n        LLM-->>RAG: Response + Sources\n        RAG->>CACHE: Store Response\n    end\n    \n    RAG->>MON: Log Metrics\n    RAG-->>API: Response + Citations\n    API-->>U: Final Response",
  "content_size": 788,
  "collected_at": "2026-02-06T01:32:17.220374",
  "compilation_status": "success",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 主架构 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 主架构处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 3,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '主架构处理'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "root"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 5,
    "repair_count": 1,
    "grounding_acts_count": 2,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:37Z"
}