{
  "id": "gh_architecture_01899",
  "source": "github",
  "source_url": "https://github.com/luizebaldoni/IntegradorII/blob/68aa09ca5bea33d7bbded713001047d1539b760c/Diagram/erDiagram.mmd",
  "github_repo": "luizebaldoni/IntegradorII",
  "github_file_path": "Diagram/erDiagram.mmd",
  "diagram_type": "architecture",
  "code": "graph TD\n    %% ========== ESTILOS ACADÊMICOS ==========\n    classDef entity fill:#ffffff,stroke:#2c3e50,stroke-width:2px\n    classDef process fill:#eaf2f8,stroke:#2980b9,stroke-dasharray:5\n    classDef datastore fill:#e8f8f5,stroke:#27ae60\n    classDef flow fill:#fdedec,stroke:#e74c3c,dashed\n\n    %% ========== ENTIDADES PRINCIPAIS ==========\n    USER[[\"Usuário<br/>(auth_user)\"]]:::entity\n    DEVICE[[\"Dispositivo IoT<br/>(app_device)\"]]:::entity\n    SENSOR[[\"Sensor<br/>(app_sensor)\"]]:::datastore\n    SIREN[[\"Estado da Sirene<br/>(app_sirenstatus)\"]]:::datastore\n\n    %% ========== PROCESSOS ==========\n    AUTH{{\"Autenticação<br/>e Autorização\"}}:::process\n    DATA_INGESTION{{\"Ingestão de Dados<br/>(views.py)\"}}:::process\n    RULES_ENGINE{{\"Motor de Regras<br/>(alarms.py)\"}}:::process\n\n    %% ========== ARMAZENAMENTO ==========\n    DB[(\"Banco de Dados<br/>PostgreSQL\")]:::datastore\n    LOGS[[\"Logs do Sistema<br/>(app_devicelog)\"]]:::datastore\n\n    %% ========== FLUXO DO SISTEMA ==========\n    USER -->|1. Configura| DEVICE\n    DEVICE -->|2. Monitora| SENSOR\n    SENSOR -->|3. Dados| DATA_INGESTION\n    DATA_INGESTION -->|4. Persiste| DB\n    DATA_INGESTION -->|5. Avalia| RULES_ENGINE\n    RULES_ENGINE -->|6. Ativa/Desativa| SIREN\n    SIREN -->|7. Notifica| USER\n    RULES_ENGINE -->|8. Registra| LOGS\n\n    %% ========== LEGENDA ==========\n    subgraph Legend\n        direction TB\n        E[Entidade]:::entity\n        P[Processo]:::process\n        D[Armazenamento]:::datastore\n        F[Fluxo]:::flow\n    end\n\n    %% ========== ESTILOS DE LINHA ==========\n    linkStyle 0,1,2,3,4,5,6,7 stroke:#7f8c8d,stroke-width:2px",
  "content_size": 1628,
  "collected_at": "2026-02-06T02:04:44.037234",
  "compilation_status": "success",
  "compilation_error": "",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 0,
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 [\"Usuário<br/>(auth_user 和 [\"Dispositivo IoT<br/>(app_device 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '[\"Usuário<br/>(auth_user 和 [\"Dispositivo IoT<br/>(app_device'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "USER",
        "DEVICE"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 [\"Sensor<br/>(app_sensor 和 [\"Estado da Sirene<br/>(app_sirenstatus。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '[\"Sensor<br/>(app_sensor 和 [\"Estado da Sirene<br/>(app_sirenstatus'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "SENSOR",
        "SIREN"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 {\"Autenticação<br/>e Autorização\" 和 {\"Ingestão de Dados<br/>(views.py 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '{\"Autenticação<br/>e Autorização\" 和 {\"Ingestão de Dados<br/>(views.py'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "AUTH",
        "DATA_INGESTION"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 {\"Motor de Regras<br/>(alarms.py 和 (\"Banco de Dados<br/>PostgreSQL\"。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 {\"Motor de Regras<br/>(alarms.py处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '{\"Motor de Regras<br/>(alarms.py处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "RULES_ENGINE",
        "DB"
      ],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 [\"Logs do Sistema<br/>(app_devicelog 和 Entidade 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '[\"Logs do Sistema<br/>(app_devicelog 和 Entidade'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "LOGS",
        "E"
      ],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 Processo 和 Armazenamento 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 Processo处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'Processo处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "P",
        "D"
      ],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 Fluxo。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'Fluxo'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "F"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 30,
    "repair_count": 2,
    "grounding_acts_count": 14,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:21Z"
}