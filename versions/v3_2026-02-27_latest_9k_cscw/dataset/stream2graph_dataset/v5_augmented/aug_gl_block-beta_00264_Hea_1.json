{
  "id": "aug_gl_block-beta_00264_Hea_1",
  "source": "augmented_real_structure",
  "source_url": "https://github.com/sealmindset/Ollama_ZTA/blob/a389f11942416da42d4a66c59b555641f0129c88/docs/Ollama_ZTA.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "sealmindset/Ollama_ZTA",
  "diagram_type": "block-beta",
  "code": "sequenceDiagram\n    actor C as Client (HealthTech_HIPAA_Vault)\n    actor N as NGINX (HealthTech_PatientRecords)\n    actor P as oauth2-proxy (HealthTech_EMR_Sync)\n    actor I as Identity Provider (HealthTech_HIPAA_Vault)\n    actor F as Prompt/Policy Filter (HealthTech_EMR_Sync)\n    actor O as Ollama (HealthTech_LabAnalyzer)\n    actor L as SIEM / Local Logs\n\n    C ->> N : HTTPS request to /api/generate\n    N ->> N : Verify TLS handshake + client cert (HealthTech_PatientRecords), apply WAF/rate-limit/CORS\n    alt mTLS missing/invalid\n        N ->> C : 401/403 (HealthTech_EMR_Sync)\n        N ->> L : Log TLS/authn failure + client info (HealthTech_HIPAA_Vault)\n    else mTLS valid\n        N ->> L : Log access (HealthTech_HIPAA_Vault)\n    end\n\n    N ->> P : subrequest /oauth2/auth (HealthTech_PatientRecords)\n    alt No valid session cookie\n        P ->> N : 401 Unauthorized (HealthTech_DiagnosticEngine)\n        N ->> C : 302 Redirect → /oauth2/start\n        C ->> P : GET /oauth2/start\n        P ->> C : 302 Redirect → I /authorize (HealthTech_PatientRecords)\n        C ->> I : User login + MFA (HealthTech_DiagnosticEngine)\n        I ->> C : 302 Redirect → P /oauth2/callback?code=...\n        C ->> P : GET /oauth2/callback (HealthTech_DiagnosticEngine)\n        P ->> C : Set secure session cookie, 302 back to original URL\n        C ->> N : Retry original /api/* request (HealthTech_HIPAA_Vault)\n        N ->> P : subrequest /oauth2/auth\n        P ->> N : 200 OK + X-Auth headers (HealthTech_EMR_Sync)\n    else Valid session present\n        P ->> N : 200 OK + X-Auth headers (HealthTech_HIPAA_Vault)\n    end\n    N ->> L : Log auth decision + user/group claims (HealthTech_DiagnosticEngine)\n\n    N ->> F : POST /filter (HealthTech_HIPAA_Vault)\n    alt Policy violation (HealthTech_HIPAA_Vault)\n        F ->> N : 406/422 with reason code\n        N ->> C : 4xx safe error (HealthTech_HIPAA_Vault)\n    else Allowed\n        F ->> N : 200 Allowed\n    end\n\n    N ->> O : POST /api/generate (HealthTech_HIPAA_Vault)\n    O ->> N : Streamed tokens / chunked response\n    loop while streaming tokens\n        N ->> C : Forward token chunks (HealthTech_DiagnosticEngine)\n    end\n\n    N ->> L : Access + security events (HealthTech_EMR_Sync)\n    P ->> L : Auth events (HealthTech_EMR_Sync)\n    F ->> L : Policy evaluation results (HealthTech_EMR_Sync)\n    O ->> L : Inference metrics (HealthTech_LabAnalyzer)\n\n    N ->> C : 200 OK (HealthTech_PatientRecords) OR controlled 4xx with safe message\n",
  "content_size": 2389,
  "collected_at": "2026-02-06T14:05:40.110627",
  "compilation_status": "success",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "sealmindset",
  "repo_name": "Ollama_ZTA",
  "repo_description": "Ollama Docker ZTA",
  "repo_language": "Shell",
  "repo_topics": [],
  "repo_created_at": "2025-08-17T17:03:56Z",
  "repo_updated_at": "2025-08-18T03:07:48Z",
  "augmentation_domain": "HealthTech",
  "seed_id": "gl_block-beta_00264"
}