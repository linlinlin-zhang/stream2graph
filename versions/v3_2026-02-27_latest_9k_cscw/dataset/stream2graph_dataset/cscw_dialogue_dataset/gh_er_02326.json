{
  "id": "gh_er_02326",
  "source": "github",
  "source_url": "https://github.com/okallo/FastNestAppointment/blob/5d4e8f44b4244f1993fe6dda4522c583c284649f/erDiagram.mmd",
  "github_repo": "okallo/FastNestAppointment",
  "github_file_path": "erDiagram.mmd",
  "diagram_type": "er",
  "code": "erDiagram\n    USER {\n        uuid id PK\n        string name\n        string email\n        string role\n    }\n    DOCTOR {\n        uuid id PK\n        string specialty\n        string license_number\n        string user_id FK\n    }\n    PATIENT {\n        uuid id PK\n        string insurance\n        string user_id FK\n    }\n    APPOINTMENT {\n        uuid id PK\n        datetime time\n        uuid patient_id FK\n        uuid doctor_id FK\n        string status\n    }\n    AVAILABILITY {\n        uuid id PK\n        uuid doctor_id FK\n        string day_of_week\n        time start_time\n        time end_time\n    }\n    TIMEOFF {\n        uuid id PK\n        uuid doctor_id FK\n        date start_date\n        date end_date\n        string reason\n    }\n    MEDICAL_RECORD {\n        uuid id PK\n        uuid appointment_id FK\n        uuid patient_id FK\n        string doctor_id FK\n        string notes\n        datetime created_at\n    }\n    AUDIT_LOG {\n        uuid id PK\n        string user_id FK\n        string action\n        datetime timestamp\n    }\n    USER ||--|| DOCTOR : \"is a\"\n    USER ||--|| PATIENT : \"is a\"\n    DOCTOR ||--o{ AVAILABILITY : \"sets\"\n    DOCTOR ||--o{ TIMEOFF : \"requests\"\n    PATIENT ||--o{ APPOINTMENT : \"schedules\"\n    DOCTOR ||--o{ APPOINTMENT : \"accepts\"\n    PATIENT ||--o{ MEDICAL_RECORD : \"has\"\n    DOCTOR ||--o{ MEDICAL_RECORD : \"writes\"\n    USER ||--o{ AUDIT_LOG : \"logs\"",
  "content_size": 1380,
  "collected_at": "2026-02-06T02:11:23.386489",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 uuid id PK\n        string name\n        string email\n        string role\n     和 uuid id PK\n        string specialty\n        string license_number\n        string user_id FK\n     这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'uuid id PK\n        string name\n        string email\n        string role\n     和 uuid id PK\n        string specialty\n        string license_number\n        string user_id FK\n    '？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "USER",
        "DOCTOR"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 uuid id PK\n        string insurance\n        string user_id FK\n     和 uuid id PK\n        datetime time\n        uuid patient_id FK\n        uuid doctor_id FK\n        string status\n    。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 uuid id PK\n        string insurance\n        string user_id FK\n    处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 7,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        string insurance\n        string user_id FK\n    处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "PATIENT",
        "APPOINTMENT"
      ],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 uuid id PK\n        uuid doctor_id FK\n        string day_of_week\n        time start_time\n        time end_time\n     和 uuid id PK\n        uuid doctor_id FK\n        date start_date\n        date end_date\n        string reason\n    。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'uuid id PK\n        uuid doctor_id FK\n        string day_of_week\n        time start_time\n        time end_time\n     和 uuid id PK\n        uuid doctor_id FK\n        date start_date\n        date end_date\n        string reason\n    '？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "AVAILABILITY",
        "TIMEOFF"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 uuid id PK\n        uuid appointment_id FK\n        uuid patient_id FK\n        string doctor_id FK\n        string notes\n        datetime created_at\n     和 uuid id PK\n        string user_id FK\n        string action\n        datetime timestamp\n     这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        uuid appointment_id FK\n        uuid patient_id FK\n        string doctor_id FK\n        string notes\n        datetime created_at\n     和 uuid id PK\n        string user_id FK\n        string action\n        datetime timestamp\n    '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "MEDICAL_RECORD",
        "AUDIT_LOG"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 17,
    "repair_count": 1,
    "grounding_acts_count": 8,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}