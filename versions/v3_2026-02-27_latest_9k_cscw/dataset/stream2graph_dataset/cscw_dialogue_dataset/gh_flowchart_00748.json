{
  "id": "gh_flowchart_00748",
  "source": "github",
  "source_url": "https://github.com/s-a-c/ai-guidelines/blob/9c092b8bf9684666244e7b97b87c962175bfbd95/100-laravel/700-r-and-d/E_L_A/illustrations/mermaid/light/tad-deployment-light.mmd",
  "github_repo": "s-a-c/ai-guidelines",
  "github_file_path": "100-laravel/700-r-and-d/E_L_A/illustrations/mermaid/light/tad-deployment-light.mmd",
  "diagram_type": "flowchart",
  "code": "%%{init: {'theme': 'default', 'themeVariables': { 'primaryColor': '#f5f5f5', 'primaryTextColor': '#333333', 'primaryBorderColor': '#cccccc', 'lineColor': '#666666', 'secondaryColor': '#f0f0f0', 'tertiaryColor': '#ffffff' }}}%%\nflowchart TB\n    subgraph \"Client Layer\"\n        Browser[\"Web Browser\"]\n        MobileApp[\"Mobile App\"]\n        ExternalAPI[\"External API Clients\"]\n    end\n\n    subgraph \"Load Balancing\"\n        LB[\"Load Balancer\"]\n    end\n\n    subgraph \"Application Layer\"\n        WebServer1[\"Web Server 1<br>FrankenPHP + Laravel Octane\"]\n        WebServer2[\"Web Server 2<br>FrankenPHP + Laravel Octane\"]\n        WebServer3[\"Web Server 3<br>FrankenPHP + Laravel Octane\"]\n    end\n\n    subgraph \"Queue Processing\"\n        HorizonWorker1[\"Horizon Worker 1\"]\n        HorizonWorker2[\"Horizon Worker 2\"]\n    end\n\n    subgraph \"Real-time Layer\"\n        ReverbServer1[\"Reverb Server 1\"]\n        ReverbServer2[\"Reverb Server 2\"]\n    end\n\n    subgraph \"Data Layer\"\n        PrimaryDB[(\"Primary Database<br>PostgreSQL\")]\n        ReadReplica[(\"Read Replica<br>PostgreSQL\")]\n        Redis[(\"Redis<br>Cache + Queue\")]\n        Typesense[\"Typesense<br>Search Engine\"]\n    end\n\n    subgraph \"Storage Layer\"\n        ObjectStorage[\"Object Storage<br>Media Files\"]\n    end\n\n    Browser --> LB\n    MobileApp --> LB\n    ExternalAPI --> LB\n\n    LB --> WebServer1\n    LB --> WebServer2\n    LB --> WebServer3\n\n    WebServer1 --> PrimaryDB\n    WebServer2 --> PrimaryDB\n    WebServer3 --> PrimaryDB\n\n    WebServer1 --> ReadReplica\n    WebServer2 --> ReadReplica\n    WebServer3 --> ReadReplica\n\n    WebServer1 --> Redis\n    WebServer2 --> Redis\n    WebServer3 --> Redis\n\n    Redis --> HorizonWorker1\n    Redis --> HorizonWorker2\n\n    HorizonWorker1 --> PrimaryDB\n    HorizonWorker2 --> PrimaryDB\n\n    WebServer1 --> ReverbServer1\n    WebServer2 --> ReverbServer1\n    WebServer3 --> ReverbServer2\n\n    Browser --> ReverbServer1\n    Browser --> ReverbServer2\n\n    WebServer1 --> Typesense\n    WebServer2 --> Typesense\n    WebServer3 --> Typesense\n\n    WebServer1 --> ObjectStorage\n    WebServer2 --> ObjectStorage\n    WebServer3 --> ObjectStorage\n\n    HorizonWorker1 --> ObjectStorage\n    HorizonWorker2 --> ObjectStorage\n",
  "content_size": 2202,
  "collected_at": "2026-02-06T01:47:36.101763",
  "compilation_status": "failed",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 \"Web Browser\" 和 \"Mobile App\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"Web Browser\" 和 \"Mobile App\"'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Browser",
        "MobileApp"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 \"External API Clients\" 和 \"Load Balancer\" 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"External API Clients\" 和 \"Load Balancer\"'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ExternalAPI",
        "LB"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 \"Web Server 1<br>FrankenPHP + Laravel Octane\" 和 \"Web Server 2<br>FrankenPHP + Laravel Octane\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '\"Web Server 1<br>FrankenPHP + Laravel Octane\" 和 \"Web Server 2<br>FrankenPHP + Laravel Octane\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "WebServer1",
        "WebServer2"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 \"Web Server 3<br>FrankenPHP + Laravel Octane\" 和 \"Horizon Worker 1\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"Web Server 3<br>FrankenPHP + Laravel Octane\" 和 \"Horizon Worker 1\"'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "WebServer3",
        "HorizonWorker1"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 \"Horizon Worker 2\" 和 \"Reverb Server 1\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '\"Horizon Worker 2\" 和 \"Reverb Server 1\"'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "HorizonWorker2",
        "ReverbServer1"
      ],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 \"Reverb Server 2\" 和 (\"Primary Database<br>PostgreSQL\" 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '\"Reverb Server 2\" 和 (\"Primary Database<br>PostgreSQL\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ReverbServer2",
        "PrimaryDB"
      ],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 (\"Read Replica<br>PostgreSQL\" 和 (\"Redis<br>Cache + Queue\" 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '(\"Read Replica<br>PostgreSQL\" 和 (\"Redis<br>Cache + Queue\"'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ReadReplica",
        "Redis"
      ],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 \"Typesense<br>Search Engine\" 和 \"Object Storage<br>Media Files\"。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '\"Typesense<br>Search Engine\" 和 \"Object Storage<br>Media Files\"'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Typesense",
        "ObjectStorage"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 32,
    "repair_count": 0,
    "grounding_acts_count": 16,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}