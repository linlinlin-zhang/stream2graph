{
  "id": "ot_stateDiagram_00343",
  "source": "other",
  "source_url": "https://github.com/sdlcforge/make-help/blob/348126c2607025cc04b01916f85ca669357d6a30/docs/architecture/diagrams/parser-state-machine.mmd",
  "source_type": "github_search_special",
  "github_repo": "sdlcforge/make-help",
  "diagram_type": "stateDiagram",
  "code": "%% Parser State Machine\n%% Shows how the scanner maintains state while processing directives\n\nstateDiagram-v2\n    [*] --> Idle: Start scanning\n\n    Idle --> Idle: Non-doc line\n    Idle --> CollectingDocs: ## directive\n\n    CollectingDocs --> CollectingDocs: ## doc line\n    CollectingDocs --> CollectingDocs: ## !var\n    CollectingDocs --> CollectingDocs: ## !alias\n    CollectingDocs --> CategorySet: ## !category\n    CollectingDocs --> FileDoc: ## !file\n    CollectingDocs --> Idle: target line\n\n    CategorySet --> CollectingDocs: ## doc line\n    CategorySet --> CategorySet: ## !category\n    CategorySet --> Idle: target line\n\n    FileDoc --> Idle: content line\n    FileDoc --> CollectingDocs: ## doc line\n\n    note right of CollectingDocs\n        Pending state includes\n        pendingDocs, pendingVars,\n        pendingAliases, and\n        currentCategory (sticky)\n    end note\n\n    note right of CategorySet\n        Category is STICKY and\n        applies to all subsequent\n        targets until changed\n    end note\n",
  "content_size": 1022,
  "collected_at": "2026-02-06T10:40:58.284443",
  "compilation_status": "success",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "sdlcforge",
  "repo_name": "make-help",
  "repo_description": "undefined",
  "repo_language": "Go",
  "repo_topics": [],
  "repo_created_at": "2025-11-27T18:05:38Z",
  "repo_updated_at": "2026-01-12T22:28:56Z",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 * 和 sticky 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 *处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 3,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '*处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "v2",
        "currentCategory"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 5,
    "repair_count": 1,
    "grounding_acts_count": 2,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}