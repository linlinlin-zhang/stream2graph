{
  "id": "gh_class_00029",
  "source": "github",
  "source_url": "https://github.com/Nasus20202/przetwarzanie-rozproszone/blob/bb7beda9bb1e87fc09f0284218c0df577631592f/diagrams/class.mmd",
  "github_repo": "Nasus20202/przetwarzanie-rozproszone",
  "github_file_path": "diagrams/class.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    Bullet --> Actor : owner\n    Direction --> Actor : direction\n    PowerUp --> Actor : powerUp\n\n    MapTile --> Map : tiles\n\n    Actor --> GameState : actors\n    Map --> GameState : map\n\n    GameState --> ServerGameController : game\n    GameState --> PlayerGameController : game\n\n    class ServerGameController {\n        +GameState game\n        +Socket[] clientSockets\n        +void startGame()\n        +void tick()\n        +void endGame()\n        +void sendGameState()\n    }\n\n    class PlayerGameController {\n        +GameState game\n        +Socket serverSocket\n        +void move(Direction direction)\n        +void shoot()\n    }\n\n    class GameState {\n        +Map map\n        +Actor[] actors\n        +Bullet[] bullets\n        +int timer\n    }\n\n    class Actor {\n        +int x\n        +int y\n        +string name\n        +Direction direction\n        +int score\n        +int shootCooldown\n        +PowerUp powerUp\n        +int powerUpDuration\n        +void setState(Direction state)\n        +void shoot()\n    }\n\n    class Bullet {\n        +int x\n        +int y\n        +Direction direction\n        +Actor owner    \n    }\n\n    class Map {\n        +int width\n        +int height\n        +MapTile[][] tiles\n        +void generateMap()\n        +void placePowerUps()\n    }\n\n    class Direction {\n        <<Enumeration>>\n        GOING_UP = 0\n        GOING_DOWN = 1\n        GOING_LEFT = 2\n        GOING_RIGHT = 3\n        STOPPED = 4\n    }\n\n    class PowerUp {\n        <<Enumeration>>\n        NONE = 0\n        FASTER_BULLETS = 1\n        RAMBO_MODE = 2\n        INVINCIBILITY = 3\n        GHOST_WALK = 4\n        DOUBLE_POINTS = 5\n    }\n\n    class MapTile {\n        <<Enumeration>>\n        EMPTY = 0\n        WALL = 1\n        POWER_UP_FASTER_BULLETS = 11\n        POWER_UP_RAMBO_MODE = 12\n        POWER_UP_INVINCIBILITY = 13\n        POWER_UP_GHOST_WALK = 14\n        POWER_UP_DOUBLE_POINTS = 15\n    }\n\n",
  "content_size": 1904,
  "collected_at": "2026-02-06T01:24:23.452708",
  "compilation_status": "success",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 +GameState game\n        +Socket[ 和 +GameState game\n        +Socket serverSocket\n        +void move(Direction direction 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '+GameState game\n        +Socket[ 和 +GameState game\n        +Socket serverSocket\n        +void move(Direction direction'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ServerGameController",
        "PlayerGameController"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 +Map map\n        +Actor[ 和 +int x\n        +int y\n        +string name\n        +Direction direction\n        +int score\n        +int shootCooldown\n        +PowerUp powerUp\n        +int powerUpDuration\n        +void setState(Direction state 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '+Map map\n        +Actor[ 和 +int x\n        +int y\n        +string name\n        +Direction direction\n        +int score\n        +int shootCooldown\n        +PowerUp powerUp\n        +int powerUpDuration\n        +void setState(Direction state'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "GameState",
        "Actor"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 +int x\n        +int y\n        +Direction direction\n        +Actor owner    \n     和 +int width\n        +int height\n        +MapTile[ 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 +int x\n        +int y\n        +Direction direction\n        +Actor owner    \n    处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '+int x\n        +int y\n        +Direction direction\n        +Actor owner    \n    处理'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Bullet",
        "Map"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 <<Enumeration>>\n        GOING_UP = 0\n        GOING_DOWN = 1\n        GOING_LEFT = 2\n        GOING_RIGHT = 3\n        STOPPED = 4\n     和 <<Enumeration>>\n        NONE = 0\n        FASTER_BULLETS = 1\n        RAMBO_MODE = 2\n        INVINCIBILITY = 3\n        GHOST_WALK = 4\n        DOUBLE_POINTS = 5\n     的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 <<Enumeration>>\n        GOING_UP = 0\n        GOING_DOWN = 1\n        GOING_LEFT = 2\n        GOING_RIGHT = 3\n        STOPPED = 4\n    处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '<<Enumeration>>\n        GOING_UP = 0\n        GOING_DOWN = 1\n        GOING_LEFT = 2\n        GOING_RIGHT = 3\n        STOPPED = 4\n    处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Direction",
        "PowerUp"
      ],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 <<Enumeration>>\n        EMPTY = 0\n        WALL = 1\n        POWER_UP_FASTER_BULLETS = 11\n        POWER_UP_RAMBO_MODE = 12\n        POWER_UP_INVINCIBILITY = 13\n        POWER_UP_GHOST_WALK = 14\n        POWER_UP_DOUBLE_POINTS = 15\n     这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '<<Enumeration>>\n        EMPTY = 0\n        WALL = 1\n        POWER_UP_FASTER_BULLETS = 11\n        POWER_UP_RAMBO_MODE = 12\n        POWER_UP_INVINCIBILITY = 13\n        POWER_UP_GHOST_WALK = 14\n        POWER_UP_DOUBLE_POINTS = 15\n    '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "MapTile"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 22,
    "repair_count": 2,
    "grounding_acts_count": 10,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}