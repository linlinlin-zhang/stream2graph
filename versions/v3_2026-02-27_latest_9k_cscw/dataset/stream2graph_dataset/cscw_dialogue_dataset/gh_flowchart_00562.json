{
  "id": "gh_flowchart_00562",
  "source": "github",
  "source_url": "https://github.com/game-design-driven/Create-Prepare-to-Dye-2/blob/c10307ed76a821fd12886ab18c2be0286c783161/kubejs/data/ptd_trading/simchat/simchat_flow.mmd",
  "github_repo": "game-design-driven/Create-Prepare-to-Dye-2",
  "github_file_path": "kubejs/data/ptd_trading/simchat/simchat_flow.mmd",
  "diagram_type": "flowchart",
  "code": "%%{init:{\"theme\":\"default\",\"flowchart\":{\"curve\":\"linear\"},\"themeCSS\":\".flowchart-link{stroke-dasharray:16 10 !important;stroke-linecap:round !important;animation:dash 1.6s linear infinite !important}@keyframes dash{to{stroke-dashoffset:-52}}marker path{stroke-dasharray:none !important;animation:none !important}\"}}%%\nflowchart LR\n\nsubgraph n_g_usspinspectorwillard[\"usspinspectorwillard (usspinspectorwillard/*)\"]\n  n_usspinspectorwillard_intro(intro — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_ship_where_intro(ship_where_intro — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_leave(leave_denied — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_confused(confused — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_decline_registration(decline_registration — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_change_mind(change_mind — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_explain_registration(explain_registration — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_name_provided(name_provided — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_intent(intent — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_ship_prompt(ship_prompt — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_explain_ship(explain_ship — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_decline_ship(decline_ship — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_give_ship(give_ship — Willard):::n_entity_usspinspectorwillard\n  n_usspinspectorwillard_end(end — Willard):::n_entity_usspinspectorwillard\nend\n\nn_usspinspectorwillard_intro -- \"Sure thing\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_intro -- \"Where am I? What is this? Who are you??\" --> n_usspinspectorwillard_confused\nn_usspinspectorwillard_intro -- \"Where is my ship?\" --> n_usspinspectorwillard_ship_where_intro\nn_usspinspectorwillard_intro -- \"Can I leave?\" --> n_usspinspectorwillard_leave\nn_usspinspectorwillard_ship_where_intro -- \"...Okay\" --> n_usspinspectorwillard_intro\nn_usspinspectorwillard_leave -- \"Fine. Register me\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_leave -- \"I'm not registering\" --> n_usspinspectorwillard_decline_registration\nn_usspinspectorwillard_confused -- \"Alright, fine\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_confused -- \"I'm not part of your shitty union\" --> n_usspinspectorwillard_decline_registration\nn_usspinspectorwillard_confused -- \"Can we just not have a name for our company?\" --> n_usspinspectorwillard_explain_registration\nn_usspinspectorwillard_decline_registration -- \"Oh.. I see, in that case.. Where do I sign?\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_decline_registration -- \"Prefer to not provide a name\" --> n_usspinspectorwillard_explain_registration\nn_usspinspectorwillard_decline_registration -- \"I'll figure it out myself. Goodbye\" --> n_usspinspectorwillard_change_mind\nn_usspinspectorwillard_change_mind -- \"Call me if you change your mind\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_explain_registration -- \"Alright, fine\" --> n_usspinspectorwillard_name_provided\nn_usspinspectorwillard_explain_registration -- \"Yes, put me down without a name\" --> n_usspinspectorwillard_intent\nn_usspinspectorwillard_name_provided -- \"What's next?\" --> n_usspinspectorwillard_intent\nn_usspinspectorwillard_intent -- \"Build a thriving empire\" --> n_usspinspectorwillard_ship_prompt\nn_usspinspectorwillard_intent -- \"Make piles of salt\" --> n_usspinspectorwillard_ship_prompt\nn_usspinspectorwillard_intent -- \"Pay my debts\" --> n_usspinspectorwillard_ship_prompt\nn_usspinspectorwillard_intent -- \"Make the best production lines this system has ever seen\" --> n_usspinspectorwillard_ship_prompt\nn_usspinspectorwillard_intent -- \"No idea\" --> n_usspinspectorwillard_ship_prompt\nn_usspinspectorwillard_ship_prompt -- \"Yes, get me my spaceship\" --> n_usspinspectorwillard_give_ship\nn_usspinspectorwillard_ship_prompt -- \"I have a ship?\" --> n_usspinspectorwillard_explain_ship\nn_usspinspectorwillard_explain_ship -- \"Yes, get me my spaceship\" --> n_usspinspectorwillard_give_ship\nn_usspinspectorwillard_explain_ship -- \"I'll be fine without one, thanks\" --> n_usspinspectorwillard_decline_ship\nn_usspinspectorwillard_decline_ship -- \"On second thought, I do need a ship\" --> n_usspinspectorwillard_give_ship\nn_usspinspectorwillard_give_ship -- \"Thank you\" --> n_usspinspectorwillard_end\n\n    %% Entity color classes\n    classDef n_entity_usspinspectorwillard stroke:#d41b43,stroke-width:3px,rx:12\n\n    %% Special node classes\n    classDef missingNode stroke:#E74C3C,stroke-width:2px,stroke-dasharray:5,rx:8\n",
  "content_size": 4825,
  "collected_at": "2026-02-06T01:45:10.567384",
  "compilation_status": "failed",
  "license": "cc0-1.0",
  "license_name": "Creative Commons Zero v1.0 Universal",
  "license_url": "https://api.github.com/licenses/cc0-1.0",
  "repo_stars": 3,
  "repo_forks": 4,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 stroke-dasharray:16 10 !important;stroke-linecap:round !important;animation:dash 1.6s linear infinite !important 和 to{stroke-dashoffset:-52。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'stroke-dasharray:16 10 !important;stroke-linecap:round !important;animation:dash 1.6s linear infinite !important 和 to{stroke-dashoffset:-52'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "link",
        "dash"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 stroke-dasharray:none !important;animation:none !important 和 \"usspinspectorwillard (usspinspectorwillard/*。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'stroke-dasharray:none !important;animation:none !important 和 \"usspinspectorwillard (usspinspectorwillard/*'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "path",
        "n_g_usspinspectorwillard"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 intro — Willard 和 ship_where_intro — Willard 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'intro — Willard 和 ship_where_intro — Willard'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_intro",
        "n_usspinspectorwillard_ship_where_intro"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 leave_denied — Willard 和 confused — Willard 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'leave_denied — Willard 和 confused — Willard'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_leave",
        "n_usspinspectorwillard_confused"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 decline_registration — Willard 和 change_mind — Willard 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'decline_registration — Willard 和 change_mind — Willard'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_decline_registration",
        "n_usspinspectorwillard_change_mind"
      ],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 explain_registration — Willard 和 name_provided — Willard 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'explain_registration — Willard 和 name_provided — Willard'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_explain_registration",
        "n_usspinspectorwillard_name_provided"
      ],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 intent — Willard 和 ship_prompt — Willard 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'intent — Willard 和 ship_prompt — Willard'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_intent",
        "n_usspinspectorwillard_ship_prompt"
      ],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 explain_ship — Willard 和 decline_ship — Willard 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'explain_ship — Willard 和 decline_ship — Willard'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_explain_ship",
        "n_usspinspectorwillard_decline_ship"
      ],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 give_ship — Willard 和 end — Willard 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 give_ship — Willard处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 35,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'give_ship — Willard处理'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "n_usspinspectorwillard_give_ship",
        "n_usspinspectorwillard_end"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 37,
    "repair_count": 1,
    "grounding_acts_count": 18,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}