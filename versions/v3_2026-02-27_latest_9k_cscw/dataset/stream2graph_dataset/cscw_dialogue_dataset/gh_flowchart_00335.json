{
  "id": "gh_flowchart_00335",
  "source": "github",
  "source_url": "https://github.com/JanDuchscherer104/NBV/blob/d39856848579411ee062f2e0a1dca498f7100a56/docs/figures/diagrams/mermaid/semidense_proj.mmd",
  "github_repo": "JanDuchscherer104/NBV",
  "github_file_path": "docs/figures/diagrams/mermaid/semidense_proj.mmd",
  "diagram_type": "flowchart",
  "code": "---\nconfig:\n  htmlLabels: true\n  flowchart:\n    htmlLabels: true\n    nodeSpacing: 20\n    rankSpacing: 32\n  layout: elk\n  themeVariables:\n    fontSize: \"18px\"\n  themeCSS: |\n    .nodeLabel { font-size: 18px; }\n    .edgeLabel { font-size: 16px; }\n---\nflowchart TB\n  %% Semidense projection stats (compact)\n\n  SemPts[\"semidense_points\"]\n  Cam[\"C_q (candidate cameras)\"]\n  Proj[\"<b>Screen-space projection</b><br/><br/><code>Pi(x) = transform_points_screen(C_q, x)</code>\"]\n  Stats[\"<b>Projection statistics</b><br/><br/><code>proj_data = Pi(semidense_points)</code><br/><code>proj_data = {x_s, y_s, z_s, valid, finite, ...}</code><br/><br/><code>semidense_proj = _encode_semidense_projection_features(proj_data)</code><br/><code>[coverage, empty_frac, v_sem, mu_z, sigma_z]</code>\"]\n  Out[\"semidense_proj\"]\n\n  SemPts -->|\"FloatTensor[B, P,<br/>C_sem]\"| Proj\n  Cam -->|\"PerspectiveCameras[B*N_q]\"| Proj\n  Proj -->|\"FloatTensor[B, N_q, P]<br/>BoolTensor[B, N_q, P]\"| Stats\n  Stats -->|\"FloatTensor[B, N_q,<br/>F_proj]\"| Out\n\n  classDef input fill:#D5E8D4,stroke:#82B366,stroke-width:1.5px,rx:0,ry:0;\n  classDef output fill:#F8CECC,stroke:#B85450,stroke-width:1.5px,rx:0,ry:0;\n  classDef compute fill:#E1D5E7,stroke:#9673A6,stroke-width:1.5px,rx:8,ry:8;\n  classDef data fill:#F5F5F5,stroke:#9E9E9E,stroke-width:1.2px,rx:0,ry:0;\n\n  class SemPts,Cam input;\n  class Proj,Stats compute;\n  class Out output;\n",
  "content_size": 1396,
  "collected_at": "2026-02-06T01:43:29.355655",
  "compilation_status": "failed",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 1,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 font-size: 18px;  和 font-size: 16px; 。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'font-size: 18px;  和 font-size: 16px; '，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "nodeLabel",
        "edgeLabel"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 compact 和 \"semidense_points\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'compact 和 \"semidense_points\"'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "stats",
        "SemPts"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 \"C_q (candidate cameras 和 \"<b>Screen-space projection</b><br/><br/><code>Pi(x 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"C_q (candidate cameras 和 \"<b>Screen-space projection</b><br/><br/><code>Pi(x'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Cam",
        "Proj"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 C_q, x 和 \"<b>Projection statistics</b><br/><br/><code>proj_data = Pi(semidense_points 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'C_q, x 和 \"<b>Projection statistics</b><br/><br/><code>proj_data = Pi(semidense_points'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "transform_points_screen",
        "Stats"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 proj_data 和 \"semidense_proj\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'proj_data 和 \"semidense_proj\"'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "_encode_semidense_projection_features",
        "Out"
      ],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 B, P,<br/>C_sem 和 B*N_q 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'B, P,<br/>C_sem 和 B*N_q'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "FloatTensor",
        "PerspectiveCameras"
      ],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 B, N_q, P 和 B, N_q, P 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 B, N_q, P处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 27,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'B, N_q, P处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "FloatTensor",
        "BoolTensor"
      ],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 B, N_q,<br/>F_proj 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'B, N_q,<br/>F_proj'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "FloatTensor"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 33,
    "repair_count": 1,
    "grounding_acts_count": 16,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}