{
  "id": "gh_class_01533",
  "source": "github",
  "source_url": "https://github.com/NLRWindSystems/WOMBAT/blob/9ff7d00200249f55f47ad70455ca2ae52f2a87ad/docs/images/data_classes.mmd",
  "github_repo": "NLRWindSystems/WOMBAT",
  "github_file_path": "docs/images/data_classes.mmd",
  "diagram_type": "class",
  "code": "%%{init: {'theme':'base'}}%%\nclassDiagram\n    direction BT\n    class FromDictMixin{\n        from_dict(cls, data)\n    }\n    class Failure{\n        level: int\n        scale: float\n        shape: float\n        time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str]\n        system_value: float\n        weibull\n        request_id: str\n        assign_id(request_id: str)\n        hours_to_next_failure() float\n    }\n    class Maintenance{\n        time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str]\n        system_value: float\n        request_id: str\n        assign_id(request_id: str)\n    }\n    class RepairRequest{\n        cable: bool\n        details: Failure | Maintenance\n        request_id: str\n        severity_level: int\n        subassembly_id: str\n        subassembly_name: str\n        system_id: str\n        system_name: str\n        upstream_turbines: list[str]\n        assign_id(request_id: str)\n    }\n    class ServiceEquipmentData{\n        data_dict: dict\n        strategy: str\n        determine_type()\n    }\n    class ServiceCrew{\n        day_rate: float\n        hourly_rate: float\n        n_day_rate: int\n        n_hourly_rate: int\n    }\n    class ScheduledServiceEquipmentData{\n        name: str\n        capability: list[str]\n        equipment_rate: float\n        crew: ServiceCrew\n        n_crews: int\n        crew_transfer_time: float\n        start_day: int\n        start_month: int\n        end_day: int\n        end_month: int\n        start_year: int\n        end_year: int\n        strategy: str\n        onsite: bool\n        workday_start: int\n        workday_end: int\n        method: str\n        mobilization_cost: float\n        mobilization_days: int\n        speed: float\n        max_waveheight_repair: float\n        max_waveheight_transport: float\n        max_windspeed_repair: float\n        max_windspeed_transport: float\n        operating_dates: numpy.ndarray\n        create_date_range()\n    }\n    class UnscheduledServiceEquipmentData{\n        name: str\n        capability: list[str]\n        equipment_rate: float\n        crew: ServiceCrew\n        n_crews: int\n        crew_transfer_time: float\n        charter_days: int\n        strategy: str\n        strategy_threshold: int | float\n        workday_start: int\n        workday_end: int\n        method: str\n        mobilization_cost: float\n        mobilization_days: int\n        speed: float\n        tow_sped: float\n        speed_reduction_factor: float\n        max_waveheight_repair: float\n        max_waveheight_transport: float\n        max_windspeed_repair: float\n        max_windspeed_transport: float\n        port_distance: float\n        unmoor_hours: float\n        reconnection_hours: float\n        onsite: bool\n    }\n    class PortConfig{\n        name: str\n        tugboats: list[UnscheduledServiceEquipmentData]\n        crew: ServiceCrew\n        n_crews: int\n        max_operations: int\n        workday_start: int\n        workday_end: int\n        site_distance: float\n        annual_fee: float\n    }\n    class SubassemblyData{\n        name: str\n        system_value: float\n        failures: dict[int, Failure]\n        maintenance: list[Maintenance]\n    }\n    class FixedCosts{\n        operations: float\n        annual_lease_fees: float\n        brokers_fee: float\n        business_interruption: float\n        condition_monitoring: float\n        environmental_health_safety_monitoring: float\n        insurance: float\n        labor: float\n        marine_management: float\n        onshore_electrical_maintenance: float\n        operating_facilities: float\n        operations_all_risk: float\n        operations_management_administration: float\n        project_management_administration: float\n        storm_coverage: float\n        submerge_land_lease_costs: float\n        third_party_liability: float\n        transmission_charges_rights: float\n        weather_forecasting: float\n        hierarchy: dict\n        resolution: dict\n        cost_category_validator(name: str, sub_name: list[str])\n    }\n\n    class ServiceEquipment{\n        env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: ScheduledServiceEquipmentData | UnscheduledServiceEquipmentData\n        at_port: bool\n        at_system: bool\n        onsite: bool\n        enroute: bool\n        transferring_crew: bool\n        current_system: bool\n        calculate_equipment_cost(duration: float)\n        calculate_hourly_cost(duration: float)\n        calculate_salary_cost(duration: float)\n        find_interrupted_weather_window(hours_required: float)\n        find_uninterrupted_weather_window(hours_required: float)\n        run_scheduled()\n        run_unscheduled()\n        mobilize()\n        mobilize_scheduled()\n        weather_delay(hours: float)\n        wait_until_next_shift()\n        wait_until_next_operational_period()\n        proces_repair(request: RepairRequest, time_processed: float, prior_operational_level: float)\n        crew_transfer(system: System, subassembly: Subassembly, requests: RepairRequest, to_system: bool)\n        repair(hours: float, request_details: Failure | Maintenance)\n        travel(start: str, end: str, set_current: str)\n    }\n\n    class System{\n        env: WombatEnvironment\n        id: str\n        name: str\n        operating_level: float\n        operating_level_wo_servicing: float\n        power_curve: Callable\n        repair_manager: RepairManager\n        servicing: bool\n        value: float\n        cable_failure: bool\n        capacity: float\n        subassemblies: list[Subassembly]\n        electrical_system: Subasembly\n        electronic_control: Subasembly\n        gearbox: Subasembly\n        generator: Subasembly\n        hydraulic_system: Subasembly\n        mechanical_brake: Subasembly\n        rotor_blades: Subasembly\n        rotor_hub: Subasembly\n        sensors: Subasembly\n        supporting_structure: Subasembly\n        yaw_system: Subasembly\n        transformer: Subasembly\n        power(windspeed: float | numpy.ndaray)\n        interrupt_all_subassembly_processes()\n    }\n    class Subassembly{\n        id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        operating_level: float\n        turbine: System\n        processes: dict\n        run_single_failure(failure: Failure)\n        run_single_maintenance(maintenance: Maintenance)\n        interrupt_processes()\n        interrupt_all_subassembly_processes()\n    }\n    class Cable{\n        id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        servicing: bool\n        downstream_failure: bool\n        processes: dict\n        operating_level: float\n        operating_level_wo_servicing: float\n        repair_manager: RepairManager\n        servicing: bool\n        value: float\n        cable_failure: bool\n        capacity: float\n        run_single_failure(failure: Failure)\n        run_single_maintenance(maintenance: Maintenance)\n        interrupt_processes()\n        interrupt_all_subassembly_processes()\n        stop_all_upstream_processes()\n    }\n\n    class Port{\n        env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: PortConfig\n        turbine_manager: simpy.Resource\n        crew_manager: simpy.Resource\n        tugboat_manager: simpy.Resource\n        active_repairs: dict[str, dict[str, simpy.events.Event]]\n        wait_until_next_shift()\n        proces_repair(request: RepairRequest, time_processed: float, prior_operational_level: float)\n        repair_single(request: RepairRequest)\n        transfer_requests_from_manager(system_id: str)\n        run_repairs(system_id: str)\n        run_tow_to_port(request: RepairRequest)\n        run_unscheduled_in_situ(request: RepairRequest)\n    }\n\n    ScheduledServiceEquipmentData <.. ServiceCrew\n    UnscheduledServiceEquipmentData <.. ServiceCrew\n    ServiceEquipmentData <.. ScheduledServiceEquipmentData\n    ServiceEquipmentData <.. UnscheduledServiceEquipmentData\n\n    FixedCosts *-- FromDictMixin\n    Failure *-- FromDictMixin\n    Maintenance *-- FromDictMixin\n    RepairRequest *-- FromDictMixin\n    ServiceCrew *-- FromDictMixin\n    ScheduledServiceEquipmentData *-- FromDictMixin\n    UnscheduledServiceEquipmentData *-- FromDictMixin\n    PortConfig *-- FromDictMixin\n    SubassemblyData *-- FromDictMixin\n\n    Port *-- PortConfig\n    ServiceEquipment *-- ServiceEquipmentData\n\n    RepairRequest <.. Failure\n    RepairRequest <.. Maintenance\n\n    RepairRequest <-- Subassembly\n    RepairRequest <-- System\n    RepairRequest <-- Cable\n\n    SubassemblyData <|.. Failure\n    SubassemblyData <|.. Maintenance\n    Cable <|.. SubassemblyData\n    Subassembly <|.. SubassemblyData\n\n\n    %% mmdc -i data_classes.mmd -o data_classes.svg\n    %% mmdc -i data_classes.mmd -o data_classes.png -w 2400 -b transparent\n",
  "content_size": 8971,
  "collected_at": "2026-02-06T01:59:01.402156",
  "compilation_status": "failed",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 26,
  "repo_forks": 21,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 from_dict(cls, data 和 level: int\n        scale: float\n        shape: float\n        time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'from_dict(cls, data 和 level: int\n        scale: float\n        shape: float\n        time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "FromDictMixin",
        "Failure"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 request_id: str 和 time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'request_id: str 和 time: float\n        materials: float\n        description: str\n        operation_reduction: float\n        service_equipment: list[str'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "assign_id",
        "Maintenance"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 request_id: str 和 cable: bool\n        details: Failure | Maintenance\n        request_id: str\n        severity_level: int\n        subassembly_id: str\n        subassembly_name: str\n        system_id: str\n        system_name: str\n        upstream_turbines: list[str 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'request_id: str 和 cable: bool\n        details: Failure | Maintenance\n        request_id: str\n        severity_level: int\n        subassembly_id: str\n        subassembly_name: str\n        system_id: str\n        system_name: str\n        upstream_turbines: list[str'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "assign_id",
        "RepairRequest"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 request_id: str 和 data_dict: dict\n        strategy: str\n        determine_type( 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'request_id: str 和 data_dict: dict\n        strategy: str\n        determine_type('？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "assign_id",
        "ServiceEquipmentData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 day_rate: float\n        hourly_rate: float\n        n_day_rate: int\n        n_hourly_rate: int\n     和 name: str\n        capability: list[str 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'day_rate: float\n        hourly_rate: float\n        n_day_rate: int\n        n_hourly_rate: int\n     和 name: str\n        capability: list[str'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ServiceCrew",
        "ScheduledServiceEquipmentData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 name: str\n        capability: list[str 和 name: str\n        tugboats: list[UnscheduledServiceEquipmentData。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'name: str\n        capability: list[str 和 name: str\n        tugboats: list[UnscheduledServiceEquipmentData'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "UnscheduledServiceEquipmentData",
        "PortConfig"
      ],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 name: str\n        system_value: float\n        failures: dict[int, Failure 和 Maintenance 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'name: str\n        system_value: float\n        failures: dict[int, Failure 和 Maintenance'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "SubassemblyData",
        "list"
      ],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 operations: float\n        annual_lease_fees: float\n        brokers_fee: float\n        business_interruption: float\n        condition_monitoring: float\n        environmental_health_safety_monitoring: float\n        insurance: float\n        labor: float\n        marine_management: float\n        onshore_electrical_maintenance: float\n        operating_facilities: float\n        operations_all_risk: float\n        operations_management_administration: float\n        project_management_administration: float\n        storm_coverage: float\n        submerge_land_lease_costs: float\n        third_party_liability: float\n        transmission_charges_rights: float\n        weather_forecasting: float\n        hierarchy: dict\n        resolution: dict\n        cost_category_validator(name: str, sub_name: list[str 和 env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: ScheduledServiceEquipmentData | UnscheduledServiceEquipmentData\n        at_port: bool\n        at_system: bool\n        onsite: bool\n        enroute: bool\n        transferring_crew: bool\n        current_system: bool\n        calculate_equipment_cost(duration: float。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'operations: float\n        annual_lease_fees: float\n        brokers_fee: float\n        business_interruption: float\n        condition_monitoring: float\n        environmental_health_safety_monitoring: float\n        insurance: float\n        labor: float\n        marine_management: float\n        onshore_electrical_maintenance: float\n        operating_facilities: float\n        operations_all_risk: float\n        operations_management_administration: float\n        project_management_administration: float\n        storm_coverage: float\n        submerge_land_lease_costs: float\n        third_party_liability: float\n        transmission_charges_rights: float\n        weather_forecasting: float\n        hierarchy: dict\n        resolution: dict\n        cost_category_validator(name: str, sub_name: list[str 和 env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: ScheduledServiceEquipmentData | UnscheduledServiceEquipmentData\n        at_port: bool\n        at_system: bool\n        onsite: bool\n        enroute: bool\n        transferring_crew: bool\n        current_system: bool\n        calculate_equipment_cost(duration: float'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "FixedCosts",
        "ServiceEquipment"
      ],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 duration: float 和 duration: float。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'duration: float 和 duration: float'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "calculate_hourly_cost",
        "calculate_salary_cost"
      ],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 hours_required: float 和 hours_required: float 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 38,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'hours_required: float 和 hours_required: float'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 39,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 40,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "find_interrupted_weather_window",
        "find_uninterrupted_weather_window"
      ],
      "is_repair": false
    },
    {
      "turn_id": 41,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 hours: float 和 request: RepairRequest, time_processed: float, prior_operational_level: float。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 42,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'hours: float 和 request: RepairRequest, time_processed: float, prior_operational_level: float'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 43,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 44,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "weather_delay",
        "proces_repair"
      ],
      "is_repair": false
    },
    {
      "turn_id": 45,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 system: System, subassembly: Subassembly, requests: RepairRequest, to_system: bool 和 hours: float, request_details: Failure | Maintenance。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 46,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'system: System, subassembly: Subassembly, requests: RepairRequest, to_system: bool 和 hours: float, request_details: Failure | Maintenance'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 47,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 48,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "crew_transfer",
        "repair"
      ],
      "is_repair": false
    },
    {
      "turn_id": 49,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 start: str, end: str, set_current: str 和 env: WombatEnvironment\n        id: str\n        name: str\n        operating_level: float\n        operating_level_wo_servicing: float\n        power_curve: Callable\n        repair_manager: RepairManager\n        servicing: bool\n        value: float\n        cable_failure: bool\n        capacity: float\n        subassemblies: list[Subassembly 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 50,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 start: str, end: str, set_current: str处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 51,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'start: str, end: str, set_current: str处理'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 52,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 53,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "travel",
        "System"
      ],
      "is_repair": false
    },
    {
      "turn_id": 54,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 windspeed: float | numpy.ndaray 和 id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        operating_level: float\n        turbine: System\n        processes: dict\n        run_single_failure(failure: Failure。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 55,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'windspeed: float | numpy.ndaray 和 id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        operating_level: float\n        turbine: System\n        processes: dict\n        run_single_failure(failure: Failure'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 56,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 57,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "power",
        "Subassembly"
      ],
      "is_repair": false
    },
    {
      "turn_id": 58,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 maintenance: Maintenance 和 id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        servicing: bool\n        downstream_failure: bool\n        processes: dict\n        operating_level: float\n        operating_level_wo_servicing: float\n        repair_manager: RepairManager\n        servicing: bool\n        value: float\n        cable_failure: bool\n        capacity: float\n        run_single_failure(failure: Failure 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 59,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'maintenance: Maintenance 和 id: str\n        name: str\n        env: WombatEnvironment\n        data: SubassemblyData\n        broken: bool\n        servicing: bool\n        downstream_failure: bool\n        processes: dict\n        operating_level: float\n        operating_level_wo_servicing: float\n        repair_manager: RepairManager\n        servicing: bool\n        value: float\n        cable_failure: bool\n        capacity: float\n        run_single_failure(failure: Failure'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 60,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 61,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "run_single_maintenance",
        "Cable"
      ],
      "is_repair": false
    },
    {
      "turn_id": 62,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 maintenance: Maintenance 和 env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: PortConfig\n        turbine_manager: simpy.Resource\n        crew_manager: simpy.Resource\n        tugboat_manager: simpy.Resource\n        active_repairs: dict[str, dict[str, simpy.events.Event 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 63,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'maintenance: Maintenance 和 env: WombatEnvironment\n        manager: RepairManager\n        windfarm: Windfarm\n        settings: PortConfig\n        turbine_manager: simpy.Resource\n        crew_manager: simpy.Resource\n        tugboat_manager: simpy.Resource\n        active_repairs: dict[str, dict[str, simpy.events.Event'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 64,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 65,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "run_single_maintenance",
        "Port"
      ],
      "is_repair": false
    },
    {
      "turn_id": 66,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 request: RepairRequest, time_processed: float, prior_operational_level: float 和 request: RepairRequest 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 67,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'request: RepairRequest, time_processed: float, prior_operational_level: float 和 request: RepairRequest'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 68,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 69,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "proces_repair",
        "repair_single"
      ],
      "is_repair": false
    },
    {
      "turn_id": 70,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 system_id: str 和 system_id: str 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 71,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'system_id: str 和 system_id: str'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 72,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 73,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "transfer_requests_from_manager",
        "run_repairs"
      ],
      "is_repair": false
    },
    {
      "turn_id": 74,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 request: RepairRequest 和 request: RepairRequest 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 75,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'request: RepairRequest 和 request: RepairRequest'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 76,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 77,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "run_tow_to_port",
        "run_unscheduled_in_situ"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 77,
    "repair_count": 1,
    "grounding_acts_count": 38,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  }
}