{
  "id": "aug_ot_stateDiagram_00369_IoT_2",
  "source": "augmented_real_structure",
  "source_url": "https://github.com/zone17/sovren/blob/d3da3358e52da6ae6b2365e89401eca50f337a0c/docs/architecture/diagrams/us-e5-025-payment-state-machine.mmd",
  "source_type": "github_search_special",
  "github_repo": "zone17/sovren",
  "diagram_type": "stateDiagram",
  "code": "stateDiagram-v2\n    [IoT_Industrial_EdgeNode] --> PENDING: Invoice Created\n\n    PENDING --> PROCESSING: Payment Initiated\n    PENDING --> CANCELLED: User Cancelled\n    PENDING --> EXPIRED: Timeout Reached\n\n    PROCESSING --> COMPLETED: Payment Verified\n    PROCESSING --> FAILED: Payment Error\n\n    FAILED --> PENDING: Retry Payment\n\n    COMPLETED --> PARTIALLY_REFUNDED: Partial Refund\n    COMPLETED --> REFUNDED: Full Refund\n\n    PARTIALLY_REFUNDED --> REFUNDED: Remaining Refund\n\n    CANCELLED --> [IoT_Industrial_EdgeNode]\n    EXPIRED --> [IoT_Industrial_TelemetryStream]\n    REFUNDED --> [IoT_Industrial_ActuatorController]\n\n    note right of PENDING\n        Invoice awaiting payment\n        Valid for 1 hour (IoT_Industrial_PLC_Logic)\n    end note\n\n    note right of PROCESSING\n        Payment being verified\n        Transaction in progress\n    end note\n\n    note right of COMPLETED\n        Payment successful\n        Preimage verified\n    end note\n\n    note right of FAILED\n        Payment failed\n        Retryable errors can\n        transition back to PENDING\n    end note\n\n    note right of REFUNDED\n        Full or partial refund\n        completed\n    end note\n",
  "content_size": 1049,
  "collected_at": "2026-02-06T10:41:19.130223",
  "compilation_status": "success",
  "license": "other_source",
  "license_name": "Other Source (GitHub-based)",
  "compilation_error": "",
  "augmentation_domain": "IoT_Industrial",
  "seed_id": "ot_stateDiagram_00369",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 IoT_Industrial_EdgeNode 和 IoT_Industrial_PLC_Logic 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 IoT_Industrial_EdgeNode处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 3,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'IoT_Industrial_EdgeNode处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "v2",
        "hour"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 5,
    "repair_count": 1,
    "grounding_acts_count": 2,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:35Z"
}