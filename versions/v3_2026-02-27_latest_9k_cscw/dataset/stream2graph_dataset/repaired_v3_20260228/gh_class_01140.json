{
  "id": "gh_class_01140",
  "source": "github",
  "source_url": "https://github.com/miong/pycodeanalyzer/blob/6728d8f77385a1145db67952167710cf412b2343/docs/source/code/diagrams/pycodeanalyzer_ui_engineinterface_EngineCommands.mmd",
  "github_repo": "miong/pycodeanalyzer",
  "github_file_path": "docs/source/code/diagrams/pycodeanalyzer_ui_engineinterface_EngineCommands.mmd",
  "diagram_type": "class",
  "code": "classDiagram\nclass EngineCommands {\n<<Class>>\n+ Engine engine\n+ Any logger\n+Constructor(Engine engine) None\n+requestAnalysisStats() None\n+requestClasseNames() None\n+requestEnumNames() None\n+requestFunctionNames() None\n+requestFileNames() None\n+requestClassData(str className) None\n+requestEnumData(str enumName) None\n+requestFunctionData(str functionDef) None\n+requestFileData(str fileName) None\n+requestSearchData(str token) None\n+setUsedByActivation(bool activated) None\n+requestUsedByUse() None\n}\nclass Engine {\n<<Class>>\n+ FileFetcher fileFetcher\n+ FileDispatcher fileDispatcher\n+ IdentityAnalyser identityAnalyser\n+ DependancyAnalyser dependancyAnalyser\n+ SearchAnalyser searchAnalyser\n+ UiStatListener uiStatListener\n+ UiBrowseListener uiBrowseListener\n+ PieCharBuild pieCharBuild\n+ ClassDiagramBuild classDiagramBuild\n+ Configuration configuration\n+ List&lt;Tuple&lt;str,List&lt;str&gt;&gt;&gt; roots\n+ int nbFiles\n+ bool useByActivated\n+ Any stats\n+ Any logger\n+Constructor(FileFetcher fileFetcher, FileDispatcher fileDispatcher, IdentityAnalyser identityAnalyser, DependancyAnalyser dependancyAnalyser, SearchAnalyser searchAnalyser, UiStatListener uiStatListener, UiBrowseListener uiBrowseListener, ClassDiagramBuild classDiagramBuild, PieCharBuild pieCharBuild, Configuration configuration) None\n+reset() None\n+run(Any args) None\n+recordStats(float duration) None\n+sendAnalysisStats() None\n+sendClasseNames() None\n+sendEnumNames() None\n+sendFunctionNames() None\n+sendFileNames() None\n+sendClassData(str className) None\n+sendEnumData(str enumName) None\n+sendFunctionData(str functionDef) None\n+sendFileData(str fileName) None\n+sendSearchResult(str token) None\n+doExport(str exportPath, str exportFormat) None\n+setUsedByActivation(bool activated) None\n+requestUsedByUse() None\n}\nlink Engine \"class££pycodeanalyzer::core::engine::engine::Engine\"\nEngineCommands ..> Engine\n",
  "content_size": 1880,
  "collected_at": "2026-02-06T01:53:32.625288",
  "compilation_status": "success",
  "compilation_error": "",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 7,
  "repo_forks": 0,
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 <<Class>>\n+ Engine engine\n+ Any logger\n+Constructor(Engine engine 和 str className。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '<<Class>>\n+ Engine engine\n+ Any logger\n+Constructor(Engine engine 和 str className'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "EngineCommands",
        "requestClassData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 str enumName 和 str functionDef 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 str enumName处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 7,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'str enumName处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "requestEnumData",
        "requestFunctionData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 str fileName 和 str token 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'str fileName 和 str token'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "requestFileData",
        "requestSearchData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 bool activated 和 <<Class>>\n+ FileFetcher fileFetcher\n+ FileDispatcher fileDispatcher\n+ IdentityAnalyser identityAnalyser\n+ DependancyAnalyser dependancyAnalyser\n+ SearchAnalyser searchAnalyser\n+ UiStatListener uiStatListener\n+ UiBrowseListener uiBrowseListener\n+ PieCharBuild pieCharBuild\n+ ClassDiagramBuild classDiagramBuild\n+ Configuration configuration\n+ List&lt;Tuple&lt;str,List&lt;str&gt;&gt;&gt; roots\n+ int nbFiles\n+ bool useByActivated\n+ Any stats\n+ Any logger\n+Constructor(FileFetcher fileFetcher, FileDispatcher fileDispatcher, IdentityAnalyser identityAnalyser, DependancyAnalyser dependancyAnalyser, SearchAnalyser searchAnalyser, UiStatListener uiStatListener, UiBrowseListener uiBrowseListener, ClassDiagramBuild classDiagramBuild, PieCharBuild pieCharBuild, Configuration configuration。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 bool activated处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'bool activated处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "setUsedByActivation",
        "Engine"
      ],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 Any args 和 float duration 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'Any args 和 float duration'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "run",
        "recordStats"
      ],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 str className 和 str enumName 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'str className 和 str enumName'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "sendClassData",
        "sendEnumData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 str functionDef 和 str fileName 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'str functionDef 和 str fileName'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "sendFunctionData",
        "sendFileData"
      ],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 str token 和 str exportPath, str exportFormat 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'str token 和 str exportPath, str exportFormat'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "sendSearchResult",
        "doExport"
      ],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 bool activated 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'bool activated'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 38,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "setUsedByActivation"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 38,
    "repair_count": 2,
    "grounding_acts_count": 18,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:24Z"
}