{
  "id": "gh_class_01187",
  "source": "github",
  "source_url": "https://github.com/BobKerns/gltf_builder/blob/dc5207d24b6750b0e349584aaf1e20b6a1f66899/docs/img/input_classes.mmd",
  "github_repo": "BobKerns/gltf_builder",
  "github_file_path": "docs/img/input_classes.mmd",
  "diagram_type": "class",
  "code": "---\nid: 32ebe867-fd1e-4736-a01e-b6dd7512fc13\ntitle: Input Classes\ndescription: |\n  This diagram shows the input classes used in the glTF 2.0 specification.\n  It includes the main classes and their relationships, as well as the\n  extensions and plugins used in the specification.\nconfig:\n    layout: elk\n    elk:\n        mergeEdges: true\n        nodePlacementStrategy: BRANDES_KOEPF\n    theme: base\n    themeVariables:\n        darkMode: false\n        darkModeBackground: \"#000000\"\n        primaryColor: \"#e0ffe0\"\n        primaryTextColor: \"#000000\"\n        secondaryColor: \"#f0d0ff\"\n        secondaryTextColor: \"#0000ff\"\n        tertiaryColor: \"#00ffff\"\n        tertiaryTextColor: \"#00ff00\"\n        borderRadius: \"0.25rem\"\n        fontSize: \"1rem\"\n        fontFamily: \"Arial, sans-serif\"\n        background: \"#00ff00\"\n        lineColor: \"#0000cc\"\n        nodeBorder: \"#0000ff\"\n        noteColor: \"#00ffff\"\n---\nclassDiagram\n\n    note for BBuffer \"Buffers hold the binary data arrays, such as vertices, attributes, and texture images.\"\n    class ScopeName {\n        <<enumeration>>\n        ASSET: str\n        PRIMITIVE: str\n        MESH: str\n        NODE: str\n        BUFFER_VIEW: str\n        ACCESSOR: str\n        ACCESSOR_INDEX: str\n        BUFFER: str\n        BUILDER: str\n        IMAGE: str\n        MATERIAL: str\n        TEXTURE: str\n        CAMERA: str\n        SAMPLER: str\n        SKIN: str\n        SCENE: str\n        EXTENSION: str\n        ANIMATION: str\n        ANIMATION_CHANNEL: str\n        ANIMATION_SAMPLER: str\n    }\n\n    class _Compilable {\n        <<interface>>\n        _entity_type: EntityType\n        -name: str\n        -extensions: ExtensionsData\n        -extras: ExtrasData\n        -extension_objects: set[Extension]\n        +name_scope: bool\n        +view_scope: bool\n        +state_type(): type[_STATE]\n    }\n\n    class Builder {\n        -index_size: Optional[IndexSize]\n        -name_policy: Optional[NamePolicy]\n        -extras: Optional[dict]\n        -extensions: Optional[dict]\n        +build(): gltf.GLTF2\n    }\n\n    class _NodeContainerProtocol {\n        <<interface>>\n        +__len__(): int\n        +__getitem__(name: str): BNode\n        +__setitem__(name: str, node: BNode)\n        +__contains__(name: str): bool\n        +__iter__(): Iterable[BNode]\n    }\n\n    class _GlobalShared {\n        <<interface>>\n    }\n\n    class Entity {\n        <<interface>>\n    }\n\n    class Plugin {\n        +name: str\n        +version: str\n        semver: Version\n        +author: str\n        summary: str\n        requiresPython: Version\n    }\n    class Extension {\n        +name: str\n        +compile_*(...)\n    }\n    Extension --> Plugin : plugin\n    Plugin *--> ExtensionClass : extension_class\n    Extension --|> ExtensionClass\n\n    _NodeContainer <|-- Builder\n    _GlobalShared <|-- Builder\n    _NodeContainerProtocol <|-- _NodeContainer\n    _NodeContainerProtocol <|-- _GlobalShared\n    _GlobalShared <|-- _CurrentConfiguration\n\n    _Compilable <|-- Entity\n    Entity <|-- BNode\n    Entity <|-- BBuffer\n    Entity <|-- BBufferView\n    Entity <|-- BAccessor\n    Entity <|-- BTexture\n    Entity <|-- BImage\n    Entity <|-- BSampler\n    Entity <|-- BMaterial\n    Entity <|-- BMesh\n    Entity <|-- BCamera\n    Entity <|-- BScene\n    Entity <|-- BSkin\n    Entity <|-- BAnimation\n    Entity <|-- BAnimationChannel\n    Entity <|-- BAnimationSampler\n    Entity <|-- Extension\n\n    BSkin --> \"1\" BNode : skeleton\n    BSkin --> \"*\" BNode : joints\n    BSkin *--> \"0..1\" BAccessor : inverseBindMatrices\n\n    BTexture --> BImage : source\n    BTexture --> BSampler : sampler\n\n    BMaterial --> \"0..1\" BTexture : baseColorTexture\n    BMaterial --> \"0..1\" BTexture : metallicRoughnessTexture\n    BMaterial --> \"0..1\" BTexture : normalTexture\n    BMaterial --> \"0..1\" BTexture : occlusionTexture\n    BMaterial --> \"0..1\" BTexture : emissiveTexture\n\n    class BMesh:::User\n    class BScene:::User\n    class BNode:::User\n    class BCamera:::User\n    class BBuffer:::User\n    class BBufferView:::User\n    class BAccessor:::User\n    class BTexture:::User\n    class BImage:::User\n    class BSampler:::User\n    class BMaterial:::User\n    class BSkin:::User\n    class BAnimation:::User\n    class BAnimationChannel:::User\n    class BAnimationSampler:::User\n    class Extension:::User\n    class Builder:::User\n\n    _NodeContainerProtocol <|-- BNode\n    BNode \"1\" -- \"*\" BNode : nodes, parent\n    BScene \"*\" o--> \"*\" BNode : nodes\n\n    BNode o--> \"0..1\" BCamera : camera\n\n    BNode \"1\" *--> \"0..1\" BMesh : mesh\n    BMesh \"1\" *--> \"0..1\" BPrimitive : primitives\n    BMesh \"1\" *--> \"0..1\" BAccessor : weights\n\n    BPrimitive --> \"0..1\" BMaterial : material\n    BPrimitive o--> \"0..1\" BAccessor : indices\n\n    BAccessor --> BBufferView : bufferview\n\n    BBufferView --> BBuffer : buffer\n\n    BPrimitive --> \"0..1\" BMaterial : material\n\n    BImage \"1\" *--> \"1\" BBufferView : bufferView\n\n    BAnimationChannel --> BSampler : sampler\n    BAnimationChannel --> BNode : target\n\n    BAnimation --> \"*\" BAnimationChannel : channels\n    BAnimation --> \"*\" BAnimationSampler : samplers\n\n\n    classDef User fill:#ffe0ff,stroke:#0a2,stroke-width:2px;\n\n",
  "content_size": 5124,
  "collected_at": "2026-02-06T01:54:12.545256",
  "compilation_status": "success",
  "compilation_error": "",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 <<enumeration>>\n        ASSET: str\n        PRIMITIVE: str\n        MESH: str\n        NODE: str\n        BUFFER_VIEW: str\n        ACCESSOR: str\n        ACCESSOR_INDEX: str\n        BUFFER: str\n        BUILDER: str\n        IMAGE: str\n        MATERIAL: str\n        TEXTURE: str\n        CAMERA: str\n        SAMPLER: str\n        SKIN: str\n        SCENE: str\n        EXTENSION: str\n        ANIMATION: str\n        ANIMATION_CHANNEL: str\n        ANIMATION_SAMPLER: str\n     和 <<interface>>\n        _entity_type: EntityType\n        -name: str\n        -extensions: ExtensionsData\n        -extras: ExtrasData\n        -extension_objects: set[Extension。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '<<enumeration>>\n        ASSET: str\n        PRIMITIVE: str\n        MESH: str\n        NODE: str\n        BUFFER_VIEW: str\n        ACCESSOR: str\n        ACCESSOR_INDEX: str\n        BUFFER: str\n        BUILDER: str\n        IMAGE: str\n        MATERIAL: str\n        TEXTURE: str\n        CAMERA: str\n        SAMPLER: str\n        SKIN: str\n        SCENE: str\n        EXTENSION: str\n        ANIMATION: str\n        ANIMATION_CHANNEL: str\n        ANIMATION_SAMPLER: str\n     和 <<interface>>\n        _entity_type: EntityType\n        -name: str\n        -extensions: ExtensionsData\n        -extras: ExtrasData\n        -extension_objects: set[Extension'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ScopeName",
        "_Compilable"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 _STATE 和 -index_size: Optional[IndexSize 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '_STATE 和 -index_size: Optional[IndexSize'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "type",
        "Builder"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 NamePolicy 和 dict。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'NamePolicy 和 dict'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Optional",
        "Optional"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 dict 和 <<interface>>\n        +__len__(。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 dict处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'dict处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Optional",
        "_NodeContainerProtocol"
      ],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 name: str 和 name: str, node: BNode 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'name: str 和 name: str, node: BNode'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "__getitem__",
        "__setitem__"
      ],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 name: str 和 BNode 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'name: str 和 BNode'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "__contains__",
        "Iterable"
      ],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 <<interface>>\n     和 <<interface>>\n     的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '<<interface>>\n     和 <<interface>>\n    '？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "_GlobalShared",
        "Entity"
      ],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 +name: str\n        +version: str\n        semver: Version\n        +author: str\n        summary: str\n        requiresPython: Version\n     和 +name: str\n        +compile_*(... 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '+name: str\n        +version: str\n        semver: Version\n        +author: str\n        summary: str\n        requiresPython: Version\n     和 +name: str\n        +compile_*(...'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Plugin",
        "Extension"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 33,
    "repair_count": 1,
    "grounding_acts_count": 16,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:36Z"
}