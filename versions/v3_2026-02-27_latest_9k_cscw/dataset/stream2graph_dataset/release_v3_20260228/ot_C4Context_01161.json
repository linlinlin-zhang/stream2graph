{
  "id": "ot_C4Context_01161",
  "source": "other",
  "diagram_type": "C4Context",
  "code": "C4Context\n    title Agent Brain System Context\n\n    Person(developer, \"Developer\", \"Uses Claude Code for development\")\n    Person(devops, \"DevOps Engineer\", \"Manages deployments and monitoring\")\n\n    System_Boundary(ab, \"Agent Brain System\") {\n        System(plugin, \"Agent Brain Plugin\", \"Claude Code plugin with 15 commands\")\n        System(server, \"Agent Brain Server\", \"FastAPI REST API for RAG\")\n        System(cli, \"Agent Brain CLI\", \"Management tool\")\n    }\n\n    System_Ext(claude, \"Claude Code\", \"AI coding assistant\")\n    System_Ext(openai, \"OpenAI API\", \"Embeddings (text-embedding-3-large)\")\n    System_Ext(anthropic, \"Anthropic API\", \"Summarization (Claude Haiku)\")\n    System_Ext(chromadb, \"ChromaDB\", \"Vector database\")\n    System_Ext(filesystem, \"Filesystem\", \"Local documents and code\")\n\n    Rel(developer, claude, \"Uses\", \"Interactive chat\")\n    Rel(claude, plugin, \"Invokes\", \"Slash commands\")\n    Rel(plugin, cli, \"Delegates to\", \"Shell commands\")\n    Rel(cli, server, \"Calls\", \"REST API\")\n    Rel(server, openai, \"Generates embeddings\", \"HTTPS\")\n    Rel(server, anthropic, \"Generates summaries\", \"HTTPS\")\n    Rel(server, chromadb, \"Stores vectors\", \"Local API\")\n    Rel(server, filesystem, \"Reads documents\", \"File I/O\")\n    Rel(devops, cli, \"Manages\", \"Terminal\")",
  "license": "mit",
  "compilation_status": "success",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 developer, \"Developer\", \"Uses Claude Code for development\" 和 devops, \"DevOps Engineer\", \"Manages deployments and monitoring\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'developer, \"Developer\", \"Uses Claude Code for development\" 和 devops, \"DevOps Engineer\", \"Manages deployments and monitoring\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Person",
        "Person"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 ab, \"Agent Brain System\" 和 plugin, \"Agent Brain Plugin\", \"Claude Code plugin with 15 commands\" 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 ab, \"Agent Brain System\"处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 7,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'ab, \"Agent Brain System\"处理'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "System_Boundary",
        "System"
      ],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 server, \"Agent Brain Server\", \"FastAPI REST API for RAG\" 和 cli, \"Agent Brain CLI\", \"Management tool\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'server, \"Agent Brain Server\", \"FastAPI REST API for RAG\" 和 cli, \"Agent Brain CLI\", \"Management tool\"'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "System",
        "System"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 claude, \"Claude Code\", \"AI coding assistant\" 和 openai, \"OpenAI API\", \"Embeddings (text-embedding-3-large。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'claude, \"Claude Code\", \"AI coding assistant\" 和 openai, \"OpenAI API\", \"Embeddings (text-embedding-3-large'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "System_Ext",
        "System_Ext"
      ],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 anthropic, \"Anthropic API\", \"Summarization (Claude Haiku 和 chromadb, \"ChromaDB\", \"Vector database\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 anthropic, \"Anthropic API\", \"Summarization (Claude Haiku处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'anthropic, \"Anthropic API\", \"Summarization (Claude Haiku处理'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "System_Ext",
        "System_Ext"
      ],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 filesystem, \"Filesystem\", \"Local documents and code\" 和 developer, claude, \"Uses\", \"Interactive chat\" 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'filesystem, \"Filesystem\", \"Local documents and code\" 和 developer, claude, \"Uses\", \"Interactive chat\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "System_Ext",
        "Rel"
      ],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 claude, plugin, \"Invokes\", \"Slash commands\" 和 plugin, cli, \"Delegates to\", \"Shell commands\"。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'claude, plugin, \"Invokes\", \"Slash commands\" 和 plugin, cli, \"Delegates to\", \"Shell commands\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Rel",
        "Rel"
      ],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 cli, server, \"Calls\", \"REST API\" 和 server, openai, \"Generates embeddings\", \"HTTPS\" 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'cli, server, \"Calls\", \"REST API\" 和 server, openai, \"Generates embeddings\", \"HTTPS\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Rel",
        "Rel"
      ],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 server, anthropic, \"Generates summaries\", \"HTTPS\" 和 server, chromadb, \"Stores vectors\", \"Local API\" 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'server, anthropic, \"Generates summaries\", \"HTTPS\" 和 server, chromadb, \"Stores vectors\", \"Local API\"'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 38,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Rel",
        "Rel"
      ],
      "is_repair": false
    },
    {
      "turn_id": 39,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 server, filesystem, \"Reads documents\", \"File I/O\" 和 devops, cli, \"Manages\", \"Terminal\" 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 40,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'server, filesystem, \"Reads documents\", \"File I/O\" 和 devops, cli, \"Manages\", \"Terminal\"'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 41,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 42,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Rel",
        "Rel"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 42,
    "repair_count": 2,
    "grounding_acts_count": 20,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "normalized_at": "2026-02-28T13:21:07Z",
  "extra": {
    "source_type": "github_search",
    "source_url": "https://github.com/SpillwaveSolutions/agent-brain/blob/2eec54ce3360ca998136da6cf8ccf3c3f51eb76d/docs/design/src/architecture-overview_c4_context_diagram.mmd",
    "github_repo": "SpillwaveSolutions/agent-brain",
    "content_size": 1284,
    "collected_at": "2026-02-06T11:06:32.328131",
    "license_name": "MIT License",
    "license_url": "https://api.github.com/licenses/mit",
    "repo_owner": "SpillwaveSolutions",
    "repo_name": "agent-brain",
    "repo_stars": 22,
    "repo_forks": 4,
    "repo_topics": [],
    "repo_language": "Python",
    "repo_description": "Private RAG system with semantic context ingestion to improve source of truth of reliable sources",
    "repo_created_at": "2025-12-17T03:28:50Z",
    "repo_updated_at": "2026-02-06T07:38:35Z"
  }
}