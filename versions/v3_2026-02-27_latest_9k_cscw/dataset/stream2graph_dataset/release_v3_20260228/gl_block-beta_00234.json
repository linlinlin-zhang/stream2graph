{
  "id": "gl_block-beta_00234",
  "source": "gitlab",
  "diagram_type": "block-beta",
  "code": "erDiagram\n    %% =====================================================\n    %% Subnet Actor in parent subnet (Blue section #79ADDC)\n    %% =====================================================\n\n    VALIDATOR {\n        string public_key PK\n        integer power \"delegated stake\"\n    }\n\n    CONFIGURATION {\n        integer config_number PK\n    }\n\n    VALIDATOR_SNAPSHOT {\n        integer config_number FK\n        string public_key FK\n        integer power \"delegated stake in the config\"\n    }\n\n    SUBMITTED_CHECKPOINT {\n        string checkpoint FK\n    }\n\n    %% =====================================================\n    %% Checkpointing (Yellow section #FFEE93)\n    %% =====================================================\n\n    CHECKPOINT {\n        integer epoch_number FK\n        integer next_config_number FK\n        string state_hash \"CID\"\n    }\n\n    SIGNATURE {\n        string public_key FK \"validator public key\"\n        string checkpoint FK\n        string signature\n    }\n\n    %% =====================================================\n    %% Child subnet (Orange section #FFC09F)\n    %% =====================================================\n\n    EPOCH {\n        integer epoch_number PK\n        integer config_number FK\n        integer start_block_height FK\n        integer epoch_length\n    }\n\n    CROSS_MESSAGES {\n        integer epoch_number FK\n        string messages FK \"CID - An AMT containing CIDs\"\n    }\n\n    MESSAGE {\n        string id PK \"CID\"\n        string from FK \"address\"\n        string to FK \"address\"\n        integer nonce\n        string payload\n    }\n\n    BLOCK {\n        string hash PK \"CID\"\n        integer height\n        string messages FK \"CID\"\n    }\n\n    %% =====================================================\n    %% Relationships\n    %% =====================================================\n\n    %% Parent subnet relationships (Blue section)\n    CONFIGURATION ||--o{ VALIDATOR_SNAPSHOT : \"has\"\n    VALIDATOR ||--o{ VALIDATOR_SNAPSHOT : \"creates\"\n\n    %% Cross-section relationships\n    CONFIGURATION ||--o{ EPOCH : \"defines\"\n    CONFIGURATION ||--o{ CHECKPOINT : \"next_config\"\n\n    %% Child subnet relationships (Orange section)\n    BLOCK ||--|| EPOCH : \"starts\"\n    EPOCH ||--|| CROSS_MESSAGES : \"contains\"\n    CROSS_MESSAGES ||--o{ MESSAGE : \"includes\"\n    BLOCK ||--o{ MESSAGE : \"contains\"\n\n    %% Checkpointing relationships (Yellow section)\n    EPOCH ||--o| CHECKPOINT : \"produces\"\n    CHECKPOINT ||--o{ SIGNATURE : \"signed_by\"\n    VALIDATOR ||--o{ SIGNATURE : \"signs\"\n    CHECKPOINT ||--o| SUBMITTED_CHECKPOINT : \"submitted_as\"",
  "license": "apache-2.0",
  "compilation_status": "success",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "è¿™é‡Œå¿…é¡»åŒ…å« Blue section #79ADDC å’Œ string public_key PK\n        integer power \"delegated stake\"\n     è¿™ä¸€å—ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æ”¶åˆ°ã€‚è¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Ÿæˆ‘æš‚æ—¶å†™æˆ 'Blue section #79ADDC å’Œ string public_key PK\n        integer power \"delegated stake\"\n    'ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "æ²¡é—®é¢˜ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "subnet",
        "VALIDATOR"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "æˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªå¤„ç† integer config_number PK\n     å’Œ integer config_number FK\n        string public_key FK\n        integer power \"delegated stake in the config\"\n     çš„ç¯èŠ‚ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æ”¶åˆ°ã€‚è¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Ÿæˆ‘æš‚æ—¶å†™æˆ 'integer config_number PK\n     å’Œ integer config_number FK\n        string public_key FK\n        integer power \"delegated stake in the config\"\n    'ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "æ²¡é—®é¢˜ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "CONFIGURATION",
        "VALIDATOR_SNAPSHOT"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "æˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªå¤„ç† string checkpoint FK\n     å’Œ Yellow section #FFEE93 çš„ç¯èŠ‚ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "ç­‰ç­‰ï¼Œæˆ‘é‡æ–°æƒ³äº†ä¸€ä¸‹ï¼Œåº”è¯¥æ˜¯ string checkpoint FK\n    å¤„ç† æ‰å¯¹ã€‚",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æˆ‘æŠŠå®ƒåŠ è¿›å»äº†ï¼Œæ ‡ç­¾æ˜¾ç¤ºä¸º 'string checkpoint FK\n    å¤„ç†'ï¼Œä½ çœ‹çœ‹åˆé€‚å—ï¼Ÿ",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "æ²¡é—®é¢˜ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "SUBMITTED_CHECKPOINT",
        "Checkpointing"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "ç”¨æˆ·åœ¨è¿™é‡Œä¼šé‡åˆ° integer epoch_number FK\n        integer next_config_number FK\n        string state_hash \"CID\"\n     å’Œ string public_key FK \"validator public key\"\n        string checkpoint FK\n        string signature\n     çš„åˆ†æ”¯ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æˆ‘æŠŠå®ƒåŠ è¿›å»äº†ï¼Œæ ‡ç­¾æ˜¾ç¤ºä¸º 'integer epoch_number FK\n        integer next_config_number FK\n        string state_hash \"CID\"\n     å’Œ string public_key FK \"validator public key\"\n        string checkpoint FK\n        string signature\n    'ï¼Œä½ çœ‹çœ‹åˆé€‚å—ï¼Ÿ",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "æ²¡é—®é¢˜ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "CHECKPOINT",
        "SIGNATURE"
      ],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "ç„¶åï¼Œæµç¨‹ä¼šèµ°åˆ° Orange section #FFC09F å’Œ integer epoch_number PK\n        integer config_number FK\n        integer start_block_height FK\n        integer epoch_length\n    ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "ä¸ï¼Œå…¶å®å« Orange section #FFC09Få¤„ç† ä¼šæ›´å‡†ç¡®ä¸€ç‚¹ã€‚",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "å¥½çš„ï¼Œæˆ‘æŠŠå®ƒç”»æˆä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œåå­—å« 'Orange section #FFC09Få¤„ç†'ï¼Œå¯¹å§ï¼Ÿ",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "æ²¡é—®é¢˜ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "subnet",
        "EPOCH"
      ],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "ç„¶åï¼Œæµç¨‹ä¼šèµ°åˆ° integer epoch_number FK\n        string messages FK \"CID - An AMT containing CIDs\"\n     å’Œ string id PK \"CID\"\n        string from FK \"address\"\n        string to FK \"address\"\n        integer nonce\n        string payload\n    ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æ”¶åˆ°ã€‚è¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Ÿæˆ‘æš‚æ—¶å†™æˆ 'integer epoch_number FK\n        string messages FK \"CID - An AMT containing CIDs\"\n     å’Œ string id PK \"CID\"\n        string from FK \"address\"\n        string to FK \"address\"\n        integer nonce\n        string payload\n    'ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "å¯¹çš„ï¼Œå°±è¿™æ ·ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "CROSS_MESSAGES",
        "MESSAGE"
      ],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "ç”¨æˆ·åœ¨è¿™é‡Œä¼šé‡åˆ° string hash PK \"CID\"\n        integer height\n        string messages FK \"CID\"\n     å’Œ Blue section çš„åˆ†æ”¯ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "æ˜ç™½ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰¿æ¥ä¸Šä¸€æ­¥çš„ï¼Œå†…å®¹æ˜¯ 'string hash PK \"CID\"\n        integer height\n        string messages FK \"CID\"\n     å’Œ Blue section'ï¼Ÿ",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "å—¯ï¼Œè¿™æ ·çœ‹èµ·æ¥å¾ˆæ¸…æ™°ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "BLOCK",
        "relationships"
      ],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "è¿™é‡Œå¿…é¡»åŒ…å« VALIDATOR_SNAPSHOT : \"has\"\n    VALIDATOR ||--o{ VALIDATOR_SNAPSHOT : \"creates\"\n\n    %% Cross-section relationships\n    CONFIGURATION ||--o{ EPOCH : \"defines\"\n    CONFIGURATION ||--o{ CHECKPOINT : \"next_config\"\n\n    %% Child subnet relationships (Orange section å’Œ MESSAGE : \"includes\"\n    BLOCK ||--o{ MESSAGE : \"contains\"\n\n    %% Checkpointing relationships (Yellow section è¿™ä¸€å—ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "ä¸ï¼Œå…¶å®å« VALIDATOR_SNAPSHOT : \"has\"\n    VALIDATOR ||--o{ VALIDATOR_SNAPSHOT : \"creates\"\n\n    %% Cross-section relationships\n    CONFIGURATION ||--o{ EPOCH : \"defines\"\n    CONFIGURATION ||--o{ CHECKPOINT : \"next_config\"\n\n    %% Child subnet relationships (Orange sectionå¤„ç† ä¼šæ›´å‡†ç¡®ä¸€ç‚¹ã€‚",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 33,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "å¥½çš„ï¼Œæˆ‘æŠŠå®ƒç”»æˆä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œåå­—å« 'VALIDATOR_SNAPSHOT : \"has\"\n    VALIDATOR ||--o{ VALIDATOR_SNAPSHOT : \"creates\"\n\n    %% Cross-section relationships\n    CONFIGURATION ||--o{ EPOCH : \"defines\"\n    CONFIGURATION ||--o{ CHECKPOINT : \"next_config\"\n\n    %% Child subnet relationships (Orange sectionå¤„ç†'ï¼Œå¯¹å§ï¼Ÿ",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "å¯¹çš„ï¼Œå°±è¿™æ ·ã€‚",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[ç³»ç»Ÿæ—¥å¿—: Editor æ›´æ–°äº†å›¾è¡¨ä»£ç ä»¥åæ˜ ä¸Šè¿°ç»“æ„]",
      "elements_involved": [
        "o",
        "o"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 35,
    "repair_count": 3,
    "grounding_acts_count": 16,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "normalized_at": "2026-02-28T13:21:07Z",
  "extra": {
    "source_url": "https://github.com/consensus-shipyard/ipc/blob/a2c2faeb4ac75564d2b4e3236066f1458eeb85b8/ipld/resolver/docs/diagrams/checkpoint_schema.mmd",
    "github_repo": "consensus-shipyard/ipc",
    "content_size": 2563,
    "collected_at": "2026-02-06T14:05:03.708127",
    "license_name": "Apache License 2.0",
    "license_url": "https://api.github.com/licenses/apache-2.0",
    "repo_owner": "consensus-shipyard",
    "repo_name": "ipc",
    "repo_stars": 52,
    "repo_forks": 47,
    "repo_topics": [
      "blockchain",
      "consensus",
      "evm",
      "wasm"
    ],
    "repo_language": "Rust",
    "repo_description": "ğŸŒ³ Spawn multi-level trees of customized, scalable, EVM-compatible networks with IPC. L2++ powered by FVM, Wasm, libp2p, IPFS/IPLD, and CometBFT.",
    "repo_created_at": "2023-12-06T14:10:39Z",
    "repo_updated_at": "2026-01-28T14:08:56Z",
    "source_note": "collected_from_github_additional"
  }
}