{
  "id": "gh_class_01272",
  "source": "github",
  "source_url": "https://github.com/CMPUT301F25rocket/rocket-radar/blob/65f6037820e80d56572facc2a17751b625e026be/doc/uml/events.mmd",
  "github_repo": "CMPUT301F25rocket/rocket-radar",
  "github_file_path": "doc/uml/events.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: events package\nconfig:\n  layout: elk\n  theme: light\n  elk:\n    nodePlacementStrategy: SIMPLE\n  htmlLabels: false\numlink:\n  select:\n    - field: package\n      pattern: com.rocket.radar.events\n---\n\nclassDiagram\ndirection LR\n\n%% =====================================\n%% Core Data Model\n%% =====================================\n\nclass Event {\n    + String eventId\n    + String eventTitle\n    + String tagline\n    + String description\n    + SortedSet~String~ categories\n    + Date eventStartDate\n    + Optional<Date> eventEndDate\n    + Time eventStartTime\n    + Time eventEndTime\n    + Date registrationStartDate\n    + Date selectionStartDate\n    + Date finalSelectionDate\n    + Optional<Integer> waitlistCapacity\n    + boolean requireLocation\n    + int eventCapacity\n    + String organizerId\n    + String eventLocationName\n    + Double locationLatitude\n    + Double locationLongitude\n    + Blob bannerImageBlob\n    - Bitmap bannerImage\n    + ArrayList<String> eventWaitlistIds\n    + ArrayList<String> eventInvitedIds\n    + ArrayList<String> eventAttendingIds\n    + ArrayList<String> eventCancelledIds\n    + getFormattedDate() String\n    + getEventGeoLocation() GeoPoint\n    + setEventGeoLocation(GeoPoint)\n}\n%% citation: :contentReference[oaicite:0]{index=0}\n\nclass Event.Builder {\n    - Event event\n    + title(String)\n    + description(String)\n    + tagline(String)\n    + categories(List<String>)\n    + bannerImage(Bitmap)\n    + waitlistCapacity(Optional<Integer>)\n    + eventCapacity(int)\n    + eventStartDate(Date)\n    + eventEndDate(Date)\n    + eventStartTime(Time)\n    + eventEndTime(Time)\n    + registrationStartDate(Date)\n    + initialSelectionStartDate(Date)\n    + finalSelectionDate(Date)\n    + location(GeoPoint,String)\n    + requireLocation(boolean)\n    + build() Event\n}\n\nEvent \"1\" *-- \"1\" Event.Builder : built-by\n\n%% =====================================\n%% Repository Layer\n%% =====================================\n\nclass EventRepository {\n    - FirebaseFirestore firestore\n    - CollectionReference events\n    + getAllEvents() LiveData<List<Event>>\n    + getEvent(String)\n    + getEventById(String, SingleEventListener)\n    + createEvent(Event) String\n    + addUserToWaitlist(Event,String,GeoPoint)\n    + removeUserFromWaitlist(Event,String)\n    + addUserToAttending(Event,String)\n    + addUserToCancelled(Event,String)\n    + removeUserFromInvited(Event,String)\n    + getWaitlistSize(Event,WaitlistSizeListener)\n    + getInvitedSize(Event,InvitedSizeListener)\n    + getCancelledSize(Event,CancelledSizeListener)\n    + getWaitlistLocations(String,WaitlistLocationsCallback)\n    + getInvitedLocations(String,InvitedLocationsCallback)\n    + getCancelledLocations(String,CancelledLocationsCallback)\n    + getAttendingEntrants(String,AttendingEntrantsCallback)\n}\n%% citation: :contentReference[oaicite:1]{index=1}\n\nEventRepository --> Event : serializes/deserializes\n\n%% =====================================\n%% Event List + Filtering UI\n%% =====================================\n\nclass EventListFragment {\n    - RecyclerView eventRecyclerView\n    - EventAdapter adapter\n    - List<Event> displayedEvents\n    - List<Event> allEvents\n    - EventRepository eventRepository\n    - ProfileViewModel profileViewModel\n    - ProfileModel currentUserProfile\n    - NotificationRepository notificationRepository\n    - FilterModel filterModel\n    + onEventClick(int,View)\n}\n%% citation: :contentReference[oaicite:2]{index=2}\n\nEventListFragment --> EventAdapter : 1..1\nEventListFragment --> EventRepository : uses\nEventListFragment --> FilterModel : observes\nEventListFragment --> Event : displays many\n\nclass FilterEventsFragment {\n    - CalendarView calendarView\n    - FilterModel filterModel\n    - ChipGroup chipGroup\n}\n%% citation: :contentReference[oaicite:3]{index=3}\n\nclass FilterModel {\n    - MutableLiveData<ArrayList<String>> filters\n    - MutableLiveData<Date> date\n    + setFilters(ArrayList<String>)\n    + setDate(Date)\n}\n%% citation: :contentReference[oaicite:4]{index=4}\n\nFilterEventsFragment --> FilterModel : 1..1\n\n%% =====================================\n%% Adapters\n%% =====================================\n\nclass EventAdapter {\n    - Context context\n    - List<Event> eventList\n    - OnEventListener onEventListener\n    + onBindViewHolder()\n}\n%% citation: :contentReference[oaicite:5]{index=5}\n\nEventAdapter --> Event : many→one\n\nclass EventHistoryAdapter {\n    - Context context\n    - List<Event> eventList\n    - ProfileModel currentUserProfile\n    + onBindViewHolder()\n}\n%% citation: :contentReference[oaicite:6]{index=6}\n\nEventHistoryAdapter --> Event : many→one\n\n%% =====================================\n%% Event View Screen (Details)\n%% =====================================\n\nclass EventViewFragment {\n    - Event event\n    - ProfileViewModel profileViewModel\n    - EventRepository eventRepo\n    - LotteryLogic lottery\n    - boolean isOrganizer\n    - ImageView eventImageView\n    - ImageView statusBarImage\n    + newInstance(Event)\n    + newInstance(Event,boolean)\n    + handleJoinLeaveWaitlist()\n    + updateEventBannerImage(Uri)\n}\n%% citation: :contentReference[oaicite:7]{index=7}\n\nEventViewFragment --> Event : 1\nEventViewFragment --> EventRepository : uses\nEventViewFragment --> LotteryLogic : uses\n\n%% =====================================\n%% Entrants / Organizer Management\n%% =====================================\n\nclass OrganizerEntrantsFragment {\n    - Event event\n    - GoogleMap googleMap\n    - EventRepository eventRepository\n    - NotificationRepository notificationRepository\n    - ProfileRepository profileRepository\n    - ArrayList<Map<String,String>> currentEntrants\n    + newInstance(Event)\n    + onMapReady()\n    + filterAndDisplayEntrants()\n    + fetchAndDisplayWaitlistLocations()\n}\n%% citation: :contentReference[oaicite:8]{index=8}\n\nOrganizerEntrantsFragment --> Event : 1\nOrganizerEntrantsFragment --> EventRepository : heavy-usage\nOrganizerEntrantsFragment --> NotificationRepository : sends notifications\nOrganizerEntrantsFragment --> ProfileRepository : loads entrant profiles\n\n%% =====================================\n%% Supplemental Classes\n%% =====================================\n\nclass Time {\n    - int hour\n    - int minute\n    + compareTo(Time)\n    + lessThan(Time)\n}\n%% citation:  (from previous)\n\nEvent --> Time : uses\n",
  "content_size": 6286,
  "collected_at": "2026-02-06T01:55:29.540552",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "gpl-3.0",
  "license_name": "GNU General Public License v3.0",
  "license_url": "https://api.github.com/licenses/gpl-3.0",
  "repo_stars": 2,
  "repo_forks": 0
}