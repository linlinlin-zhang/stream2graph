{
  "id": "gh_flowchart_00193",
  "source": "github",
  "source_url": "https://github.com/bcb-unl/dbcan-nf/blob/c7a800b49d8dee290ff98f149604efe16250cd55/docs/pipeline_shortreads.mmd",
  "github_repo": "bcb-unl/dbcan-nf",
  "github_file_path": "docs/pipeline_shortreads.mmd",
  "diagram_type": "flowchart",
  "code": "%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#1ba1e2', 'primaryTextColor':'#fff', 'primaryBorderColor':'#006EAF', 'lineColor':'#1ba1e2', 'secondaryColor':'#6c8ebf', 'tertiaryColor':'#d5e8d4'}}}%%\nflowchart LR\n    subgraph Input[\"Input Data\"]\n        DNA[DNA Reads<br/>Short-read Data]\n        RNA[RNA Transcriptomes<br/>Optional]\n    end\n\n    subgraph QC[\"Quality Control & Trimming\"]\n        FastQC_DNA[FastQC<br/>DNA]\n        TrimGalore_DNA[TrimGalore<br/>DNA]\n        FastQC_RNA[FastQC<br/>RNA]\n        TrimGalore_RNA[TrimGalore<br/>RNA]\n    end\n\n    subgraph Kraken[\"Contamination Removal (Optional)\"]\n        Kraken2[Kraken2<br/>Classification]\n        KrakenTools[KrakenTools<br/>Extraction]\n    end\n\n    subgraph Assembly[\"Assembly\"]\n        MEGAHIT[MEGAHIT<br/>Metagenome Assembly]\n    end\n\n    subgraph GenePred[\"Gene Prediction\"]\n        Pyrodigal[Pyrodigal<br/>Gene Prediction]\n        Gunzip_FAA[GUNZIP<br/>Decompress FAA]\n        Gunzip_GFF[GUNZIP<br/>Decompress GFF]\n    end\n\n    subgraph Annotation[\"CAZyme Annotation\"]\n        RunDBCAN[run_dbCAN<br/>CAZyme Annotation]\n    end\n\n    subgraph Mapping[\"Read Mapping\"]\n        BWA_Index[BWA Index<br/>Index Building]\n        BWA_MEM_DNA[BWA-MEM<br/>DNA Mapping]\n        BWA_MEM_RNA[BWA-MEM<br/>RNA Mapping]\n        Samtools_Index[SAMtools Index<br/>BAM Indexing]\n    end\n\n    subgraph Coverage[\"Coverage Calculation\"]\n        CalcCoverage_DNA[dbcan_utils<br/>Calculate Coverage DNA]\n        CalcCoverage_RNA[dbcan_utils<br/>Calculate Coverage RNA]\n        CGC_Depth_DNA[CGC Depth Plot<br/>CGC Depth Plot DNA]\n        CGC_Depth_RNA[CGC Depth Plot<br/>CGC Depth Plot RNA]\n    end\n\n    subgraph Abundance[\"Abundance Calculation\"]\n        CalcAbund_DNA[dbcan_utils<br/>Calculate Abundance DNA]\n        CalcAbund_RNA[dbcan_utils<br/>Calculate Abundance RNA]\n    end\n\n    subgraph Visualization[\"Visualization\"]\n        Plot_DNA[dbcan_plot<br/>Plotting DNA]\n        Plot_RNA[dbcan_plot<br/>Plotting RNA]\n    end\n\n    subgraph Report[\"Report\"]\n        MultiQC[MultiQC<br/>Summary Report]\n    end\n\n    %% Input connections\n    DNA --> FastQC_DNA\n    DNA --> TrimGalore_DNA\n    RNA --> FastQC_RNA\n    RNA --> TrimGalore_RNA\n\n    %% QC connections\n    FastQC_DNA --> TrimGalore_DNA\n    FastQC_RNA --> TrimGalore_RNA\n\n    %% Kraken connections (optional)\n    TrimGalore_DNA -.->|optional| Kraken2\n    TrimGalore_RNA -.->|optional| Kraken2\n    Kraken2 --> KrakenTools\n\n    %% Assembly connections\n    TrimGalore_DNA -->|or skip Kraken| MEGAHIT\n    KrakenTools -->|extracted reads| MEGAHIT\n\n    %% Gene prediction connections\n    MEGAHIT --> Pyrodigal\n    Pyrodigal --> Gunzip_FAA\n    Pyrodigal --> Gunzip_GFF\n\n    %% Annotation connections\n    Gunzip_FAA --> RunDBCAN\n    Gunzip_GFF --> RunDBCAN\n\n    %% Mapping connections\n    MEGAHIT --> BWA_Index\n    BWA_Index --> BWA_MEM_DNA\n    TrimGalore_DNA -->|or extracted reads| BWA_MEM_DNA\n    TrimGalore_RNA -->|or extracted reads| BWA_MEM_RNA\n    BWA_Index --> BWA_MEM_RNA\n    BWA_MEM_DNA --> Samtools_Index\n    BWA_MEM_RNA --> Samtools_Index\n\n    %% Coverage connections\n    Gunzip_GFF --> CalcCoverage_DNA\n    Samtools_Index --> CalcCoverage_DNA\n    Gunzip_GFF --> CalcCoverage_RNA\n    Samtools_Index --> CalcCoverage_RNA\n    RunDBCAN --> CGC_Depth_DNA\n    Samtools_Index --> CGC_Depth_DNA\n    RunDBCAN --> CGC_Depth_RNA\n    Samtools_Index --> CGC_Depth_RNA\n\n    %% Abundance connections\n    CalcCoverage_DNA --> CalcAbund_DNA\n    RunDBCAN --> CalcAbund_DNA\n    CalcCoverage_RNA --> CalcAbund_RNA\n    RunDBCAN --> CalcAbund_RNA\n\n    %% Visualization connections\n    CalcAbund_DNA --> Plot_DNA\n    CalcAbund_RNA --> Plot_RNA\n\n    %% Report connections\n    FastQC_DNA --> MultiQC\n    FastQC_RNA --> MultiQC\n    Plot_DNA --> MultiQC\n    Plot_RNA --> MultiQC\n\n    %% Styling\n    classDef inputStyle fill:#d5e8d4,stroke:#82b366,stroke-width:2px\n    classDef processStyle fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px\n    classDef outputStyle fill:#fff2cc,stroke:#d6b656,stroke-width:2px\n\n    class DNA,RNA inputStyle\n    class FastQC_DNA,TrimGalore_DNA,FastQC_RNA,TrimGalore_RNA,Kraken2,KrakenTools,MEGAHIT,Pyrodigal,Gunzip_FAA,Gunzip_GFF,RunDBCAN,BWA_Index,BWA_MEM_DNA,BWA_MEM_RNA,Samtools_Index,CalcCoverage_DNA,CalcCoverage_RNA,CGC_Depth_DNA,CGC_Depth_RNA,CalcAbund_DNA,CalcAbund_RNA,Plot_DNA,Plot_RNA processStyle\n    class MultiQC outputStyle\n",
  "content_size": 4358,
  "collected_at": "2026-02-06T01:42:32.628371",
  "compilation_status": "success",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 2,
  "repo_forks": 0,
  "repo_owner": "bcb-unl",
  "repo_name": "dbcan-nf",
  "repo_description": "Nextflow of run_dbcan protocol",
  "repo_language": "Nextflow",
  "repo_topics": [],
  "repo_created_at": "2025-05-22T03:30:28Z",
  "repo_updated_at": "2026-01-26T04:30:19Z"
}