{
  "id": "gh_flowchart_00631",
  "source": "github",
  "source_url": "https://github.com/floppyFK/kittyhack/blob/5b8d33fea90033a59f9e9312e571af1ebc0fc98a/doc/unlock-logic_de.mmd",
  "github_repo": "floppyFK/kittyhack",
  "github_file_path": "doc/unlock-logic_de.mmd",
  "diagram_type": "flowchart",
  "code": "---\nconfig:\n  layout: dagre\n  look: neo\n  theme: neutral\n---\n\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n%% NOTE: Render this file with https://www.mermaidchart.com\n%% to generate a flowchart diagram of the unlock logic.\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n\nflowchart TD\n  %% Modus: Alle Katzen mit RFID Chip\n  subgraph all_rfids[\"Modus: Alle Katzen mit RFID Chip\"]\n    direction TB\n    style all_rfids fill:transparent,stroke:none\n\n    all_motion[\"Bewegung außen erkannt? (durch PIR oder Kamera, je nach Konfiguration)\"] -- Nein --> all_no_action[\"Keine Aktion\"]\n    all_motion -- Ja --> all_has_rfid{\"RFID erkannt?\"}\n    all_has_rfid -- Nein --> all_no_action\n    all_has_rfid -- Ja --> all_prey_global{\"Globale Beuteerkennung aktiviert?\"}\n    all_prey_global -- Nein --> all_unlock_inside[\"Eingangsrichtung öffnen\"]\n    all_prey_global -- Ja --> all_prey_individual{\"Individuelle Beuteerkennung für diese Katze aktiviert?\"}\n    all_prey_individual -- Ja --> all_prey_ok{\"Beuteprüfung OK?\"}\n    all_prey_individual -- Nein --> all_unlock_inside\n    all_prey_ok -- Ja --> all_unlock_inside\n    all_prey_ok -- Nein --> all_keep_closed[\"Geschlossen lassen\"]\n  end\n\n  %% Modus: Nur registrierte Katzen\n  subgraph kn_known[\"Modus: Nur registrierte Katzen\"]\n    direction TB\n    style kn_known fill:transparent,stroke:none\n\n    kn_motion[\"Bewegung außen erkannt? (durch PIR oder Kamera, je nach Konfiguration)\"] -- Nein --> kn_no_action[\"Keine Aktion\"]\n    kn_motion -- Ja --> kn_identify{\"Katze identifizieren (per RFID oder Kamera, falls aktiviert)?\"}\n    kn_identify -- Nein --> kn_no_action\n    kn_identify -- Ja --> kn_in_db{\"Katze in der Datenbank?\"}\n    kn_in_db -- Nein --> kn_no_action\n    kn_in_db -- Ja --> kn_prey_global{\"Globale Beuteerkennung aktiviert?\"}\n    kn_prey_ok{\"Beuteprüfung OK?\"} -- Ja --> kn_unlock_inside[\"Eingangsrichtung öffnen\"]\n    kn_prey_ok -- Nein --> kn_keep_closed[\"Geschlossen lassen\"]\n    kn_prey_global -- Nein --> kn_unlock_inside\n    kn_prey_global -- Ja --> kn_prey_individual{\"Individuelle Beuteerkennung für diese Katze aktiviert?\"}\n    kn_prey_individual -- Ja --> kn_prey_ok\n    kn_prey_individual -- Nein --> kn_unlock_inside\n  end\n\n  %% Modus: Alle Katzen\n  subgraph al_all[\"Modus: Alle Katzen\"]\n    direction TB\n    style al_all fill:transparent,stroke:none\n\n    al_motion[\"Bewegung außen erkannt? (durch PIR oder Kamera, je nach Konfiguration)\"] -- Nein --> al_no_action[\"Keine Aktion\"]\n    al_motion -- Ja --> al_prey_global{\"Globale Beuteerkennung aktiviert?\"}\n    al_prey_global -- Nein --> al_unlock_inside[\"Eingangsrichtung öffnen\"]\n    al_prey_global -- Ja --> al_prey_ok{\"Beuteprüfung OK?\"}\n    al_prey_ok -- Ja --> al_unlock_inside\n    al_prey_ok -- Nein --> al_keep_closed[\"Geschlossen lassen\"]\n  end\n\n  %% Modus: Keine Katzen\n  subgraph no_none[\"Modus: Keine Katzen\"]\n    direction TB\n    style no_none fill:transparent,stroke:none\n\n    no_motion[\"Bewegung außen erkannt? (durch PIR oder Kamera, je nach Konfiguration)\"] -- Nein --> no_no_action[\"Keine Aktion\"]\n    no_motion -- Ja --> no_no_action\n  end\n\n  %% Modus: Individuelle Konfiguration je Katze\n  subgraph cfg_per_cat[\"Modus: Individuelle Konfiguration je Katze\"]\n    direction TB\n    style cfg_per_cat fill:transparent,stroke:none\n\n    cfg_motion[\"Bewegung außen erkannt? (durch PIR oder Kamera, je nach Konfiguration)\"] -- Nein --> cfg_no_action[\"Keine Aktion\"]\n    cfg_motion -- Ja --> cfg_identify{\"Katze identifizieren (per RFID oder Kamera, falls aktiviert)?\"}\n    cfg_identify -- Nein --> cfg_no_action\n    cfg_identify -- Ja --> cfg_in_db{\"Katze in der Datenbank?\"}\n    cfg_in_db -- Nein --> cfg_no_action\n    cfg_in_db -- Ja --> cfg_allow_entry{\"Ist der Zugang für diese Katze erlaubt?\"}\n    cfg_allow_entry -- Nein --> cfg_no_action\n    cfg_allow_entry -- Ja --> cfg_prey_global{\"Globale Beuteerkennung aktiviert?\"}\n    cfg_prey_global -- Nein --> cfg_unlock_inside[\"Eingangsrichtung öffnen\"]\n    cfg_prey_global -- Ja --> cfg_prey_individual{\"Individuelle Beuteerkennung für diese Katze aktiviert?\"}\n    cfg_prey_individual -- Nein --> cfg_unlock_inside\n    cfg_prey_individual -- Ja --> cfg_prey_ok{\"Beuteprüfung OK?\"}\n    cfg_prey_ok -- Ja --> cfg_unlock_inside\n    cfg_prey_ok -- Nein --> cfg_keep_closed[\"Geschlossen lassen\"]\n  end\n\n%% Modus: Ausgang erlauben\nsubgraph ex_allow[\"Modus: Ausgang erlauben\"]\n  direction TB\n  style ex_allow fill:transparent,stroke:none\n\n  ex_allow_motion[\"Bewegung innen erkannt? (durch PIR)\"] -- Nein --> ex_allow_no_action[\"Keine Aktion\"]\n  ex_allow_motion -- Ja --> ex_allow_time{\"Innerhalb der erlaubten Ausgangs-Zeitbereiche?\"}\n  ex_allow_time -- Nein --> ex_allow_denied[\"Ausgang nicht erlaubt\"]\n  ex_allow_time -- Ja --> ex_allow_unlock[\"Ausgangsrichtung öffnen\"]\nend\n\n%% Modus: Ausgang nicht erlauben\nsubgraph ex_deny[\"Modus: Ausgang nicht erlauben\"]\n  direction TB\n  style ex_deny fill:transparent,stroke:none\n\n  ex_deny_motion[\"Bewegung innen erkannt? (durch PIR)\"] -- Nein --> ex_deny_no_action[\"Keine Aktion\"]\n  ex_deny_motion -- Ja --> ex_deny_no_action\nend\n\n%% Modus: Individuelle Konfiguration je Katze (Ausgangsrichtung)\nsubgraph ex_cfg[\"Modus: Individuelle Konfiguration je Katze (Ausgangsrichtung)\"]\n  direction TB\n  style ex_cfg fill:transparent,stroke:none\n\n  ex_cfg_motion[\"Bewegung innen erkannt? (durch PIR)\"] -- Nein --> ex_cfg_no_action[\"Keine Aktion\"]\n  ex_cfg_motion -- Ja --> ex_cfg_time{\"Innerhalb der erlaubten Ausgangs-Zeitbereiche?\"}\n  ex_cfg_time -- Nein --> ex_cfg_denied[\"Ausgang nicht erlaubt\"]\n  ex_cfg_time -- Ja --> ex_cfg_identified{\"Katze per RFID identifiziert?\"}\n  ex_cfg_identified -- Nein --> ex_cfg_denied\n  ex_cfg_identified -- Ja --> ex_cfg_allowed{\"Ist der Ausgang für diese Katze erlaubt?\"}\n  ex_cfg_allowed -- Nein --> ex_cfg_denied\n  ex_cfg_allowed -- Ja --> ex_cfg_unlock[\"Ausgangsrichtung öffnen\"]\nend",
  "content_size": 5857,
  "collected_at": "2026-02-06T01:46:07.581292",
  "compilation_status": "success",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 17,
  "repo_forks": 2,
  "repo_owner": "floppyFK",
  "repo_name": "kittyhack",
  "repo_description": "Project to revive the KittyFlap: A web GUI that allows control of the cat flap on the local network without the official KittyFlap app.",
  "repo_language": "Python",
  "repo_topics": [],
  "repo_created_at": "2024-11-10T23:31:48Z",
  "repo_updated_at": "2026-01-17T16:02:37Z"
}