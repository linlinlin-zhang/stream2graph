{
  "id": "gh_class_01300",
  "source": "github",
  "source_url": "https://github.com/CHATEAUFORGE-LLC/QuantumZero/blob/6b5410862a30fc06a35512b1d874132524aaeba8/diagrams/class-server-handlers.mmd",
  "github_repo": "CHATEAUFORGE-LLC/QuantumZero",
  "github_file_path": "diagrams/class-server-handlers.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: Class Diagram - Server API Handlers (Admin API)\nconfig:\n  theme: base\n---\n%% QuantumZero UML palette note: actors/external=#fff7e6/#b45309, system/component=#e0f2fe/#075985, datastore=#ecfccb/#4d7c0f, notes=#fff9c4/#d97706. Aligns diagrams to Deliverable 1 UML/DFD theme.\nclassDiagram\n    direction LR\n    namespace admin_api_state {\n        class AppState {\n            +PgPool db\n            +PgPool staging_db\n            +IndyClient indy_client\n            +new(PgPool db, PgPool staging_db, String ledger_url)$ AppState\n        }\n    }\n\n    namespace admin_api_handlers {\n        class Handlers {\n            <<module>>\n            +configure_routes(ServiceConfig& cfg)$ void\n            +health_check(AppState)$ HttpResponse\n            +get_metrics(AppState)$ HttpResponse\n            +get_stats(AppState)$ HttpResponse\n            +list_issuers(AppState)$ HttpResponse\n            +list_staging_issuer_requests(AppState)$ HttpResponse\n            +list_staging_schema_requests(AppState)$ HttpResponse\n            +list_staging_cred_def_requests(AppState)$ HttpResponse\n            +list_staging_issuance_requests(AppState)$ HttpResponse\n            +create_issuer(AppState, CreateIssuerRequest)$ HttpResponse\n            +get_issuer(AppState, Uuid)$ HttpResponse\n            +update_issuer_status(AppState, Uuid, UpdateIssuerStatusRequest)$ HttpResponse\n            +list_schemas(AppState)$ HttpResponse\n            +create_schema(AppState, CreateSchemaRequest)$ HttpResponse\n            +get_schema(AppState, Uuid)$ HttpResponse\n            +import_schema_from_ledger(AppState, ImportSchemaFromLedgerRequest)$ HttpResponse\n            +list_cred_defs(AppState)$ HttpResponse\n            +create_cred_def(AppState, CreateCredDefRequest)$ HttpResponse\n            +get_cred_def(AppState, Uuid)$ HttpResponse\n            +sync_from_ledger(AppState)$ HttpResponse\n            +perform_ledger_sync(AppState&)$ Result~(u32,u32,u32)~\n            +get_pool_nodes(AppState)$ HttpResponse\n            +login(AppState, LoginRequest)$ HttpResponse\n            +logout(AppState)$ HttpResponse\n            +verify_session(AppState)$ HttpResponse\n            +test_hash_password(JsonValue)$ HttpResponse\n        }\n    }\n\n    %% Models (see class-server-models.mmd)\n    class CreateIssuerRequest\n    class CreateSchemaRequest\n    class CreateCredDefRequest\n    class ImportSchemaFromLedgerRequest\n    class UpdateIssuerStatusRequest\n    class LoginRequest\n\n    %% External / shared types\n    class PgPool {\n        <<SQLx>>\n    }\n    class IndyClient {\n        <<qz-indy-client>>\n    }\n    class ServiceConfig {\n        <<Actix-Web>>\n    }\n    class HttpResponse {\n        <<Actix-Web>>\n    }\n    class JsonValue {\n        <<serde_json::Value>>\n    }\n    class Uuid {\n        <<uuid::Uuid>>\n    }\n\n    Handlers ..> AppState : uses\n    AppState --> PgPool : db\n    AppState --> PgPool : staging_db\n    AppState --> IndyClient : indy_client\n    Handlers ..> CreateIssuerRequest : consumes\n    Handlers ..> CreateSchemaRequest : consumes\n    Handlers ..> CreateCredDefRequest : consumes\n    Handlers ..> ImportSchemaFromLedgerRequest : consumes\n    Handlers ..> UpdateIssuerStatusRequest : consumes\n    Handlers ..> LoginRequest : consumes\n",
  "content_size": 3241,
  "collected_at": "2026-02-06T01:55:50.534787",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 1,
  "repo_forks": 0
}