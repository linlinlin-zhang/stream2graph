{
  "id": "gh_architecture_01846",
  "source": "github",
  "source_url": "https://github.com/KEIEI-NET/BugSearch2/blob/c63167c4a852eb3d11b763029c54ccdbf438caaa/doc/diagrams/ARCHITECTURE_GUI_v1.0.0.mmd",
  "github_repo": "KEIEI-NET/BugSearch2",
  "github_file_path": "doc/diagrams/ARCHITECTURE_GUI_v1.0.0.mmd",
  "diagram_type": "architecture",
  "code": "%%{init: {'theme':'dark'}}%%\ngraph TB\n    %% BugSearch2 GUI Production v1.0.0 Architecture\n    %% Created: 2025-10-21\n    %% Author: KEIEI.NET INC.\n\n    subgraph \"GUI Production v1.0.0\"\n        GUI[gui_production.py<br/>Main Application<br/>590 lines]\n    end\n\n    subgraph \"UI Layer - CustomTkinter\"\n        subgraph \"3-Tab Interface\"\n            TAB1[Index Tab<br/>File Analysis]\n            TAB2[Advise Tab<br/>AI Analysis]\n            TAB3[Query Tab<br/>Search]\n        end\n\n        subgraph \"UI Components\"\n            PROG[Progress Bar<br/>Real-time Update]\n            LOG[Log Viewer<br/>Colored Output]\n            COUNT[File Counter<br/>12,500/34,125]\n            SPEED[Speed Display<br/>97 files/sec]\n            ETA[ETA Calculator<br/>5分52秒]\n        end\n    end\n\n    subgraph \"Process Management\"\n        PROC[subprocess.Popen<br/>Unbuffered Mode]\n        ENV[Environment<br/>PYTHONUNBUFFERED=1]\n        PIPE[Pipe Management<br/>stdout/stderr]\n    end\n\n    subgraph \"Threading System\"\n        THREAD[threading.Thread<br/>Background Worker]\n        QUEUE[queue.Queue<br/>Thread Communication]\n        LOCK[Thread Lock<br/>Synchronization]\n    end\n\n    subgraph \"Progress Tracking\"\n        PARSE[Log Parser<br/>Regex Patterns]\n        CALC[Progress Calculator<br/>Moving Average]\n        MSG[Preparation Messages<br/>Status Updates]\n    end\n\n    subgraph \"CLI Integration\"\n        INDEX_CMD[codex_review_severity.py index]\n        ADVISE_CMD[codex_review_severity.py advise]\n        QUERY_CMD[codex_review_severity.py query]\n    end\n\n    subgraph \"Real-time Features\"\n        STREAM[Line-buffered Stream<br/>bufsize=1]\n        UPDATE[UI Update Loop<br/>100ms interval]\n        REGEX[Pattern Matching<br/>Progress Detection]\n    end\n\n    %% Connections\n    GUI --> TAB1\n    GUI --> TAB2\n    GUI --> TAB3\n\n    TAB1 --> INDEX_CMD\n    TAB2 --> ADVISE_CMD\n    TAB3 --> QUERY_CMD\n\n    TAB1 --> PROG\n    TAB1 --> COUNT\n    TAB2 --> LOG\n    TAB2 --> SPEED\n    TAB3 --> ETA\n\n    INDEX_CMD --> PROC\n    ADVISE_CMD --> PROC\n    QUERY_CMD --> PROC\n\n    PROC --> ENV\n    PROC --> PIPE\n    PROC --> STREAM\n\n    PIPE --> THREAD\n    THREAD --> QUEUE\n    THREAD --> PARSE\n\n    PARSE --> REGEX\n    PARSE --> CALC\n    CALC --> UPDATE\n\n    UPDATE --> PROG\n    UPDATE --> COUNT\n    UPDATE --> SPEED\n    UPDATE --> ETA\n    UPDATE --> LOG\n\n    QUEUE --> LOCK\n    LOCK --> UPDATE\n\n    MSG --> LOG\n\n    %% Performance Box\n    subgraph \"Production Metrics\"\n        METRICS[\"\"\"\n        実績データ:\n        - 処理ファイル数: 34,125\n        - 処理時間: 5分52秒\n        - 平均速度: 97 files/sec\n        - メモリ使用: 512MB\n        - CPU使用率: 25%\n        - エラー率: 0%\n        \"\"\"]\n    end\n\n    %% Styling\n    classDef main fill:#dc2626,stroke:#ef4444,stroke-width:3px,color:#fff\n    classDef ui fill:#2d3748,stroke:#4a5568,stroke-width:2px,color:#fff\n    classDef process fill:#1a365d,stroke:#2c5282,stroke-width:2px,color:#fff\n    classDef thread fill:#065666,stroke:#0e7490,stroke-width:2px,color:#fff\n    classDef cli fill:#5b21b6,stroke:#7c3aed,stroke-width:2px,color:#fff\n    classDef realtime fill:#7c2d12,stroke:#ea580c,stroke-width:2px,color:#fff\n    classDef metrics fill:#065f46,stroke:#10b981,stroke-width:2px,color:#fff\n\n    class GUI main\n    class TAB1,TAB2,TAB3,PROG,LOG,COUNT,SPEED,ETA ui\n    class PROC,ENV,PIPE process\n    class THREAD,QUEUE,LOCK thread\n    class INDEX_CMD,ADVISE_CMD,QUERY_CMD cli\n    class STREAM,UPDATE,REGEX,PARSE,CALC,MSG realtime\n    class METRICS metrics\n\n    %% Sequence Flow\n    subgraph \"Execution Flow\"\n        direction LR\n        START[User Click] --> SPAWN[Spawn Process]\n        SPAWN --> READ[Read Output]\n        READ --> PARSER[Parse Progress]\n        PARSER --> DISPLAY[Update UI]\n        DISPLAY --> COMPLETE[Complete]\n    end\n\n    style START fill:#059669,stroke:#10b981\n    style COMPLETE fill:#dc2626,stroke:#ef4444",
  "content_size": 3821,
  "collected_at": "2026-02-06T02:04:04.152243",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0
}