{
  "id": "gl_requirementDiagram_00512",
  "source": "gitlab",
  "source_url": "https://github.com/pauloavelar/go-dukpt-playground/blob/7d8f92a710b80a9b82af741fa09ebda1de0a73d5/docs/assets/diagrams/data-encryption.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "pauloavelar/go-dukpt-playground",
  "diagram_type": "requirementDiagram",
  "code": "%% Data Encryption Process\n%% Shows how Track2 data is encrypted using the derived session key\nflowchart TD\n    Track2[Track2 Data<br/>PAN, Expiry,<br/>Service Code]\n    SessionKey[Session Key with<br/>Data Variant<br/>Mask Applied]\n    \n    Track2 --> Format[Format Track2<br/>Add sentinels and<br/>separators<br/>PAN with exp date]\n    \n    Format --> BCD[Convert to BCD<br/>Binary Coded Decimal]\n    \n    BCD --> Pad[Pad to 8-byte blocks<br/>DES requirement<br/>Right-pad with 0x00]\n    \n    SessionKey --> Normalize[Normalize to<br/>24-byte key<br/>K1, K2, K1<br/>for 3DES]\n    \n    Pad --> Encrypt[3DES Encryption<br/>CBC Mode<br/><br/>For each 8-byte block:<br/>Apply 3DES encryption<br/>using derived session key]\n    Normalize --> Encrypt\n    \n    Encrypt --> Result[Encrypted Track2 Data<br/>Ready for transmission]",
  "content_size": 824,
  "collected_at": "2026-02-06T14:11:23.418560",
  "compilation_status": "failed",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}