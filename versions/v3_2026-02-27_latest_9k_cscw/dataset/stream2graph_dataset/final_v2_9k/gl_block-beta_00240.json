{
  "id": "gl_block-beta_00240",
  "source": "gitlab",
  "source_url": "https://github.com/IsaiahPressman/kaggle-lux-2024/blob/6f91e4eddddcbd0473b6948d23a384fda6b55768/media/model_architecture.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "IsaiahPressman/kaggle-lux-2024",
  "diagram_type": "block-beta",
  "code": "flowchart LR\n    subgraph input_encoder[Input Encoder]\n        direction TB\n        spatial_in[\"Spatial Observations\\n (N<sub>spatial</sub>, 24, 24)\"] --> conv_s1[\"3x3 Conv2D Projection\\n (D<sub>model</sub>, 24, 24)\"]\n        conv_s1 --> s_act[GELU]\n        s_act --> conv_s2[3x3 Conv2D]\n        conv_s2 --> in_sum[\"Sum (D<sub>model</sub>, 24, 24)\"]\n        global_in[\"Global Observations\\n (N<sub>global</sub>,)\"] --> lin_g1[\"Linear Projection\\n (D<sub>model</sub>,)\"]\n        lin_g1 --> g_act[GELU]\n        g_act --> lin_g2[Linear]\n        lin_g2 --> in_sum\n        in_sum --> core_model_in[Core Model Input]\n    end\n\n    subgraph conv_block[\"Convolutional Block (x8)\"]\n        direction TB\n        input[\"Input (D<sub>model</sub>, 24, 24)\"] --> conv_sum[Sum]\n        input --> conv1[3x3 Conv2D]\n        conv1 --> act1[GELU]\n        act1 --> conv2[3x3 Conv2D]\n        conv2 --> se[Squeeze Excitation]\n        se --> conv_sum\n        conv_sum --> act2[GELU]\n        act2 --> out_block[\"Output (D<sub>model</sub>, 24, 24)\"]\n    end\n\n    subgraph output_heads[Output Heads]\n        direction TB\n        subgraph actor_head[Actor Head]\n            direction TB\n            unit_energies[Unit Energies] --> actor_concat[\"Concatenate\\n (N<sub>units</sub>, D<sub>model</sub> + 1,)\"]\n            core_model_actor_out[\"Core Model Output\\n (D<sub>model</sub>, 24, 24)\"] --> actor_index[\"Index Unit Locations\\n (N<sub>units</sub>, D<sub>model</sub>,)\"]\n            actor_index --> actor_concat\n            actor_concat --> actor_lin1[\"Linear Projection\\n (N<sub>units</sub>, D<sub>model</sub>,)\"]\n            actor_lin1 --> main_actor_act[GELU]\n            main_actor_act --> actor_lin2[\"Linear Projection\\n (N<sub>units</sub>, N<sub>actions</sub>,)\"]\n            actor_lin2 --> main_actor_mask[Illegal Action Masking]\n            main_actor_mask --> main_actor_softmax[Softmax]\n            main_actor_softmax --> actions_output[Random Action Selection]\n\n            core_model_actor_out --> actor_conv1[3x3 Conv2D]\n            actor_conv1 --> sap_actor_act[GELU]\n            sap_actor_act --> actor_conv2[\"3x3 Conv2D Projection\\n (1, 24, 24)\"]\n            actor_conv2 --> sap_actor_expand[\"Expand (N<sub>units</sub>, 24, 24)\"]\n            sap_actor_expand --> sap_actor_mask[Illegal Action Masking]\n            sap_actor_mask --> sap_actor_softmax[Softmax]\n            sap_actor_softmax --> actions_output\n        end\n\n        subgraph critic_head[Critic Head]\n            direction TB\n            core_model_critic_out[\"Core Model Output\\n (D<sub>model</sub>, 24, 24)\"] --> critic_conv1[3x3 Conv2D]\n            critic_conv1 --> critic_act[GELU]\n            critic_act --> critic_conv2[\"3x3 Conv2D Projection\\n (1, 24, 24)\"]\n            critic_conv2 --> critic_mean[\"Spatial Mean (1,)\"]\n            critic_mean --> critic_post[Value Normalization]\n            critic_post --> critic_output[\"Estimated Win Probability\"]\n        end\n    end\n\n    input_encoder --> conv_block\n    conv_block --> output_heads\n",
  "content_size": 2997,
  "collected_at": "2026-02-06T14:05:11.369619",
  "compilation_status": "failed",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}