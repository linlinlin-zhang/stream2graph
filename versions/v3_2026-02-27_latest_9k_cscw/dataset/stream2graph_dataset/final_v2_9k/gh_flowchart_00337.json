{
  "id": "gh_flowchart_00337",
  "source": "github",
  "source_url": "https://github.com/Crsfil/crp-platform/blob/efaeb93370981416f8f2f40bbb59c8797479cc45/docs/diagrams/service-interactions.mmd",
  "github_repo": "Crsfil/crp-platform",
  "github_file_path": "docs/diagrams/service-interactions.mmd",
  "diagram_type": "flowchart",
  "code": "%% Service-to-Service interactions (generated Nov 10, 2025)\n%% Derived from *-service/src/main/resources/application.yml base-url settings\nflowchart LR\n  subgraph Resource Services\n    APP[application-service]\n    BPM[bpm-service]\n    BILL[billing-service]\n    SCHED[schedule-service]\n    REP[reports-service]\n    INV[inventory-service]\n    PROC[procurement-service]\n    KYC[kyc-service]\n    UW[underwriting-service]\n    PRC[product-pricing-service]\n  end\n\n  %% application-service calls\n  APP -->|client-credentials JWT| KYC\n  APP -->|client-credentials JWT| UW\n  APP -->|client-credentials JWT| PRC\n\n  %% bpm-service calls\n  BPM -->|client-credentials JWT| KYC\n  BPM -->|client-credentials JWT| UW\n  BPM -->|client-credentials JWT| PRC\n\n  %% reports-service calls\n  REP -->|client-credentials JWT| INV\n  REP -->|client-credentials JWT| PROC\n\n  %% billing-service calls\n  BILL -->|client-credentials JWT| SCHED\n\n  %% schedule-service calls\n  SCHED -->|client-credentials JWT| PRC\n\n  classDef svc fill:#eef,stroke:#88a,stroke-width:1px;\n  class APP,BPM,BILL,SCHED,REP,INV,PROC,KYC,UW,PRC svc;\n\n  %% Notes:\n  %% - Callers use service-auth-client (ClientCredentialsTokenManager + BearerExchangeFilter).\n  %% - Resource services enforce aud via common-security (audience == spring.application.name by default).\n  %% - Keycloak realm export defines audience mappers for each caller->target pair.\n\n",
  "content_size": 1393,
  "collected_at": "2026-02-06T01:43:29.994303",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}