{
  "id": "gh_class_01204",
  "source": "github",
  "source_url": "https://github.com/4-sem-CatchUp/CatchUp-Social-core/blob/66c949ac060d0f1a89125517cd95d4e209b20454/Social.Core/Social-Class.mmd",
  "github_repo": "4-sem-CatchUp/CatchUp-Social-core",
  "github_file_path": "Social.Core/Social-Class.mmd",
  "diagram_type": "class",
  "code": "classDiagram \n\t\n\tclass SubscriptionService  {\n\t\t-List~Subscription~ _subscriptions \n\t\t-ISubscriptionRepository _subscriptionRepository \n\t\t-INotificationSender _notificationSender \n\t\t+Notify(Profile Subscriber, string message) Task\n\t\t+Subscribe(Profile subscriber, Profile publisher) void\n\t\t+Unsubscribe(Profile subscriber, Profile publisher) void\n\t}\n\tclass ICommentRepository  {\n\t\t-GetByIdAsync(Guid commentId) Task~Comment?~\n\t\t-GetByPostIdAsync(Guid postId) Task~IReadOnlyList~Comment~~\n\t\t-AddAsync(Comment comment) Task\n\t\t-UpdateAsync(Comment comment) Task\n\t\t-DeleteAsync(Guid commentId) Task\n\t}\n\tclass IProfileUseCases  {\n\t\t-CreateProfileAsync(string userName) Task~Guid~\n\t\t-UpdateProfileAsync(Guid profileId, string? name, byte[]? profilePic, string? bio) Task\n\t\t-AddFriendAsync(Guid profileId, Guid friendId) Task\n\t}\n\tclass PostDbAdapter  {\n\t\t-SocialDbContext _context \n\t\t+AddAsync(Post post) Task\n\t\t+DeleteAsync(Guid postId) Task\n\t\t+GetAllAsync() Task~IEnumerable~Post~~\n\t\t+GetByIdAsync(Guid postId) Task~Post?~\n\t\t+UpdateAsync(Post post) Task\n\t}\n\tclass Profile  {\n\t\t+ Id : Guid\n\t\t+ Name : string\n\t\t+ ProfilePic : byte[]\n\t\t+ Bio : string\n\t\t+ DateOfSub : DateOnly\n\t\t+ Friends : List~Guid~\n\t\t+CreateNewProfile(string name) Profile\n\t\t+UpdateProfile(string? name, byte[]? profilePic, string? bio) void\n\t\t+AddFriend(Guid friendId) void\n\t}\n\tclass ICommentUseCases  {\n\t\t-AddComment(Guid postId, Guid authorId, string text) Task\n\t\t+VoteComment(Guid commentId, bool upVote, Guid userId) Task\n\t\t+GetUserCommentVote(Guid postId, Guid commentId, Guid userId) Task~bool?~\n\t\t+UpdateCommentAsync(Guid commentId, Guid userId, string newContent) Task~bool?~\n\t\t+DeleteComment(Guid postId, Guid commentId, Guid userId) Task~bool?~\n\t}\n\tclass IVoteRepository  {\n\t\t-GetByIdAsync(Guid voteId) Task~Vote?~\n\t\t-AddAsync(Vote vote) Task\n\t\t-UpdateAsync(Vote vote) Task\n\t\t-DeleteAsync(Guid voteId) Task\n\t\t-GetUserVoteAsync(Guid targetId, VoteTargetType targetType, Guid userId) Task~Vote?~\n\t\t-GetVotesForTargetAsync(Guid targetId, VoteTargetType targetType) Task~IReadOnlyList~Vote~~\n\t}\n\tclass Subscription  {\n\t\t+ Subscriber : Profile\n\t\t+ Publisher : Profile\n\t\t+ SubscribedOn : DateTime\n\t}\n\tclass ISubscribeUseCase  {\n\t\t-Subscribe(Profile subscriber, Profile publisher) void\n\t\t-Unsubscribe(Profile subscriber, Profile publisher) void\n\t\t-Notify(Profile Subscriber, string message) Task\n\t}\n\tclass CommentServices  {\n\t\t-IPostRepository _postRepository \n\t\t-ICommentRepository _commentRepository \n\t\t-IVoteRepository _voteRepository \n\t\t-ISubscribeUseCase _subscriptionService \n\t\t-IProfileRepository _profileRepository \n\t\t+AddComment(Guid postId, Guid authorId, string text) Task\n\t\t+VoteComment(Guid commentId, bool upVote, Guid userId) Task\n\t\t+GetUserCommentVote(Guid postId, Guid commentId, Guid userId) Task~bool?~\n\t\t+DeleteComment(Guid postId, Guid commentId, Guid userId) Task~bool?~\n\t\t+UpdateCommentAsync(Guid commentId, Guid userId, string newContent) Task~bool?~\n\t}\n\tclass ProfileDbAdapter  {\n\t\t+AddFriendAsync(Guid profileId, Guid friendId) Task\n\t\t+AddProfileAsync(Profile profile) Task\n\t\t+DeleteProfileAsync(Guid profileId) Task\n\t\t+GetAllProfilesAsync() Task~IEnumerable~Profile~~\n\t\t+GetProfileByIdAsync(Guid profileId) Task~Profile?~\n\t\t+UpdateProfileAsync(Profile profile) Task\n\t}\n\tclass ISubscriptionRepository  {\n\t\t-Add(Subscription subscription) void\n\t\t-Remove(Subscription subscription) void\n\t}\n\tclass ProfileService  {\n\t\t-IProfileRepository _profileRepository \n\t\t+CreateProfileAsync(string userName) Task~Guid~\n\t\t+UpdateProfileAsync(Guid profileId, string? name, byte[]? profilePic, string? bio) Task\n\t\t+AddFriendAsync(Guid profileId, Guid friendId) Task\n\t}\n\tclass INotificationSender  {\n\t\t-SendNotification(Profile recipient, string message) void\n\t}\n\tclass Comment  {\n\t\t-List~Vote~ _votes \n\t\t-int _karma \n\t\t+ Id : Guid\n\t\t+ AuthorId : Guid\n\t\t+ Content : string?\n\t\t+ Timestamp : DateTime\n\t\t+ Votes : IReadOnlyList~Vote~\n\t\t+ Karma : int\n\t\t+CreateNewComment(Guid authorId, string text) Comment\n\t\t+AddVote(Guid userId, bool upvote) Vote\n\t\t+UpdateComment(string newText) void\n\t\t+GetUserVote(Guid userId) bool?\n\t}\n\tclass Post  {\n\t\t-List~Comment~ _comments \n\t\t-List~Vote~ _votes \n\t\t-int _karma \n\t\t+ Id : Guid\n\t\t+ AuthorId : Guid\n\t\t+ Title : string\n\t\t+ Content : string\n\t\t+ CreatedAt : DateTime\n\t\t+ Comments : IReadOnlyList~Comment~\n\t\t+ Votes : IReadOnlyList~Vote~\n\t\t+ Karma : int\n\t\t+CreateNewPost(Guid authorId, string title, string content) Post\n\t\t+AddComment(Guid authorId, string text) Comment\n\t\t+AddVote(Guid userId, bool upvote) Vote\n\t\t+GetUserVote(Guid userId) bool?\n\t\t+UpdatePost(string? newTitle, string? newContent) void\n\t\t+RemoveComment(Guid commentId) void\n\t}\n\tclass IPostUseCases  {\n\t\t-CreatePostAsync(Guid authorId, string title, string content) Task~Guid~\n\t\t+VotePost(Guid postId, bool upVote, Guid userId) Task\n\t\t+GetUserPostVote(Guid postId, Guid userId) Task~bool?~\n\t\t+UpdatePostAsync(Guid postId, string? newTitle, string? newContent) Task\n\t\t+DeletePost(Guid postId) Task\n\t}\n\tclass SocialDbContext  {\n\t}\n\tclass PostService  {\n\t\t-IPostRepository _postRepository \n\t\t-ICommentRepository _commentRepository \n\t\t-IVoteRepository _voteRepository \n\t\t-ISubscribeUseCase _subscriptionService \n\t\t-IProfileRepository _profileRepository \n\t\t+CreatePostAsync(Guid authorId, string title, string content) Task~Guid~\n\t\t+VotePost(Guid postId, bool upVote, Guid userId) Task\n\t\t+GetUserPostVote(Guid postId, Guid userId) Task~bool?~\n\t\t+DeletePost(Guid postId) Task\n\t\t+UpdatePostAsync(Guid postId, string? newTitle, string? newContent) Task\n\t}\n\tclass NotificationHub  {\n\t\t+SendNotification(Profile recipient, string message) void\n\t}\n\tclass IProfileRepository  {\n\t\t-AddProfileAsync(Profile profile) Task\n\t\t-GetProfileByIdAsync(Guid profileId) Task~Profile?~\n\t\t-UpdateProfileAsync(Profile profile) Task\n\t\t-DeleteProfileAsync(Guid profileId) Task\n\t\t-AddFriendAsync(Guid profileId, Guid friendId) Task\n\t\t-GetAllProfilesAsync() Task~IEnumerable~Profile~~\n\t}\n\tclass IPostRepository  {\n\t\t-GetByIdAsync(Guid postId) Task~Post?~\n\t\t-GetAllAsync() Task~IEnumerable~Post~~\n\t\t-AddAsync(Post post) Task\n\t\t-UpdateAsync(Post post) Task\n\t\t-DeleteAsync(Guid postId) Task\n\t}\n\tclass Vote  {\n\t\t+ Id : Guid\n\t\t+ TargetId : Guid\n\t\t+ VoteTargetType : VoteTargetType\n\t\t+ UserId : Guid\n\t\t+ Upvote : bool\n\t\t+ Action : VoteAction\n\t}\n\tclass SocialServices  {\n\t}\n\tclass Program  {\n\t\t+Main(string[] args) void\n\t}\n\t\n\tSubscriptionService --|> ISubscribeUseCase\n\tPostDbAdapter --|> IPostRepository\n\tCommentServices --|> ICommentUseCases\n\tProfileDbAdapter --|> IProfileRepository\n\tProfileService --|> IProfileUseCases\n\tPostService --|> IPostUseCases\n\tNotificationHub --|> INotificationSender\n\tSocialServices --|> ControllerBase\n\t",
  "content_size": 6668,
  "collected_at": "2026-02-06T01:54:32.202987",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}