{
  "id": "gh_architecture_01565",
  "source": "github",
  "source_url": "https://github.com/nuttycc/xweb-time-tracker/blob/527eb35c8913c2c4bd34c3614502aea377576cff/docs/specs/mermaid/02/ASA.mmd",
  "github_repo": "nuttycc/xweb-time-tracker",
  "github_file_path": "docs/specs/mermaid/02/ASA.mmd",
  "diagram_type": "architecture",
  "code": "%% @name: Aggregation System Architecture (ASA)  Version: v1.01\ngraph LR\n    subgraph \"聚合引擎边界\"\n        AE[AggregationEngine]\n        AE --> |负责| AE_R1[事件到统计数据转换]\n        AE --> |负责| AE_R2[增量聚合逻辑]\n        AE --> |负责| AE_R3[时间累积计算]\n        AE --> |负责| AE_R4[域名解析处理]\n        AE --> |负责| AE_R5[基础错误处理]\n    end\n    \n    subgraph \"调度器边界\"\n        AS[AggregationScheduler]\n        AS --> |负责| AS_R1[Chrome.alarms管理]\n        AS --> |负责| AS_R2[任务队列控制]\n        AS --> |负责| AS_R3[并发防护]\n        AS --> |负责| AS_R4[执行监控]\n        AS --> |负责| AS_R5[重试机制]\n    end\n    \n    subgraph \"清理器边界\"\n        DP[DataPruner]\n        DP --> |负责| DP_R1[保留策略配置]\n        DP --> |负责| DP_R2[安全数据清理]\n        DP --> |负责| DP_R3[批量删除操作]\n        DP --> |负责| DP_R4[清理任务调度]\n    end\n    \n    subgraph \"集成层边界\"\n        SI[SystemIntegration]\n        SI --> |负责| SI_R1[组件协调]\n        SI --> |负责| SI_R2[全局错误恢复]\n        SI --> |负责| SI_R3[性能监控]\n        SI --> |负责| SI_R4[系统生命周期]\n    end\n    \n    subgraph \"外部接口\"\n        DB[(Database)]\n        CONFIG[Configuration]\n        CHROME[Chrome APIs]\n    end\n    \n    AS -.->|调用| AE\n    AS -.->|调用| DP\n    SI -.->|协调| AE\n    SI -.->|协调| AS\n    SI -.->|协调| DP\n    \n    AE <--> DB\n    DP <--> DB\n    AS <--> CHROME\n    AE <--> CONFIG\n    AS <--> CONFIG\n    DP <--> CONFIG\n\n    %% 优化样式：高对比度，提升可读性\n    style AE fill:#1976d2,stroke:#1565c0,stroke-width:2px,color:#fff\n    style AS fill:#8e24aa,stroke:#6d1b7b,stroke-width:2px,color:#fff\n    style DP fill:#388e3c,stroke:#1b5e20,stroke-width:2px,color:#fff\n    style SI fill:#f57c00,stroke:#e65100,stroke-width:2px,color:#fff\n    style DB fill:#263238,stroke:#212121,stroke-width:2px,color:#fff\n    style CONFIG fill:#455a64,stroke:#263238,stroke-width:2px,color:#fff\n    style CHROME fill:#0277bd,stroke:#01579b,stroke-width:2px,color:#fff\n",
  "content_size": 1775,
  "collected_at": "2026-02-06T01:47:58.106197",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}