{
  "id": "gl_requirementDiagram_00557",
  "source": "gitlab",
  "source_url": "https://github.com/hdnguyendev/dev-prep/blob/66c0e1ce652c1f2627fc81a5110628eb0c815627/database-diagram.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "hdnguyendev/dev-prep",
  "diagram_type": "requirementDiagram",
  "code": "erDiagram\n    %% User Management\n    User ||--o| CandidateProfile : \"has\"\n    User ||--o| RecruiterProfile : \"has\"\n    User ||--o{ Message : \"sends\"\n    User ||--o{ Message : \"receives\"\n    User ||--o{ Notification : \"has\"\n    User ||--o{ UserMembership : \"has\"\n    User ||--o{ PaymentTransaction : \"has\"\n    \n    CandidateProfile ||--o{ Experience : \"has\"\n    CandidateProfile ||--o{ Education : \"has\"\n    CandidateProfile ||--o{ Project : \"has\"\n    CandidateProfile ||--o{ CandidateSkill : \"has\"\n    CandidateProfile ||--o{ Application : \"makes\"\n    CandidateProfile ||--o{ SavedJob : \"saves\"\n    CandidateProfile ||--o{ CompanyReview : \"writes\"\n    CandidateProfile }o--o{ Interview : \"takes\"\n    CandidateProfile ||--o{ CompanyFollow : \"follows\"\n    \n    RecruiterProfile }o--|| Company : \"belongs to\"\n    RecruiterProfile ||--o{ Job : \"posts\"\n    \n    %% Skills\n    Skill ||--o{ CandidateSkill : \"has\"\n    Skill ||--o{ JobSkill : \"required for\"\n    \n    %% Company & Jobs\n    Company ||--o{ RecruiterProfile : \"has\"\n    Company ||--o{ Job : \"posts\"\n    Company ||--o{ CompanyReview : \"has\"\n    Company ||--o{ CompanyFollow : \"followed by\"\n    \n    Job }o--|| Company : \"belongs to\"\n    Job }o--|| RecruiterProfile : \"posted by\"\n    Job ||--o{ JobSkill : \"requires\"\n    Job ||--o{ JobCategory : \"has\"\n    Job ||--o{ Application : \"receives\"\n    Job ||--o{ SavedJob : \"saved in\"\n    Job }o--o{ Interview : \"has\"\n    \n    Category ||--o{ JobCategory : \"has\"\n    \n    %% Application\n    Application }o--|| Job : \"for\"\n    Application }o--|| CandidateProfile : \"by\"\n    Application ||--o{ ApplicationHistory : \"has\"\n    Application ||--o{ ApplicationNote : \"has\"\n    Application ||--o{ Offer : \"receives\"\n    Application }o--o{ Interview : \"has\"\n    \n    %% Interview\n    Interview ||--o{ InterviewExchange : \"has\"\n    \n    %% Membership\n    MembershipPlan ||--o{ UserMembership : \"used in\"\n    MembershipPlan ||--o{ PaymentTransaction : \"purchased as\"\n    UserMembership }o--|| MembershipPlan : \"plan\"\n    UserMembership ||--o{ PaymentTransaction : \"activated by\"\n    \n    %% Entity Definitions\n    User {\n        uuid id PK\n        string email UK\n        string passwordHash\n        string firstName\n        string lastName\n        string phone\n        string avatarUrl\n        string notificationEmail\n        enum role\n        boolean isVerified\n        boolean isActive\n        timestamp lastLoginAt\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    CandidateProfile {\n        uuid id PK\n        uuid userId FK\n        string headline\n        text bio\n        string website\n        string linkedin\n        string github\n        string address\n        string cvUrl\n        boolean isPublic\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    RecruiterProfile {\n        uuid id PK\n        uuid userId FK\n        uuid companyId FK\n        string position\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    Experience {\n        uuid id PK\n        uuid candidateId FK\n        string companyName\n        string position\n        string location\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        text description\n        timestamp createdAt\n    }\n    \n    Education {\n        uuid id PK\n        uuid candidateId FK\n        string institution\n        string degree\n        string fieldOfStudy\n        timestamp startDate\n        timestamp endDate\n        string grade\n        timestamp createdAt\n    }\n    \n    Project {\n        uuid id PK\n        uuid candidateId FK\n        string name\n        text description\n        string url\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        array technologies\n        timestamp createdAt\n    }\n    \n    Skill {\n        uuid id PK\n        string name UK\n        string iconUrl\n    }\n    \n    CandidateSkill {\n        uuid id PK\n        uuid candidateId FK\n        uuid skillId FK\n        string level\n    }\n    \n    Company {\n        uuid id PK\n        string name\n        string slug UK\n        string logoUrl\n        string coverUrl\n        string website\n        text description\n        string industry\n        string companySize\n        int foundedYear\n        string address\n        string city\n        string country\n        boolean isVerified\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    Job {\n        uuid id PK\n        string slug UK\n        string title\n        uuid companyId FK\n        uuid recruiterId FK\n        text description\n        text requirements\n        text benefits\n        array interviewQuestions\n        enum type\n        enum status\n        string location\n        boolean isRemote\n        float salaryMin\n        float salaryMax\n        enum currency\n        boolean isSalaryNegotiable\n        string experienceLevel\n        int quantity\n        int viewsCount\n        int clicksCount\n        timestamp publishedAt\n        timestamp deadline\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    Category {\n        uuid id PK\n        string name UK\n        string iconUrl\n    }\n    \n    JobCategory {\n        uuid jobId PK_FK\n        uuid categoryId PK_FK\n    }\n    \n    JobSkill {\n        uuid jobId PK_FK\n        uuid skillId PK_FK\n        boolean isRequired\n    }\n    \n    SavedJob {\n        uuid id PK\n        uuid candidateId FK\n        uuid jobId FK\n        timestamp savedAt\n    }\n    \n    CompanyReview {\n        uuid id PK\n        uuid companyId FK\n        uuid candidateId FK\n        int rating\n        string title\n        text review\n        text pros\n        text cons\n        boolean isCurrentEmployee\n        boolean wouldRecommend\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    CompanyFollow {\n        uuid id PK\n        uuid candidateId FK\n        uuid companyId FK\n        boolean notifyOnNewJob\n        boolean notifyOnJobUpdate\n        timestamp createdAt\n    }\n    \n    Application {\n        uuid id PK\n        uuid jobId FK\n        uuid candidateId FK\n        string resumeUrl\n        text coverLetter\n        enum status\n        text rejectionReason\n        timestamp appliedAt\n        timestamp updatedAt\n    }\n    \n    ApplicationHistory {\n        uuid id PK\n        uuid applicationId FK\n        enum status\n        string changedBy\n        string note\n        timestamp createdAt\n    }\n    \n    ApplicationNote {\n        uuid id PK\n        uuid applicationId FK\n        string authorId\n        text content\n        timestamp createdAt\n    }\n    \n    Offer {\n        uuid id PK\n        uuid applicationId FK\n        string title\n        float salaryMin\n        float salaryMax\n        enum salaryCurrency\n        string employmentType\n        timestamp startDate\n        timestamp expirationDate\n        string location\n        boolean isRemote\n        text description\n        text benefits\n        text terms\n        enum status\n        text responseNote\n        timestamp respondedAt\n        string sentBy\n        timestamp sentAt\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    Interview {\n        uuid id PK\n        uuid applicationId FK\n        uuid candidateId FK\n        uuid jobId FK\n        string title\n        enum type\n        enum status\n        string accessCode UK\n        string sessionUrl\n        timestamp expiresAt\n        timestamp startedAt\n        timestamp endedAt\n        int durationSeconds\n        float overallScore\n        text summary\n        string recommendation\n        string recordingUrl\n        text fullTranscript\n        json aiAnalysisData\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    InterviewExchange {\n        uuid id PK\n        uuid interviewId FK\n        int orderIndex\n        text questionText\n        string questionCategory\n        text answerText\n        string answerAudioUrl\n        float score\n        text feedback\n        int durationSeconds\n        timestamp createdAt\n    }\n    \n    QuestionBank {\n        uuid id PK\n        text content\n        string category\n        string difficulty\n        array expectedKeywords\n        timestamp createdAt\n    }\n    \n    Message {\n        uuid id PK\n        uuid senderId FK\n        uuid receiverId FK\n        text content\n        boolean isRead\n        string jobId\n        string applicationId\n        timestamp createdAt\n    }\n    \n    Notification {\n        uuid id PK\n        uuid userId FK\n        string title\n        string message\n        string type\n        boolean isRead\n        string link\n        timestamp createdAt\n    }\n    \n    MembershipPlan {\n        uuid id PK\n        string name UK\n        enum planType\n        enum role\n        float price\n        enum currency\n        int duration\n        int maxInterviews\n        int maxMatchingViews\n        int maxJobPostings\n        boolean unlimitedInterviews\n        boolean fullMatchingInsights\n        boolean rankedCandidateList\n        boolean directCandidateContact\n        text description\n        array features\n        boolean isActive\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    UserMembership {\n        uuid id PK\n        uuid userId FK\n        uuid planId FK\n        timestamp startDate\n        timestamp endDate\n        enum status\n        boolean autoRenew\n        text notes\n        timestamp createdAt\n        timestamp updatedAt\n    }\n    \n    PaymentTransaction {\n        uuid id PK\n        uuid userId FK\n        uuid planId FK\n        uuid membershipId FK\n        string orderCode UK\n        float amount\n        enum currency\n        string paymentLinkId\n        string paymentLinkUrl\n        enum status\n        json rawRequest\n        json rawResponse\n        timestamp paidAt\n        timestamp expiredAt\n        text errorMessage\n        timestamp createdAt\n        timestamp updatedAt\n    }\n",
  "content_size": 9853,
  "collected_at": "2026-02-06T14:12:17.113591",
  "compilation_status": "success",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 Message : \"sends\"\n    User ||--o{ Message : \"receives\"\n    User ||--o{ Notification : \"has\"\n    User ||--o{ UserMembership : \"has\"\n    User ||--o{ PaymentTransaction : \"has\"\n    \n    CandidateProfile ||--o{ Experience : \"has\"\n    CandidateProfile ||--o{ Education : \"has\"\n    CandidateProfile ||--o{ Project : \"has\"\n    CandidateProfile ||--o{ CandidateSkill : \"has\"\n    CandidateProfile ||--o{ Application : \"makes\"\n    CandidateProfile ||--o{ SavedJob : \"saves\"\n    CandidateProfile ||--o{ CompanyReview : \"writes\"\n    CandidateProfile  和 Interview : \"takes\"\n    CandidateProfile ||--o{ CompanyFollow : \"follows\"\n    \n    RecruiterProfile  的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'Message : \"sends\"\n    User ||--o{ Message : \"receives\"\n    User ||--o{ Notification : \"has\"\n    User ||--o{ UserMembership : \"has\"\n    User ||--o{ PaymentTransaction : \"has\"\n    \n    CandidateProfile ||--o{ Experience : \"has\"\n    CandidateProfile ||--o{ Education : \"has\"\n    CandidateProfile ||--o{ Project : \"has\"\n    CandidateProfile ||--o{ CandidateSkill : \"has\"\n    CandidateProfile ||--o{ Application : \"makes\"\n    CandidateProfile ||--o{ SavedJob : \"saves\"\n    CandidateProfile ||--o{ CompanyReview : \"writes\"\n    CandidateProfile  和 Interview : \"takes\"\n    CandidateProfile ||--o{ CompanyFollow : \"follows\"\n    \n    RecruiterProfile '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "o",
        "o"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 Job : \"posts\"\n    \n    %% Skills\n    Skill ||--o{ CandidateSkill : \"has\"\n    Skill ||--o{ JobSkill : \"required for\"\n    \n    %% Company & Jobs\n    Company ||--o{ RecruiterProfile : \"has\"\n    Company ||--o{ Job : \"posts\"\n    Company ||--o{ CompanyReview : \"has\"\n    Company ||--o{ CompanyFollow : \"followed by\"\n    \n    Job  和 JobSkill : \"requires\"\n    Job ||--o{ JobCategory : \"has\"\n    Job ||--o{ Application : \"receives\"\n    Job ||--o{ SavedJob : \"saved in\"\n    Job  这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'Job : \"posts\"\n    \n    %% Skills\n    Skill ||--o{ CandidateSkill : \"has\"\n    Skill ||--o{ JobSkill : \"required for\"\n    \n    %% Company & Jobs\n    Company ||--o{ RecruiterProfile : \"has\"\n    Company ||--o{ Job : \"posts\"\n    Company ||--o{ CompanyReview : \"has\"\n    Company ||--o{ CompanyFollow : \"followed by\"\n    \n    Job  和 JobSkill : \"requires\"\n    Job ||--o{ JobCategory : \"has\"\n    Job ||--o{ Application : \"receives\"\n    Job ||--o{ SavedJob : \"saved in\"\n    Job '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "o",
        "o"
      ],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 Interview : \"has\"\n    \n    Category ||--o{ JobCategory : \"has\"\n    \n    %% Application\n    Application  和 ApplicationHistory : \"has\"\n    Application ||--o{ ApplicationNote : \"has\"\n    Application ||--o{ Offer : \"receives\"\n    Application  的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'Interview : \"has\"\n    \n    Category ||--o{ JobCategory : \"has\"\n    \n    %% Application\n    Application  和 ApplicationHistory : \"has\"\n    Application ||--o{ ApplicationNote : \"has\"\n    Application ||--o{ Offer : \"receives\"\n    Application '，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "o",
        "o"
      ],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 Interview : \"has\"\n    \n    %% Interview\n    Interview ||--o{ InterviewExchange : \"has\"\n    \n    %% Membership\n    MembershipPlan ||--o{ UserMembership : \"used in\"\n    MembershipPlan ||--o{ PaymentTransaction : \"purchased as\"\n    UserMembership  和 PaymentTransaction : \"activated by\"\n    \n    %% Entity Definitions\n    User {\n        uuid id PK\n        string email UK\n        string passwordHash\n        string firstName\n        string lastName\n        string phone\n        string avatarUrl\n        string notificationEmail\n        enum role\n        boolean isVerified\n        boolean isActive\n        timestamp lastLoginAt\n        timestamp createdAt\n        timestamp updatedAt\n     的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'Interview : \"has\"\n    \n    %% Interview\n    Interview ||--o{ InterviewExchange : \"has\"\n    \n    %% Membership\n    MembershipPlan ||--o{ UserMembership : \"used in\"\n    MembershipPlan ||--o{ PaymentTransaction : \"purchased as\"\n    UserMembership  和 PaymentTransaction : \"activated by\"\n    \n    %% Entity Definitions\n    User {\n        uuid id PK\n        string email UK\n        string passwordHash\n        string firstName\n        string lastName\n        string phone\n        string avatarUrl\n        string notificationEmail\n        enum role\n        boolean isVerified\n        boolean isActive\n        timestamp lastLoginAt\n        timestamp createdAt\n        timestamp updatedAt\n    '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "o",
        "o"
      ],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 uuid id PK\n        uuid userId FK\n        string headline\n        text bio\n        string website\n        string linkedin\n        string github\n        string address\n        string cvUrl\n        boolean isPublic\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        uuid userId FK\n        uuid companyId FK\n        string position\n        timestamp createdAt\n        timestamp updatedAt\n     的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 uuid id PK\n        uuid userId FK\n        string headline\n        text bio\n        string website\n        string linkedin\n        string github\n        string address\n        string cvUrl\n        boolean isPublic\n        timestamp createdAt\n        timestamp updatedAt\n    处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 19,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'uuid id PK\n        uuid userId FK\n        string headline\n        text bio\n        string website\n        string linkedin\n        string github\n        string address\n        string cvUrl\n        boolean isPublic\n        timestamp createdAt\n        timestamp updatedAt\n    处理'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 20,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "CandidateProfile",
        "RecruiterProfile"
      ],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 uuid id PK\n        uuid candidateId FK\n        string companyName\n        string position\n        string location\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        text description\n        timestamp createdAt\n     和 uuid id PK\n        uuid candidateId FK\n        string institution\n        string degree\n        string fieldOfStudy\n        timestamp startDate\n        timestamp endDate\n        string grade\n        timestamp createdAt\n     这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'uuid id PK\n        uuid candidateId FK\n        string companyName\n        string position\n        string location\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        text description\n        timestamp createdAt\n     和 uuid id PK\n        uuid candidateId FK\n        string institution\n        string degree\n        string fieldOfStudy\n        timestamp startDate\n        timestamp endDate\n        string grade\n        timestamp createdAt\n    '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Experience",
        "Education"
      ],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 uuid id PK\n        uuid candidateId FK\n        string name\n        text description\n        string url\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        array technologies\n        timestamp createdAt\n     和 uuid id PK\n        string name UK\n        string iconUrl\n    。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'uuid id PK\n        uuid candidateId FK\n        string name\n        text description\n        string url\n        timestamp startDate\n        timestamp endDate\n        boolean isCurrent\n        array technologies\n        timestamp createdAt\n     和 uuid id PK\n        string name UK\n        string iconUrl\n    '？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Project",
        "Skill"
      ],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 uuid id PK\n        uuid candidateId FK\n        uuid skillId FK\n        string level\n     和 uuid id PK\n        string name\n        string slug UK\n        string logoUrl\n        string coverUrl\n        string website\n        text description\n        string industry\n        string companySize\n        int foundedYear\n        string address\n        string city\n        string country\n        boolean isVerified\n        timestamp createdAt\n        timestamp updatedAt\n     的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 uuid id PK\n        uuid candidateId FK\n        uuid skillId FK\n        string level\n    处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        uuid candidateId FK\n        uuid skillId FK\n        string level\n    处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "CandidateSkill",
        "Company"
      ],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 uuid id PK\n        string slug UK\n        string title\n        uuid companyId FK\n        uuid recruiterId FK\n        text description\n        text requirements\n        text benefits\n        array interviewQuestions\n        enum type\n        enum status\n        string location\n        boolean isRemote\n        float salaryMin\n        float salaryMax\n        enum currency\n        boolean isSalaryNegotiable\n        string experienceLevel\n        int quantity\n        int viewsCount\n        int clicksCount\n        timestamp publishedAt\n        timestamp deadline\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        string name UK\n        string iconUrl\n     的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'uuid id PK\n        string slug UK\n        string title\n        uuid companyId FK\n        uuid recruiterId FK\n        text description\n        text requirements\n        text benefits\n        array interviewQuestions\n        enum type\n        enum status\n        string location\n        boolean isRemote\n        float salaryMin\n        float salaryMax\n        enum currency\n        boolean isSalaryNegotiable\n        string experienceLevel\n        int quantity\n        int viewsCount\n        int clicksCount\n        timestamp publishedAt\n        timestamp deadline\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        string name UK\n        string iconUrl\n    '？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 38,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Job",
        "Category"
      ],
      "is_repair": false
    },
    {
      "turn_id": 39,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 uuid jobId PK_FK\n        uuid categoryId PK_FK\n     和 uuid jobId PK_FK\n        uuid skillId PK_FK\n        boolean isRequired\n     这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 40,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 uuid jobId PK_FK\n        uuid categoryId PK_FK\n    处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 41,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid jobId PK_FK\n        uuid categoryId PK_FK\n    处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 42,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 43,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "JobCategory",
        "JobSkill"
      ],
      "is_repair": false
    },
    {
      "turn_id": 44,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 uuid id PK\n        uuid candidateId FK\n        uuid jobId FK\n        timestamp savedAt\n     和 uuid id PK\n        uuid companyId FK\n        uuid candidateId FK\n        int rating\n        string title\n        text review\n        text pros\n        text cons\n        boolean isCurrentEmployee\n        boolean wouldRecommend\n        timestamp createdAt\n        timestamp updatedAt\n     的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 45,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'uuid id PK\n        uuid candidateId FK\n        uuid jobId FK\n        timestamp savedAt\n     和 uuid id PK\n        uuid companyId FK\n        uuid candidateId FK\n        int rating\n        string title\n        text review\n        text pros\n        text cons\n        boolean isCurrentEmployee\n        boolean wouldRecommend\n        timestamp createdAt\n        timestamp updatedAt\n    '，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 46,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 47,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "SavedJob",
        "CompanyReview"
      ],
      "is_repair": false
    },
    {
      "turn_id": 48,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 uuid id PK\n        uuid candidateId FK\n        uuid companyId FK\n        boolean notifyOnNewJob\n        boolean notifyOnJobUpdate\n        timestamp createdAt\n     和 uuid id PK\n        uuid jobId FK\n        uuid candidateId FK\n        string resumeUrl\n        text coverLetter\n        enum status\n        text rejectionReason\n        timestamp appliedAt\n        timestamp updatedAt\n     的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 49,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'uuid id PK\n        uuid candidateId FK\n        uuid companyId FK\n        boolean notifyOnNewJob\n        boolean notifyOnJobUpdate\n        timestamp createdAt\n     和 uuid id PK\n        uuid jobId FK\n        uuid candidateId FK\n        string resumeUrl\n        text coverLetter\n        enum status\n        text rejectionReason\n        timestamp appliedAt\n        timestamp updatedAt\n    '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 50,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 51,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "CompanyFollow",
        "Application"
      ],
      "is_repair": false
    },
    {
      "turn_id": 52,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 uuid id PK\n        uuid applicationId FK\n        enum status\n        string changedBy\n        string note\n        timestamp createdAt\n     和 uuid id PK\n        uuid applicationId FK\n        string authorId\n        text content\n        timestamp createdAt\n     的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 53,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'uuid id PK\n        uuid applicationId FK\n        enum status\n        string changedBy\n        string note\n        timestamp createdAt\n     和 uuid id PK\n        uuid applicationId FK\n        string authorId\n        text content\n        timestamp createdAt\n    '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 54,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 55,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ApplicationHistory",
        "ApplicationNote"
      ],
      "is_repair": false
    },
    {
      "turn_id": 56,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 uuid id PK\n        uuid applicationId FK\n        string title\n        float salaryMin\n        float salaryMax\n        enum salaryCurrency\n        string employmentType\n        timestamp startDate\n        timestamp expirationDate\n        string location\n        boolean isRemote\n        text description\n        text benefits\n        text terms\n        enum status\n        text responseNote\n        timestamp respondedAt\n        string sentBy\n        timestamp sentAt\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        uuid applicationId FK\n        uuid candidateId FK\n        uuid jobId FK\n        string title\n        enum type\n        enum status\n        string accessCode UK\n        string sessionUrl\n        timestamp expiresAt\n        timestamp startedAt\n        timestamp endedAt\n        int durationSeconds\n        float overallScore\n        text summary\n        string recommendation\n        string recordingUrl\n        text fullTranscript\n        json aiAnalysisData\n        timestamp createdAt\n        timestamp updatedAt\n     的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 57,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'uuid id PK\n        uuid applicationId FK\n        string title\n        float salaryMin\n        float salaryMax\n        enum salaryCurrency\n        string employmentType\n        timestamp startDate\n        timestamp expirationDate\n        string location\n        boolean isRemote\n        text description\n        text benefits\n        text terms\n        enum status\n        text responseNote\n        timestamp respondedAt\n        string sentBy\n        timestamp sentAt\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        uuid applicationId FK\n        uuid candidateId FK\n        uuid jobId FK\n        string title\n        enum type\n        enum status\n        string accessCode UK\n        string sessionUrl\n        timestamp expiresAt\n        timestamp startedAt\n        timestamp endedAt\n        int durationSeconds\n        float overallScore\n        text summary\n        string recommendation\n        string recordingUrl\n        text fullTranscript\n        json aiAnalysisData\n        timestamp createdAt\n        timestamp updatedAt\n    '，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 58,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 59,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Offer",
        "Interview"
      ],
      "is_repair": false
    },
    {
      "turn_id": 60,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 uuid id PK\n        uuid interviewId FK\n        int orderIndex\n        text questionText\n        string questionCategory\n        text answerText\n        string answerAudioUrl\n        float score\n        text feedback\n        int durationSeconds\n        timestamp createdAt\n     和 uuid id PK\n        text content\n        string category\n        string difficulty\n        array expectedKeywords\n        timestamp createdAt\n     的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 61,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        uuid interviewId FK\n        int orderIndex\n        text questionText\n        string questionCategory\n        text answerText\n        string answerAudioUrl\n        float score\n        text feedback\n        int durationSeconds\n        timestamp createdAt\n     和 uuid id PK\n        text content\n        string category\n        string difficulty\n        array expectedKeywords\n        timestamp createdAt\n    '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 62,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 63,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "InterviewExchange",
        "QuestionBank"
      ],
      "is_repair": false
    },
    {
      "turn_id": 64,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 uuid id PK\n        uuid senderId FK\n        uuid receiverId FK\n        text content\n        boolean isRead\n        string jobId\n        string applicationId\n        timestamp createdAt\n     和 uuid id PK\n        uuid userId FK\n        string title\n        string message\n        string type\n        boolean isRead\n        string link\n        timestamp createdAt\n     的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 65,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        uuid senderId FK\n        uuid receiverId FK\n        text content\n        boolean isRead\n        string jobId\n        string applicationId\n        timestamp createdAt\n     和 uuid id PK\n        uuid userId FK\n        string title\n        string message\n        string type\n        boolean isRead\n        string link\n        timestamp createdAt\n    '。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 66,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 67,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Message",
        "Notification"
      ],
      "is_repair": false
    },
    {
      "turn_id": 68,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 uuid id PK\n        string name UK\n        enum planType\n        enum role\n        float price\n        enum currency\n        int duration\n        int maxInterviews\n        int maxMatchingViews\n        int maxJobPostings\n        boolean unlimitedInterviews\n        boolean fullMatchingInsights\n        boolean rankedCandidateList\n        boolean directCandidateContact\n        text description\n        array features\n        boolean isActive\n        timestamp createdAt\n        timestamp updatedAt\n     和 uuid id PK\n        uuid userId FK\n        uuid planId FK\n        timestamp startDate\n        timestamp endDate\n        enum status\n        boolean autoRenew\n        text notes\n        timestamp createdAt\n        timestamp updatedAt\n     的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 69,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "不，其实叫 uuid id PK\n        string name UK\n        enum planType\n        enum role\n        float price\n        enum currency\n        int duration\n        int maxInterviews\n        int maxMatchingViews\n        int maxJobPostings\n        boolean unlimitedInterviews\n        boolean fullMatchingInsights\n        boolean rankedCandidateList\n        boolean directCandidateContact\n        text description\n        array features\n        boolean isActive\n        timestamp createdAt\n        timestamp updatedAt\n    处理 会更准确一点。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 70,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'uuid id PK\n        string name UK\n        enum planType\n        enum role\n        float price\n        enum currency\n        int duration\n        int maxInterviews\n        int maxMatchingViews\n        int maxJobPostings\n        boolean unlimitedInterviews\n        boolean fullMatchingInsights\n        boolean rankedCandidateList\n        boolean directCandidateContact\n        text description\n        array features\n        boolean isActive\n        timestamp createdAt\n        timestamp updatedAt\n    处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 71,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 72,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "MembershipPlan",
        "UserMembership"
      ],
      "is_repair": false
    },
    {
      "turn_id": 73,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 uuid id PK\n        uuid userId FK\n        uuid planId FK\n        uuid membershipId FK\n        string orderCode UK\n        float amount\n        enum currency\n        string paymentLinkId\n        string paymentLinkUrl\n        enum status\n        json rawRequest\n        json rawResponse\n        timestamp paidAt\n        timestamp expiredAt\n        text errorMessage\n        timestamp createdAt\n        timestamp updatedAt\n     的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 74,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'uuid id PK\n        uuid userId FK\n        uuid planId FK\n        uuid membershipId FK\n        string orderCode UK\n        float amount\n        enum currency\n        string paymentLinkId\n        string paymentLinkUrl\n        enum status\n        json rawRequest\n        json rawResponse\n        timestamp paidAt\n        timestamp expiredAt\n        text errorMessage\n        timestamp createdAt\n        timestamp updatedAt\n    '，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 75,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 76,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "PaymentTransaction"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 76,
    "repair_count": 4,
    "grounding_acts_count": 36,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:39Z"
}