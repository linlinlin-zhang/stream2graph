{
  "id": "aug_ot_stateDiagram_00056_Edu_4",
  "source": "augmented_real_structure",
  "source_url": "https://github.com/federicorichter/MIPS_Arquitectura/blob/0d2ad8fa0bd2b9ce7f931aecb9da30fe112b2f70/scripts/StateDiagram.mmd",
  "source_type": "github_search_special",
  "github_repo": "federicorichter/MIPS_Arquitectura",
  "diagram_type": "stateDiagram",
  "code": "stateDiagram-v2\n    [Education_StudentDB] --> IDLE\n    \n    state \"IDLE\" as IDLE\n    \n    %% Transiciones desde IDLE según comando recibido (Education_ClassroomService)\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_REGISTERS: rx=0x01\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_IF_ID: rx=0x02\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_ID_EX: rx=0x03\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_EX_MEM: rx=0x04\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_MEM_WB: rx=0x05\n    IDLE --> WAIT_RX_DONE_DOWN_SEND_MEMORY: rx=0x06\n    IDLE --> WAIT_RX_DONE_DOWN_RECEIVE_INSTRUCTION_COUNT: rx=0x07\n    IDLE --> WAIT_RX_DONE_DOWN_IDLE: rx=0x08,0x09,0x0D\n    IDLE --> STEP_CLOCK: rx=0x0A\n    IDLE --> WAIT_RX_DONE_DOWN_RECEIVE_ADDRESS: rx=0x0B\n    IDLE --> WAIT_RX_DOWN_STOP_PC: rx=0x0E\n    IDLE --> SEND_DEBUG_INSTRUCTIONS: rx=0x10\n    IDLE --> SEND_PC: rx=0x11\n\n    %% Envío de registros\n    state \"WAIT_RX_DONE_DOWN_SEND_REGISTERS\" as WAIT_RX_DONE_DOWN_SEND_REGISTERS\n    WAIT_RX_DONE_DOWN_SEND_REGISTERS --> SEND_REGISTERS: !uart_rx_done_reg\n    state \"SEND_REGISTERS\" as SEND_REGISTERS\n    SEND_REGISTERS --> WAIT_UART_TX_FULL_DOWN_SEND_REGISTERS: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_REGISTERS\" as WAIT_UART_TX_FULL_DOWN_SEND_REGISTERS\n    WAIT_UART_TX_FULL_DOWN_SEND_REGISTERS --> SEND_REGISTERS: uart_tx_full=1\n    SEND_REGISTERS --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar IF/ID\n    state \"WAIT_RX_DONE_DOWN_SEND_IF_ID\" as WAIT_RX_DONE_DOWN_SEND_IF_ID\n    WAIT_RX_DONE_DOWN_SEND_IF_ID --> SEND_IF_ID: !uart_rx_done_reg\n    state \"SEND_IF_ID\" as SEND_IF_ID\n    SEND_IF_ID --> WAIT_UART_TX_FULL_DOWN_SEND_IF_ID: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_IF_ID\" as WAIT_UART_TX_FULL_DOWN_SEND_IF_ID\n    WAIT_UART_TX_FULL_DOWN_SEND_IF_ID --> SEND_IF_ID: uart_tx_full=1\n    SEND_IF_ID --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar ID/EX\n    state \"WAIT_RX_DONE_DOWN_SEND_ID_EX\" as WAIT_RX_DONE_DOWN_SEND_ID_EX\n    WAIT_RX_DONE_DOWN_SEND_ID_EX --> SEND_ID_EX: !uart_rx_done_reg\n    state \"SEND_ID_EX\" as SEND_ID_EX\n    SEND_ID_EX --> WAIT_UART_TX_FULL_DOWN_SEND_ID_EX: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_ID_EX\" as WAIT_UART_TX_FULL_DOWN_SEND_ID_EX\n    WAIT_UART_TX_FULL_DOWN_SEND_ID_EX --> SEND_ID_EX: uart_tx_full=1\n    SEND_ID_EX --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar EX/MEM\n    state \"WAIT_RX_DONE_DOWN_SEND_EX_MEM\" as WAIT_RX_DONE_DOWN_SEND_EX_MEM\n    WAIT_RX_DONE_DOWN_SEND_EX_MEM --> SEND_EX_MEM: !uart_rx_done_reg\n    state \"SEND_EX_MEM\" as SEND_EX_MEM\n    SEND_EX_MEM --> WAIT_UART_TX_FULL_DOWN_SEND_EX_MEM: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_EX_MEM\" as WAIT_UART_TX_FULL_DOWN_SEND_EX_MEM\n    WAIT_UART_TX_FULL_DOWN_SEND_EX_MEM --> SEND_EX_MEM: uart_tx_full=1\n    SEND_EX_MEM --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar MEM/WB\n    state \"WAIT_RX_DONE_DOWN_SEND_MEM_WB\" as WAIT_RX_DONE_DOWN_SEND_MEM_WB\n    WAIT_RX_DONE_DOWN_SEND_MEM_WB --> SEND_MEM_WB: !uart_rx_done_reg\n    state \"SEND_MEM_WB\" as SEND_MEM_WB\n    SEND_MEM_WB --> WAIT_UART_TX_FULL_DOWN_SEND_MEM_WB: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_MEM_WB\" as WAIT_UART_TX_FULL_DOWN_SEND_MEM_WB\n    WAIT_UART_TX_FULL_DOWN_SEND_MEM_WB --> SEND_MEM_WB: uart_tx_full=1\n    SEND_MEM_WB --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar memoria de datos\n    state \"WAIT_RX_DONE_DOWN_SEND_MEMORY\" as WAIT_RX_DONE_DOWN_SEND_MEMORY\n    WAIT_RX_DONE_DOWN_SEND_MEMORY --> SEND_MEMORY: !uart_rx_done_reg\n    state \"SEND_MEMORY\" as SEND_MEMORY\n    SEND_MEMORY --> WAIT_UART_TX_FULL_DOWN_SEND_MEMORY: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_MEMORY\" as WAIT_UART_TX_FULL_DOWN_SEND_MEMORY\n    WAIT_UART_TX_FULL_DOWN_SEND_MEMORY --> SEND_MEMORY: uart_tx_full=1\n    SEND_MEMORY --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Carga de programa\n    state \"WAIT_RX_DONE_DOWN_RECEIVE_INSTRUCTION_COUNT\" as WAIT_RX_DONE_DOWN_RECEIVE_INSTRUCTION_COUNT\n    WAIT_RX_DONE_DOWN_RECEIVE_INSTRUCTION_COUNT --> RECEIVE_INSTRUCTION_COUNT: !uart_rx_done_reg\n    state \"RECEIVE_INSTRUCTION_COUNT\" as RECEIVE_INSTRUCTION_COUNT\n    RECEIVE_INSTRUCTION_COUNT --> WAIT_RX_DONE_DOWN_LOAD_PROGRAM: uart_rx_done_reg\n\n    state \"WAIT_RX_DONE_DOWN_LOAD_PROGRAM\" as WAIT_RX_DONE_DOWN_LOAD_PROGRAM\n    WAIT_RX_DONE_DOWN_LOAD_PROGRAM --> LOAD_PROGRAM: !uart_rx_done_reg\n    state \"LOAD_PROGRAM\" as LOAD_PROGRAM\n    LOAD_PROGRAM --> WAIT_RX_DONE_LOAD_PROGRAM_1: (Education_StudentDB)\n    LOAD_PROGRAM --> WAIT_RX_DONE_LOAD_PROGRAM_2: (Education_GradeSync)\n    LOAD_PROGRAM --> WAIT_RX_DONE_LOAD_PROGRAM_3: (Education_LMS_Portal)\n    LOAD_PROGRAM --> WAIT_EXECUTE: (Education_GradeSync)\n\n    state \"WAIT_RX_DONE_LOAD_PROGRAM_1\" as WAIT_RX_DONE_LOAD_PROGRAM_1\n    WAIT_RX_DONE_LOAD_PROGRAM_1 --> LOAD_PROGRAM: !uart_rx_done_reg\n    state \"WAIT_RX_DONE_LOAD_PROGRAM_2\" as WAIT_RX_DONE_LOAD_PROGRAM_2\n    WAIT_RX_DONE_LOAD_PROGRAM_2 --> LOAD_PROGRAM: !uart_rx_done_reg\n    state \"WAIT_RX_DONE_LOAD_PROGRAM_3\" as WAIT_RX_DONE_LOAD_PROGRAM_3\n    WAIT_RX_DONE_LOAD_PROGRAM_3 --> LOAD_PROGRAM: !uart_rx_done_reg\n\n    state \"WAIT_EXECUTE\" as WAIT_EXECUTE\n    WAIT_EXECUTE --> PROGRAM_RESET: listo_para_reset\n\n    %% Reset del programa\n    state \"PROGRAM_RESET\" as PROGRAM_RESET\n    PROGRAM_RESET --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: reset_terminado\n    PROGRAM_RESET --> PROGRAM_RESET: incrementar_reset_counter\n    \n    %% Lectura de dirección de memoria\n    state \"WAIT_RX_DONE_DOWN_RECEIVE_ADDRESS\" as WAIT_RX_DONE_DOWN_RECEIVE_ADDRESS\n    WAIT_RX_DONE_DOWN_RECEIVE_ADDRESS --> RECEIVE_ADDRESS: !uart_rx_done_reg\n    state \"RECEIVE_ADDRESS\" as RECEIVE_ADDRESS\n    RECEIVE_ADDRESS --> WAIT_RX_DONE_DOWN_SEND_MEMORY: uart_rx_done_reg\n\n    %% Recepción de PC de parada\n    state \"WAIT_RX_DOWN_STOP_PC\" as WAIT_RX_DOWN_STOP_PC\n    WAIT_RX_DOWN_STOP_PC --> RECEIVE_STOP_PC: !uart_rx_done_reg\n    state \"RECEIVE_STOP_PC\" as RECEIVE_STOP_PC\n    RECEIVE_STOP_PC --> WAIT_NO_TX_FULL: uart_rx_done_reg\n\n    %% Espera (Education_GradeSync)\n    state \"WAIT_UART_TX_FULL_DOWN_IDLE_ACK\" as WAIT_UART_TX_FULL_DOWN_IDLE_ACK\n    WAIT_UART_TX_FULL_DOWN_IDLE_ACK --> WAIT_TX_DOWN_IDLE_ACK: uart_tx_full=1\n    state \"WAIT_TX_DOWN_IDLE_ACK\" as WAIT_TX_DOWN_IDLE_ACK\n    WAIT_TX_DOWN_IDLE_ACK --> IDLE: !uart_tx_full\n    \n    %% Esperar sin transmisión\n    state \"WAIT_NO_TX_FULL\" as WAIT_NO_TX_FULL\n    WAIT_NO_TX_FULL --> SEND_IDLE_ACK: !uart_tx_full\n    state \"SEND_IDLE_ACK\" as SEND_IDLE_ACK\n    SEND_IDLE_ACK --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: uart_tx_start=1\n\n    %% Espera sin recepción\n    state \"WAIT_RX_DONE_DOWN_IDLE\" as WAIT_RX_DONE_DOWN_IDLE\n    WAIT_RX_DONE_DOWN_IDLE --> IDLE: !uart_rx_done_reg\n\n    %% Enviar instrucciones de depuración\n    state \"SEND_DEBUG_INSTRUCTIONS\" as SEND_DEBUG_INSTRUCTIONS\n    SEND_DEBUG_INSTRUCTIONS --> WAIT_UART_TX_FULL_DOWN_SEND_DEBUG_INSTRUCTIONS: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_DEBUG_INSTRUCTIONS\" as WAIT_UART_TX_FULL_DOWN_SEND_DEBUG_INSTRUCTIONS\n    WAIT_UART_TX_FULL_DOWN_SEND_DEBUG_INSTRUCTIONS --> SEND_DEBUG_INSTRUCTIONS: uart_tx_full=1\n    SEND_DEBUG_INSTRUCTIONS --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Enviar PC\n    state \"SEND_PC\" as SEND_PC\n    SEND_PC --> WAIT_UART_TX_FULL_DOWN_SEND_PC: uart_tx_start=1\n    state \"WAIT_UART_TX_FULL_DOWN_SEND_PC\" as WAIT_UART_TX_FULL_DOWN_SEND_PC\n    WAIT_UART_TX_FULL_DOWN_SEND_PC --> SEND_PC: uart_tx_full=1\n    SEND_PC --> WAIT_UART_TX_FULL_DOWN_IDLE_ACK: fin_envio\n\n    %% Modo paso a paso\n    state \"STEP_CLOCK\" as STEP_CLOCK\n    STEP_CLOCK --> WAIT_STEP\n    state \"WAIT_STEP\" as WAIT_STEP\n    WAIT_STEP --> IDLE\n\n    %% Estados finales por defecto\n    [Education_GradeSync] --> IDLE",
  "content_size": 7631,
  "collected_at": "2026-02-06T10:37:19.281546",
  "compilation_status": "success",
  "license": "other_source",
  "license_name": "Other Source (GitHub-based)",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "augmentation_domain": "Education",
  "seed_id": "ot_stateDiagram_00056",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 Education_StudentDB 和 Education_ClassroomService 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'Education_StudentDB 和 Education_ClassroomService'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 3,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "v2",
        "recibido"
      ],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 Education_GradeSync 和 Education_GradeSync 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 Education_GradeSync处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 7,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'Education_GradeSync处理'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Espera",
        "defecto"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 9,
    "repair_count": 1,
    "grounding_acts_count": 4,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repaired_at": "2026-02-28T13:41:48Z"
}