{
  "id": "gl_flowchart_00662",
  "source": "gitlab",
  "source_url": "https://github.com/Ranatar/philosophical-concepts-omnidirectional/blob/25a27fafde81aea5d8d6c25ba2667f677c456ce2/architecture/db-schema.mmd",
  "source_note": "collected_from_github_final",
  "github_repo": "Ranatar/philosophical-concepts-omnidirectional",
  "diagram_type": "flowchart",
  "code": "flowchart TD\n    %% Основные узлы\n    Concept[\"Концепция\n    concept_id\n    name\"] --> |INCLUDES| Category1\n    Concept --> |INCLUDES| Category2\n    \n    %% Категории\n    Category1[\"Категория\n    category_id\n    name\n    definition\"] --> |RELATED_TO| Category2[\"Категория\n    category_id\n    name\n    definition\"]\n    \n    %% Свойства категорий\n    Category1 --> CategoryProps1[\"Свойства категории\n    centrality\n    certainty\n    historical_significance\n    traditions (array)\n    philosophers (array)\"]\n    \n    %% Свойства связей\n    Category1 --> |has properties| RelProps[\"Свойства связи\n    type\n    direction\n    strength\n    certainty\n    source\n    traditions (array)\n    philosophers (array)\"]\n    Category2 --> |has properties| RelProps\n\n    %% Новые узлы для шаблонов\n    CategoryTemplate[\"Шаблон категории\n    template_id\n    name\n    default_definition\n    is_system\"]\n    \n    RelationshipTypeTemplate[\"Шаблон типа связи\n    template_id\n    type_name\n    default_direction\n    is_system\"]\n    \n    %% Новая коллекция MongoDB\n    GeneratedElements[\"Сгенерированные элементы\n    element_id\n    concept_id\n    element_type\n    element_name\n    is_new\n    is_approved\"]\n    \n    %% Связи\n    CategoryTemplate --> |DEFINES| Category1\n    CategoryTemplate --> |DEFINES| Category2\n    RelationshipTypeTemplate --> |DEFINES| RelProps\n    \n    Concept --> |GENERATES| GeneratedElements\n    GeneratedElements --> |BECOMES| CategoryTemplate\n    GeneratedElements --> |BECOMES| RelationshipTypeTemplate\n    \n    %% Связи с пользователями для одобрения\n    User[\"Пользователь\n    user_id\"] --> |APPROVES| GeneratedElements\n    User --> |CREATES| CategoryTemplate\n    User --> |CREATES| RelationshipTypeTemplate\n    \n    %% Тезисы и их взаимодействие с категориями\n    Thesis[\"Тезисы\n    thesis_id\n    type\n    content\n    style\n    related_categories (array)\"]\n    Category1 --> |referenced_in| Thesis\n    Category2 --> |referenced_in| Thesis\n    \n    %% Название концепции - используем однонаправленные связи в обе стороны\n    ConceptName[\"Название\n    name_id\n    name\n    analysis\"]\n    Concept --> |HAS_NAME| ConceptName\n    ConceptName --> |BELONGS_TO| Concept\n    \n    %% Происхождение концепции - используем однонаправленные связи в обе стороны\n    ConceptOrigin[\"Происхождение концепции\n    origin_id\n    parent_concepts (array)\n    influence_weights (array)\"]\n    Concept --> |HAS_ORIGIN| ConceptOrigin\n    ConceptOrigin --> |DESCRIBES| Concept\n    \n    %% Трансформации - разделим связи для большей ясности\n    ThesisToGraph[\"Трансформация\n    тезисы → граф\"]\n    GraphToThesis[\"Трансформация\n    граф → тезисы\"]\n    \n    %% Связи для ThesisToGraph (преобразование тезисов в граф)\n    Thesis --> |SOURCE_FOR| ThesisToGraph\n    ThesisToGraph --> |CREATES| Category1\n    ThesisToGraph --> |CREATES| Category2\n    \n    %% Связи для GraphToThesis (преобразование графа в тезисы)\n    Category1 --> |SOURCE_FOR| GraphToThesis\n    Category2 --> |SOURCE_FOR| GraphToThesis\n    GraphToThesis --> |GENERATES| Thesis\n    \n    %% Эволюция концепции - используем однонаправленные связи в обе стороны\n    ConceptEvolution[\"Эволюция концепции\n    evolution_id\n    concept_id\n    suggested_changes\"]\n    Concept --> |EVOLVES_TO| ConceptEvolution\n    ConceptEvolution --> |DERIVED_FROM| Concept\n    \n    %% Анализ названия - используем однонаправленные связи в обе стороны\n    NameAnalysis[\"Анализ названия\n    analysis_id\n    name\n    alternative_names (array)\"]\n    ConceptName --> |HAS_ANALYSIS| NameAnalysis\n    NameAnalysis --> |ANALYZES| ConceptName\n    \n    %% Историческая контекстуализация\n    HistoricalContext[\"Историческая контекстуализация\n    context_id\n    concept_id\n    time_period\n    influences (array)\n    contemporaries (array)\n    subsequent_influence (array)\"]\n    Concept --> |HAS_HISTORICAL_CONTEXT| HistoricalContext\n    HistoricalContext --> |CONTEXTUALIZES| Concept\n    \n    %% Практическое применение\n    PracticalApplication[\"Практическое применение\n    application_id\n    concept_id\n    domains (array)\n    implementation_methods (array)\n    relevance_mappings (array)\"]\n    Concept --> |HAS_APPLICATIONS| PracticalApplication\n    PracticalApplication --> |APPLIES| Concept\n    Thesis --> |APPLIES_IN| PracticalApplication\n    \n    %% Диалогическая интерпретация\n    DialogueInterpretation[\"Диалогическая интерпретация\n    dialogue_id\n    concept_ids (array)\n    philosophical_question\n    discussion_points (array)\n    arguments (array)\"]\n    Concept --> |PARTICIPATES_IN| DialogueInterpretation\n    DialogueInterpretation --> |INTERPRETS| Concept\n",
  "content_size": 4575,
  "collected_at": "2026-02-06T14:18:37.285683",
  "compilation_status": "success",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "",
  "cscw_dialogue": [
    {
      "turn_id": 1,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 \"Концепция\n    concept_id\n    name\" 和 \"Категория\n    category_id\n    name\n    definition\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 2,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 \"Концепция\n    concept_id\n    name\"处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 3,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '\"Концепция\n    concept_id\n    name\"处理'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 4,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 5,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Concept",
        "Category1"
      ],
      "is_repair": false
    },
    {
      "turn_id": 6,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "我们需要加一个处理 \"Категория\n    category_id\n    name\n    definition\" 和 \"Свойства категории\n    centrality\n    certainty\n    historical_significance\n    traditions (array 的环节。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 7,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 '\"Категория\n    category_id\n    name\n    definition\" 和 \"Свойства категории\n    centrality\n    certainty\n    historical_significance\n    traditions (array'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 8,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 9,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "Category2",
        "CategoryProps1"
      ],
      "is_repair": false
    },
    {
      "turn_id": 10,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "接下来是关于 array 和 \"Свойства связи\n    type\n    direction\n    strength\n    certainty\n    source\n    traditions (array 的逻辑。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 11,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'array 和 \"Свойства связи\n    type\n    direction\n    strength\n    certainty\n    source\n    traditions (array'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 12,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 13,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "philosophers",
        "RelProps"
      ],
      "is_repair": false
    },
    {
      "turn_id": 14,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 array 和 \"Шаблон категории\n    template_id\n    name\n    default_definition\n    is_system\" 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 15,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 'array 和 \"Шаблон категории\n    template_id\n    name\n    default_definition\n    is_system\"'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 16,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 17,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "philosophers",
        "CategoryTemplate"
      ],
      "is_repair": false
    },
    {
      "turn_id": 18,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 \"Шаблон типа связи\n    template_id\n    type_name\n    default_direction\n    is_system\" 和 \"Сгенерированные элементы\n    element_id\n    concept_id\n    element_type\n    element_name\n    is_new\n    is_approved\" 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 19,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "抱歉，稍微改一下，把刚才那个改成 \"Шаблон типа связи\n    template_id\n    type_name\n    default_direction\n    is_system\"处理。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 20,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"Шаблон типа связи\n    template_id\n    type_name\n    default_direction\n    is_system\"处理'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 21,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 22,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "RelationshipTypeTemplate",
        "GeneratedElements"
      ],
      "is_repair": false
    },
    {
      "turn_id": 23,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 \"Пользователь\n    user_id\" 和 \"Тезисы\n    thesis_id\n    type\n    content\n    style\n    related_categories (array。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 24,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '\"Пользователь\n    user_id\" 和 \"Тезисы\n    thesis_id\n    type\n    content\n    style\n    related_categories (array'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 25,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 26,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "User",
        "Thesis"
      ],
      "is_repair": false
    },
    {
      "turn_id": 27,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "用户在这里会遇到 \"Название\n    name_id\n    name\n    analysis\" 和 \"Происхождение концепции\n    origin_id\n    parent_concepts (array 的分支。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 28,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 '\"Название\n    name_id\n    name\n    analysis\" 和 \"Происхождение концепции\n    origin_id\n    parent_concepts (array'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 29,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 30,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "ConceptName",
        "ConceptOrigin"
      ],
      "is_repair": false
    },
    {
      "turn_id": 31,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 array 和 \"Трансформация\n    тезисы → граф\"。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 32,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'array 和 \"Трансформация\n    тезисы → граф\"'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 33,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 34,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "influence_weights",
        "ThesisToGraph"
      ],
      "is_repair": false
    },
    {
      "turn_id": 35,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 \"Трансформация\n    граф → тезисы\" 和 преобразование тезисов в граф 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 36,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 '\"Трансформация\n    граф → тезисы\" 和 преобразование тезисов в граф'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 37,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 38,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "GraphToThesis",
        "ThesisToGraph"
      ],
      "is_repair": false
    },
    {
      "turn_id": 39,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 преобразование графа в тезисы 和 \"Эволюция концепции\n    evolution_id\n    concept_id\n    suggested_changes\" 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 40,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "收到。这是不是一个判断条件？我暂时写成 'преобразование графа в тезисы 和 \"Эволюция концепции\n    evolution_id\n    concept_id\n    suggested_changes\"'。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 41,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "可以，继续吧。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 42,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "GraphToThesis",
        "ConceptEvolution"
      ],
      "is_repair": false
    },
    {
      "turn_id": 43,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 \"Анализ названия\n    analysis_id\n    name\n    alternative_names (array 和 \"Историческая контекстуализация\n    context_id\n    concept_id\n    time_period\n    influences (array 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 44,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '\"Анализ названия\n    analysis_id\n    name\n    alternative_names (array 和 \"Историческая контекстуализация\n    context_id\n    concept_id\n    time_period\n    influences (array'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 45,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 46,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "NameAnalysis",
        "HistoricalContext"
      ],
      "is_repair": false
    },
    {
      "turn_id": 47,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 array 和 array。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 48,
      "role": "Domain_Expert",
      "action_type": "repair",
      "utterance": "等等，我重新想了一下，应该是 array处理 才对。",
      "elements_involved": [],
      "is_repair": true
    },
    {
      "turn_id": 49,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'array处理'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 50,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "没问题。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 51,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "contemporaries",
        "subsequent_influence"
      ],
      "is_repair": false
    },
    {
      "turn_id": 52,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 \"Практическое применение\n    application_id\n    concept_id\n    domains (array 和 array 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 53,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "好的，我把它画成一个矩形框，名字叫 '\"Практическое применение\n    application_id\n    concept_id\n    domains (array 和 array'，对吧？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 54,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "对的，就这样。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 55,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "PracticalApplication",
        "implementation_methods"
      ],
      "is_repair": false
    },
    {
      "turn_id": 56,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "然后，流程会走到 array 和 \"Диалогическая интерпретация\n    dialogue_id\n    concept_ids (array。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 57,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "我把它加进去了，标签显示为 'array 和 \"Диалогическая интерпретация\n    dialogue_id\n    concept_ids (array'，你看看合适吗？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 58,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 59,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "relevance_mappings",
        "DialogueInterpretation"
      ],
      "is_repair": false
    },
    {
      "turn_id": 60,
      "role": "Domain_Expert",
      "action_type": "propose",
      "utterance": "这里必须包含 array 和 array 这一块。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 61,
      "role": "Diagram_Editor",
      "action_type": "clarify",
      "utterance": "明白，所以它是承接上一步的，内容是 'array 和 array'？",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 62,
      "role": "Domain_Expert",
      "action_type": "confirm",
      "utterance": "嗯，这样看起来很清晰。",
      "elements_involved": [],
      "is_repair": false
    },
    {
      "turn_id": 63,
      "role": "Diagram_Editor",
      "action_type": "execute",
      "utterance": "[系统日志: Editor 更新了图表代码以反映上述结构]",
      "elements_involved": [
        "discussion_points",
        "arguments"
      ],
      "is_repair": false
    }
  ],
  "dialogue_metadata": {
    "total_turns": 63,
    "repair_count": 3,
    "grounding_acts_count": 30,
    "theoretical_framework": "Grounding in Communication (Clark & Brennan, 1991)"
  },
  "repair_log": [
    "compilation_recovered_local_original"
  ],
  "repaired_at": "2026-02-28T13:41:50Z"
}