{
  "id": "gh_class_01156",
  "source": "github",
  "source_url": "https://github.com/Teknowm3/Spring-Boot-Mikroservis-Projesi/blob/384cce6b923cb09715b2c253c0c32d1b798304c1/docs/object-diagrams/object-diagram-2-login.mmd",
  "github_repo": "Teknowm3/Spring-Boot-Mikroservis-Projesi",
  "github_file_path": "docs/object-diagrams/object-diagram-2-login.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    class loginRequest[\"loginRequest: LoginRequest\"] {\n        username: \"admin\"\n        password: \"admin\"\n    }\n    \n    class existingUser[\"existingUser: User\"] {\n        id: 1\n        username: \"admin\"\n        password: \"$2a$10$abcdef... (BCrypt hash)\"\n        email: \"admin@example.com\"\n        role: \"ROLE_ADMIN\"\n    }\n    \n    class authentication[\"authentication: UsernamePasswordAuthenticationToken\"] {\n        principal: \"admin\"\n        credentials: \"admin\"\n        authenticated: \"false (before)\"\n        authorities: \"null\"\n    }\n    \n    class authenticatedToken[\"authenticatedToken: UsernamePasswordAuthenticationToken\"] {\n        principal: \"UserDetails(admin)\"\n        credentials: \"[PROTECTED]\"\n        authenticated: true\n        authorities: \"ROLE_ADMIN\"\n    }\n    \n    class jwtClaims[\"jwtClaims: Map\"] {\n        sub: \"admin\"\n        roles: \"ROLE_ADMIN\"\n        iat: 1735508400\n        exp: 1735594800\n    }\n    \n    class jwtToken[\"jwtToken: String\"] {\n        header: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n        payload: \"eyJzdWIiOiJhZG1pbiIsInJvbGVzIjpbIlJPTEVfQURNSU4iXX0\"\n        signature: \"SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"\n    }\n    \n    class authResponse[\"authResponse: AuthResponse\"] {\n        token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n        type: \"Bearer\"\n        username: \"admin\"\n        message: \"Login successful\"\n    }\n    \n    class httpResponse[\"httpResponse: ResponseEntity\"] {\n        status: \"200 OK\"\n        headers: \"Content-Type: application/json\"\n        body: \"authResponse\"\n    }\n    \n    %% Alternative flow for regular user\n    class regularUser[\"regularUser: User\"] {\n        id: 3\n        username: \"john\"\n        password: \"$2a$10$xyz123...\"\n        email: \"john@example.com\"\n        role: \"ROLE_USER\"\n    }\n    \n    class regularAuthResponse[\"regularAuthResponse: AuthResponse\"] {\n        token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n        type: \"Bearer\"\n        username: \"john\"\n        message: \"Login successful\"\n    }\n    \n    %% Relationships - Admin Flow\n    loginRequest --> existingUser : \"finds in DB\"\n    loginRequest --> authentication : \"creates\"\n    authentication --> authenticatedToken : \"authenticated by AuthManager\"\n    existingUser --> jwtClaims : \"user data mapped to\"\n    jwtClaims --> jwtToken : \"encoded to\"\n    jwtToken --> authResponse : \"included in\"\n    authResponse --> httpResponse : \"wrapped in\"\n\n    regularUser ..> regularAuthResponse : \"generates for USER role\"\n    \n    note for loginRequest \"Input from Frontend\"\n    note for existingUser \"Retrieved from Auth DB\"\n    note for authenticatedToken \"Spring Security Context\"\n    note for httpResponse \"Sent to Frontend with token\"",
  "content_size": 2707,
  "collected_at": "2026-02-06T01:53:47.067175",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "dialogue": [
    {
      "turn_id": 1,
      "speaker": "Speaker_B",
      "utterance": "让我们从头开始，先确定入口点。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 15
    },
    {
      "turn_id": 2,
      "speaker": "Speaker_A",
      "utterance": "明白了，-->就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "rel_0"
      ],
      "timestamp_offset": 30
    },
    {
      "turn_id": 3,
      "speaker": "Speaker_B",
      "utterance": "整体架构包含-->这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 45
    },
    {
      "turn_id": 4,
      "speaker": "Speaker_A",
      "utterance": "确认一下，-->是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 60
    },
    {
      "turn_id": 5,
      "speaker": "Speaker_B",
      "utterance": "你能详细说明一下-->吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 75
    },
    {
      "turn_id": 6,
      "speaker": "Speaker_A",
      "utterance": "确认一下，-->是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "rel_1"
      ],
      "timestamp_offset": 90
    },
    {
      "turn_id": 7,
      "speaker": "Speaker_B",
      "utterance": "我们可以将-->、-->分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 105
    },
    {
      "turn_id": 8,
      "speaker": "Speaker_A",
      "utterance": "确认一下，-->、-->是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 120
    },
    {
      "turn_id": 9,
      "speaker": "Speaker_B",
      "utterance": "最终，我们在-->、-->完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "rel_2",
        "rel_3"
      ],
      "timestamp_offset": 135
    },
    {
      "turn_id": 10,
      "speaker": "Speaker_A",
      "utterance": "-->、-->主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 150
    },
    {
      "turn_id": 11,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 165
    },
    {
      "turn_id": 12,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含-->、-->这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 180
    },
    {
      "turn_id": 13,
      "speaker": "Speaker_B",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "rel_4",
        "rel_5"
      ],
      "timestamp_offset": 195
    },
    {
      "turn_id": 14,
      "speaker": "Speaker_A",
      "utterance": "我们可以将-->分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 210
    },
    {
      "turn_id": 15,
      "speaker": "Speaker_B",
      "utterance": "最终，我们在-->完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "rel_6"
      ],
      "timestamp_offset": 225
    }
  ],
  "dialogue_stats": {
    "total_turns": 15,
    "speaker_distribution": {
      "Speaker_B": 8,
      "Speaker_A": 7
    },
    "speech_act_distribution": {
      "sequential": 3,
      "confirm": 5,
      "structural": 2,
      "request": 1,
      "classification": 3,
      "inform": 1
    },
    "avg_turn_length": 15.2,
    "dialogue_duration": 225
  }
}