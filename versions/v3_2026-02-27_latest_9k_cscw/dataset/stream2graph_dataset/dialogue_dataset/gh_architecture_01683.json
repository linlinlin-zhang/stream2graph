{
  "id": "gh_architecture_01683",
  "source": "github",
  "source_url": "https://github.com/lh/vegf-multi-agent/blob/a54107645c6240228b9d1c517c5ae492b49acf41/graph%20TB.mmd",
  "github_repo": "lh/vegf-multi-agent",
  "github_file_path": "graph TB.mmd",
  "diagram_type": "architecture",
  "code": "graph TB\n      %% Main Entry Point\n      APE[\"ğŸ¦ APE.py<br/>(Main Entry)\"]\n\n      %% Pages/UI Layer\n      subgraph \"ğŸ“± User Interface (Streamlit Pages)\"\n          PM[\"Protocol Manager<br/>(Load & View Protocols)\"]\n          SIM[\"Simulations<br/>(Run & Manage)\"]\n          ANAL[\"Analysis<br/>(Patient Explorer)\"]\n          COMP[\"Comparison<br/>(Compare Protocols)\"]\n          WL[\"Workload Analysis<br/>(Resource Planning)\"]\n          FIN[\"Financial Parameters<br/>(Cost Config)\"]\n      end\n\n      %% Core Simulation Engine\n      subgraph \"âš™ï¸ Simulation Engine\"\n          BASE[\"base.py<br/>(Event System)\"]\n          DES[\"des.py<br/>(Discrete Event Sim)\"]\n          ABS[\"abs.py<br/>(Agent-Based Sim)\"]\n          CLIN[\"clinical_model.py<br/>(Vision & Treatment)\"]\n          DISC[\"discontinuation_manager.py<br/>(Stop Rules)\"]\n      end\n\n      %% Protocol System\n      subgraph \"ğŸ“‹ Protocol Management\"\n          PROTO[\"protocol_parser.py<br/>(Read TOML Files)\"]\n          CONFIG[\"config.py<br/>(Simulation Config)\"]\n      end\n\n      %% Patient Generation\n      subgraph \"ğŸ‘¥ Patient System\"\n          PGEN[\"patient_generator.py<br/>(Create Patients)\"]\n          PSTATE[\"patient_state.py<br/>(Track Status)\"]\n      end\n\n      %% Economics Module\n      subgraph \"ğŸ’° Economics\"\n          COST[\"cost_tracker.py<br/>(Track Costs)\"]\n          ECON[\"cost_analyzer.py<br/>(Analyze Spend)\"]\n      end\n\n      %% Visualization\n      subgraph \"ğŸ“Š Visualization\"\n          TVIZ[\"timeline_viz.py<br/>(Patient Timelines)\"]\n          PVIZ[\"population_viz.py<br/>(Population Views)\"]\n          OVIZ[\"outcome_viz.py<br/>(VA Outcomes)\"]\n          CVIZ[\"comparison_viz.py<br/>(Protocol Compare)\"]\n      end\n\n      %% Data Flow\n      APE --> PM\n      APE --> SIM\n      APE --> ANAL\n\n      PM --> PROTO\n      PROTO --> CONFIG\n\n      SIM --> DES\n      SIM --> ABS\n      DES --> BASE\n      ABS --> BASE\n\n      BASE --> CLIN\n      BASE --> DISC\n      BASE --> PGEN\n      PGEN --> PSTATE\n\n      DES --> COST\n      ABS --> COST\n\n      ANAL --> TVIZ\n      ANAL --> PVIZ\n      ANAL --> OVIZ\n\n      COMP --> CVIZ\n      WL --> PVIZ\n      FIN --> ECON\n\n      %% Styling\n      classDef ui fill:#e1f5fe,stroke:#0288d1\n      classDef engine fill:#fff3e0,stroke:#ff6f00\n      classDef data fill:#f3e5f5,stroke:#7b1fa2\n      classDef viz fill:#e8f5e9,stroke:#388e3c\n\n      class APE,PM,SIM,ANAL,COMP,WL,FIN ui\n      class BASE,DES,ABS,CLIN,DISC engine\n      class PROTO,CONFIG,PGEN,PSTATE,COST,ECON data\n      class TVIZ,PVIZ,OVIZ,CVIZ viz\n",
  "content_size": 2493,
  "collected_at": "2026-02-06T02:02:06.348971",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "dialogue": [
    {
      "turn_id": 1,
      "speaker": "Speaker_B",
      "utterance": "æˆ‘ä»¬æ¥è®¾è®¡ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼Œé¦–å…ˆéœ€è¦ä¸€ä¸ªå¼€å§‹èŠ‚ç‚¹ã€‚",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 15
    },
    {
      "turn_id": 2,
      "speaker": "Speaker_A",
      "utterance": "è¿™ä¸ªè®¾è®¡çœ‹èµ·æ¥ä¸é”™ã€‚",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 30
    },
    {
      "turn_id": 3,
      "speaker": "Speaker_B",
      "utterance": "æœ€ç»ˆï¼Œæˆ‘ä»¬åœ¨Generic Diagramå®Œæˆæ•´ä¸ªæµç¨‹ã€‚",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "root"
      ],
      "timestamp_offset": 45
    }
  ],
  "dialogue_stats": {
    "total_turns": 3,
    "speaker_distribution": {
      "Speaker_B": 2,
      "Speaker_A": 1
    },
    "speech_act_distribution": {
      "sequential": 2,
      "inform": 1
    },
    "avg_turn_length": 20.333333333333332,
    "dialogue_duration": 45
  }
}