{
  "id": "gh_ind_e41c88a029",
  "source": "github_industrial",
  "repo": "SolaceHarmony/Thea-Code",
  "license": "apache-2.0",
  "code": "flowchart TB\n    classDef inputClass fill:#FFD700,stroke:#FF8C00,stroke-width:2px,color:#000\n    classDef embeddingClass fill:#98FB98,stroke:#006400,stroke-width:2px,color:#000\n    classDef rwkvClass fill:#E6E6FA,stroke:#483D8B,stroke-width:2px,color:#000\n    classDef ffnClass fill:#FFA07A,stroke:#8B0000,stroke-width:2px,color:#000\n    classDef normClass fill:#D8BFD8,stroke:#9400D3,stroke-width:2px,color:#000\n    classDef outputClass fill:#F08080,stroke:#CD5C5C,stroke-width:2px,color:#000\n    \n    %% Input Processing\n    subgraph InputProcessing[\"Input Processing Layer\"]\n        direction TB\n        Input[/\"Input Tokens\"/]:::inputClass\n        TokenEmbed[\"Token Embeddings<br/>(d_model)\"]:::embeddingClass\n        TimeEmbed[\"Time Embeddings<br/>(d_model)\"]:::embeddingClass\n        \n        Input --> TokenEmbed\n        TokenEmbed --> InputEmbed\n        TimeEmbed --> InputEmbed\n        \n        InputEmbed[\"Input Embeddings<br/>(batch_size × seq_len × d_model)\"]:::embeddingClass\n    end\n    \n    %% Annotation for Input Processing\n    InputAnnotation[\"<b>Input Processing</b><br/>- Tokens converted to embeddings<br/>- Time embeddings instead of positional<br/>- Dimensions: batch_size × seq_len × d_model\"]\n    InputProcessing -.-> InputAnnotation\n    \n    %% First RWKV Layer\n    subgraph Layer1[\"RWKV Layer 1\"]\n        direction TB\n        \n        %% Time-mixing Block (Alternative to Attention)\n        subgraph TMB1[\"Time Mixing Block\"]\n            direction TB\n            \n            %% Time Mixing Components\n            TMNorm1[\"Layer Normalization\"]:::normClass\n            TMLinear1[\"Linear Projection\"]:::rwkvClass\n            TMWKV1[\"WKV Mechanism<br/>(Receptance & Decay)\"]:::rwkvClass\n            TMOutput1[\"Time-Mixed Output\"]:::rwkvClass\n            \n            %% Time Mixing Flow\n            TMNorm1 --> TMLinear1\n            TMLinear1 --> TMWKV1\n            TMWKV1 --> TMOutput1\n        end\n        \n        %% Channel Mixing Block (FFN alternative)\n        subgraph CMB1[\"Channel Mixing Block\"]\n            direction TB\n            CMNorm1[\"Layer Normalization\"]:::normClass\n            CMRLinear1[\"Receptance Gate\"]:::rwkvClass\n            CMKLinear1[\"Key Projection\"]:::rwkvClass\n            CMVLinear1[\"Value Projection\"]:::rwkvClass\n            CMOutput1[\"Channel-Mixed Output\"]:::rwkvClass\n            \n            %% Channel Mixing Flow\n            CMNorm1 --> CMRLinear1 & CMKLinear1 & CMVLinear1\n            CMRLinear1 & CMKLinear1 & CMVLinear1 --> CMOutput1\n        end\n        \n        %% Residual Connections\n        Add1((\"+\"))\n        Add2((\"+\"))\n    end\n    \n    %% Annotation for Time Mixing\n    TMAnnotation[\"<b>Time Mixing Block</b><br/>- Linear attention alternative<br/>- Recurrent formulation with tokens<br/>- WKV mechanism with exponential decay<br/>- O(1) complexity per token vs O(n²)\"]\n    TMB1 -.-> TMAnnotation\n    \n    %% Annotation for Channel Mixing\n    CMAnnotation[\"<b>Channel Mixing Block</b><br/>- FFN replacement with gating<br/>- Mixes information across channels<br/>- Uses receptance gating mechanism<br/>- Similar to SwiGLU in transformers\"]\n    CMB1 -.-> CMAnnotation\n    \n    %% Second RWKV Layer\n    subgraph Layer2[\"RWKV Layer 2\"]\n        direction TB\n        \n        %% Time Mixing Block\n        subgraph TMB2[\"Time Mixing Block\"]\n            direction TB\n            TMNorm2[\"Layer Normalization\"]:::normClass\n            TMLinear2[\"Linear Projection\"]:::rwkvClass\n            TMWKV2[\"WKV Mechanism<br/>(Receptance & Decay)\"]:::rwkvClass\n            TMOutput2[\"Time-Mixed Output\"]:::rwkvClass\n            \n            TMNorm2 --> TMLinear2\n            TMLinear2 --> TMWKV2\n            TMWKV2 --> TMOutput2\n        end\n        \n        %% Channel Mixing Block\n        subgraph CMB2[\"Channel Mixing Block\"]\n            direction TB\n            CMNorm2[\"Layer Normalization\"]:::normClass\n            CMRLinear2[\"Receptance Gate\"]:::rwkvClass\n            CMKLinear2[\"Key Projection\"]:::rwkvClass\n            CMVLinear2[\"Value Projection\"]:::rwkvClass\n            CMOutput2[\"Channel-Mixed Output\"]:::rwkvClass\n            \n            CMNorm2 --> CMRLinear2 & CMKLinear2 & CMVLinear2\n            CMRLinear2 & CMKLinear2 & CMVLinear2 --> CMOutput2\n        end\n        \n        %% Residual Connections\n        Add3((\"+\"))\n        Add4((\"+\"))\n    end\n    \n    %% Nth RWKV Layer (Abbreviated)\n    subgraph LayerN[\"RWKV Layer N\"]\n        direction TB\n        \n        %% Abbreviated components\n        TMBN[\"Time<br/>Mixing<br/>Block\"]:::rwkvClass\n        CMBN[\"Channel<br/>Mixing<br/>Block\"]:::rwkvClass\n        \n        %% Residual Connections\n        AddN1((\"+\"))\n        AddN2((\"+\"))\n        \n        %% Connections\n        TMBN --> AddN1\n        AddN1 --> CMBN\n        CMBN --> AddN2\n    end\n    \n    %% Output Processing\n    subgraph OutputProcessing[\"Output Processing\"]\n        direction TB\n        FinalLayerNorm[\"Final Layer Normalization\"]:::normClass\n        OutputProjection[\"Output Projection<br/>(token prediction)\"]:::outputClass\n        FinalOutput[/\"Next Token Output\"/]:::outputClass\n        \n        FinalLayerNorm --> OutputProjection\n        OutputProjection --> FinalOutput\n    end\n    \n    %% Annotation for RWKV Formula\n    RWKVFormula[\"<b>RWKV Formula</b><br/>- WKV(t) = ∑(k=1 to t) W_k × V_k × exp(-decay × (t-k))<br/>- Output = sigmoid(R) ⊙ WKV / (∑exp(-decay))<br/>- Linear time & constant memory complexity<br/>- Parallelizable in training, recursive in inference\"]\n    Layer2 -.-> RWKVFormula\n    \n    %% Annotation for Architecture Comparison\n    ComparisonAnnotation[\"<b>RWKV vs Transformer</b><br/>- Linear O(n) vs Quadratic O(n²) complexity<br/>- State-based vs All-to-all attention<br/>- Can run as CNN or RNN<br/>- Channel mixing vs FFN<br/>- Comparable quality at higher efficiency\"]\n    LayerN -.-> ComparisonAnnotation\n    \n    %% Main Flow Connections\n    InputProcessing --> Layer1\n    InputEmbed --> Add1\n    \n    %% Layer 1 Connections\n    Add1 --> TMNorm1\n    TMOutput1 --> Add1\n    Add1 --> Add2\n    Add2 --> CMNorm1\n    CMOutput1 --> Add2\n    \n    %% Between Layer 1 and Layer 2\n    Add2 --> Layer2\n    Add2 --> Add3\n    \n    %% Layer 2 Connections\n    Add3 --> TMNorm2\n    TMOutput2 --> Add3\n    Add3 --> Add4\n    Add4 --> CMNorm2\n    CMOutput2 --> Add4\n    \n    %% Between Layer 2 and Layer N\n    Add4 --> LayerN\n    Add4 --> AddN1\n    \n    %% Layer N Connections\n    AddN2 --> OutputProcessing\n    AddN2 --> FinalLayerNorm\n    \n    %% Dual Mode Annotation\n    DualModeAnnotation[\"<b>RWKV Dual Mode</b><br/>- Training: Parallel mode (CNN-like)<br/>- Inference: Recurrent mode (RNN-like)<br/>- Same parameters, two execution strategies<br/>- Enables both training efficiency and<br/>  inference performance\"]\n    OutputProcessing -.-> DualModeAnnotation",
  "diagram_type": "flowchart size:>1500",
  "collected_at": "2026-02-27T04:44:10.215891",
  "dialogue": [
    {
      "turn_id": 1,
      "speaker": "Speaker_B",
      "utterance": "我们来设计一下这个流程，首先需要一个开始节点。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 15
    },
    {
      "turn_id": 2,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，\"Input Processing Layer\"的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 30
    },
    {
      "turn_id": 3,
      "speaker": "Speaker_B",
      "utterance": "我们可以将\"Input Processing Layer\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [
        "InputProcessing"
      ],
      "timestamp_offset": 45
    },
    {
      "turn_id": 4,
      "speaker": "Speaker_A",
      "utterance": "从结构上看，我们有/\"Input Tokens\"/、\"Token Embeddings<br/>(d_model。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 60
    },
    {
      "turn_id": 5,
      "speaker": "Speaker_B",
      "utterance": "明白了，/\"Input Tokens\"/、\"Token Embeddings<br/>(d_model就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 75
    },
    {
      "turn_id": 6,
      "speaker": "Speaker_A",
      "utterance": "这个系统主要由/\"Input Tokens\"/、\"Token Embeddings<br/>(d_model组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 90
    },
    {
      "turn_id": 7,
      "speaker": "Speaker_B",
      "utterance": "我们应该如何处理/\"Input Tokens\"/、\"Token Embeddings<br/>(d_model？",
      "speech_act": "request",
      "diagram_elements_added": [
        "Input",
        "TokenEmbed"
      ],
      "timestamp_offset": 105
    },
    {
      "turn_id": 8,
      "speaker": "Speaker_A",
      "utterance": "我们可以将\"Time Embeddings<br/>(d_model分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 120
    },
    {
      "turn_id": 9,
      "speaker": "Speaker_B",
      "utterance": "让我澄清一下，\"Time Embeddings<br/>(d_model的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 135
    },
    {
      "turn_id": 10,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理\"Time Embeddings<br/>(d_model？",
      "speech_act": "request",
      "diagram_elements_added": [
        "TimeEmbed"
      ],
      "timestamp_offset": 150
    },
    {
      "turn_id": 11,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由\"Input Embeddings<br/>(batch_size × seq_len × d_model、\"<b>Input Processing</b><br/>- Tokens converted to embeddings<br/>- Time embeddings instead of positional<br/>- Dimensions: batch_size × seq_len × d_model\"组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 165
    },
    {
      "turn_id": 12,
      "speaker": "Speaker_A",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "InputEmbed",
        "InputAnnotation"
      ],
      "timestamp_offset": 180
    },
    {
      "turn_id": 13,
      "speaker": "Speaker_B",
      "utterance": "我们应该如何处理\"RWKV Layer 1\"、FFN alternative？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 195
    },
    {
      "turn_id": 14,
      "speaker": "Speaker_A",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 210
    },
    {
      "turn_id": 15,
      "speaker": "Speaker_B",
      "utterance": "让我澄清一下，\"RWKV Layer 1\"、FFN alternative的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 225
    },
    {
      "turn_id": 16,
      "speaker": "Speaker_A",
      "utterance": "我们来设计一下这个流程，首先需要一个开始节点。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "Layer1",
        "Block"
      ],
      "timestamp_offset": 240
    },
    {
      "turn_id": 17,
      "speaker": "Speaker_B",
      "utterance": "关于\"Time Mixing Block\"，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 255
    },
    {
      "turn_id": 18,
      "speaker": "Speaker_A",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 270
    },
    {
      "turn_id": 19,
      "speaker": "Speaker_B",
      "utterance": "确认一下，\"Time Mixing Block\"是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "TMB1"
      ],
      "timestamp_offset": 285
    },
    {
      "turn_id": 20,
      "speaker": "Speaker_A",
      "utterance": "\"Layer Normalization\"、\"Linear Projection\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 300
    },
    {
      "turn_id": 21,
      "speaker": "Speaker_B",
      "utterance": "我的意思是\"Layer Normalization\"、\"Linear Projection\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "TMNorm1",
        "TMLinear1"
      ],
      "timestamp_offset": 315
    },
    {
      "turn_id": 22,
      "speaker": "Speaker_A",
      "utterance": "\"WKV Mechanism<br/>(Receptance & Decay、\"Time-Mixed Output\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 330
    },
    {
      "turn_id": 23,
      "speaker": "Speaker_B",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 345
    },
    {
      "turn_id": 24,
      "speaker": "Speaker_A",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 360
    },
    {
      "turn_id": 25,
      "speaker": "Speaker_B",
      "utterance": "明白了，\"WKV Mechanism<br/>(Receptance & Decay、\"Time-Mixed Output\"就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "TMWKV1",
        "TMOutput1"
      ],
      "timestamp_offset": 375
    },
    {
      "turn_id": 26,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含\"Channel Mixing Block\"这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 390
    },
    {
      "turn_id": 27,
      "speaker": "Speaker_B",
      "utterance": "让我澄清一下，\"Channel Mixing Block\"的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 405
    },
    {
      "turn_id": 28,
      "speaker": "Speaker_A",
      "utterance": "\"Channel Mixing Block\"和另一个方案相比，优势在于...",
      "speech_act": "contrastive",
      "diagram_elements_added": [],
      "timestamp_offset": 420
    },
    {
      "turn_id": 29,
      "speaker": "Speaker_B",
      "utterance": "我同意这个观点。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "CMB1"
      ],
      "timestamp_offset": 435
    },
    {
      "turn_id": 30,
      "speaker": "Speaker_A",
      "utterance": "关于\"Layer Normalization\"、\"Receptance Gate\"，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 450
    },
    {
      "turn_id": 31,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "CMNorm1",
        "CMRLinear1"
      ],
      "timestamp_offset": 465
    },
    {
      "turn_id": 32,
      "speaker": "Speaker_A",
      "utterance": "从结构上看，我们有\"Key Projection\"、\"Value Projection\"。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 480
    },
    {
      "turn_id": 33,
      "speaker": "Speaker_B",
      "utterance": "明白了，\"Key Projection\"、\"Value Projection\"就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "CMKLinear1",
        "CMVLinear1"
      ],
      "timestamp_offset": 495
    },
    {
      "turn_id": 34,
      "speaker": "Speaker_A",
      "utterance": "我们可以将\"Channel-Mixed Output\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 510
    },
    {
      "turn_id": 35,
      "speaker": "Speaker_B",
      "utterance": "明白了，\"Channel-Mixed Output\"就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "CMOutput1"
      ],
      "timestamp_offset": 525
    },
    {
      "turn_id": 36,
      "speaker": "Speaker_A",
      "utterance": "你能详细说明一下(\"+\"、(\"+\"吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 540
    },
    {
      "turn_id": 37,
      "speaker": "Speaker_B",
      "utterance": "我的意思是(\"+\"、(\"+\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 555
    },
    {
      "turn_id": 38,
      "speaker": "Speaker_A",
      "utterance": "最终，我们在(\"+\"、(\"+\"完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 570
    },
    {
      "turn_id": 39,
      "speaker": "Speaker_B",
      "utterance": "我们可以将(\"+\"、(\"+\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [
        "Add1",
        "Add2"
      ],
      "timestamp_offset": 585
    },
    {
      "turn_id": 40,
      "speaker": "Speaker_A",
      "utterance": "\"<b>Time Mixing Block</b><br/>- Linear attention alternative<br/>- Recurrent formulation with tokens<br/>- WKV mechanism with exponential decay<br/>- O(1、n²主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 600
    },
    {
      "turn_id": 41,
      "speaker": "Speaker_B",
      "utterance": "明白了，\"<b>Time Mixing Block</b><br/>- Linear attention alternative<br/>- Recurrent formulation with tokens<br/>- WKV mechanism with exponential decay<br/>- O(1、n²就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "TMAnnotation",
        "O",
        "CMAnnotation"
      ],
      "timestamp_offset": 615
    },
    {
      "turn_id": 42,
      "speaker": "Speaker_A",
      "utterance": "关于\"RWKV Layer 2\"，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 630
    },
    {
      "turn_id": 43,
      "speaker": "Speaker_B",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 645
    },
    {
      "turn_id": 44,
      "speaker": "Speaker_A",
      "utterance": "确认一下，\"RWKV Layer 2\"是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 660
    },
    {
      "turn_id": 45,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "Layer2"
      ],
      "timestamp_offset": 675
    },
    {
      "turn_id": 46,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含\"Time Mixing Block\"、\"Layer Normalization\"这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 690
    },
    {
      "turn_id": 47,
      "speaker": "Speaker_B",
      "utterance": "我的意思是\"Time Mixing Block\"、\"Layer Normalization\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "TMB2",
        "TMNorm2"
      ],
      "timestamp_offset": 705
    },
    {
      "turn_id": 48,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理\"Linear Projection\"？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 720
    },
    {
      "turn_id": 49,
      "speaker": "Speaker_B",
      "utterance": "确认一下，\"Linear Projection\"是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 735
    },
    {
      "turn_id": 50,
      "speaker": "Speaker_A",
      "utterance": "最终，我们在\"Linear Projection\"完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 750
    },
    {
      "turn_id": 51,
      "speaker": "Speaker_B",
      "utterance": "我的意思是\"Linear Projection\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "TMLinear2"
      ],
      "timestamp_offset": 765
    },
    {
      "turn_id": 52,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理\"WKV Mechanism<br/>(Receptance & Decay？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 780
    },
    {
      "turn_id": 53,
      "speaker": "Speaker_B",
      "utterance": "我的意思是\"WKV Mechanism<br/>(Receptance & Decay应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 795
    },
    {
      "turn_id": 54,
      "speaker": "Speaker_A",
      "utterance": "从结构上看，我们有\"WKV Mechanism<br/>(Receptance & Decay。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 810
    },
    {
      "turn_id": 55,
      "speaker": "Speaker_B",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "TMWKV2"
      ],
      "timestamp_offset": 825
    },
    {
      "turn_id": 56,
      "speaker": "Speaker_A",
      "utterance": "我们可以将\"Time-Mixed Output\"、\"Channel Mixing Block\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 840
    },
    {
      "turn_id": 57,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "TMOutput2",
        "CMB2",
        "CMNorm2"
      ],
      "timestamp_offset": 855
    },
    {
      "turn_id": 58,
      "speaker": "Speaker_A",
      "utterance": "\"Receptance Gate\"、\"Key Projection\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 870
    },
    {
      "turn_id": 59,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "CMRLinear2",
        "CMKLinear2"
      ],
      "timestamp_offset": 885
    },
    {
      "turn_id": 60,
      "speaker": "Speaker_A",
      "utterance": "我们可以将\"Value Projection\"、\"Channel-Mixed Output\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 900
    },
    {
      "turn_id": 61,
      "speaker": "Speaker_B",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 915
    },
    {
      "turn_id": 62,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含\"Value Projection\"、\"Channel-Mixed Output\"这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [
        "CMVLinear2",
        "CMOutput2"
      ],
      "timestamp_offset": 930
    },
    {
      "turn_id": 63,
      "speaker": "Speaker_B",
      "utterance": "你能详细说明一下(\"+\"、(\"+\"吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 945
    },
    {
      "turn_id": 64,
      "speaker": "Speaker_A",
      "utterance": "我的意思是(\"+\"、(\"+\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "Add3",
        "Add4"
      ],
      "timestamp_offset": 960
    },
    {
      "turn_id": 65,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由Abbreviated、\"RWKV Layer N\"组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 975
    },
    {
      "turn_id": 66,
      "speaker": "Speaker_A",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 990
    },
    {
      "turn_id": 67,
      "speaker": "Speaker_B",
      "utterance": "Abbreviated、\"RWKV Layer N\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1005
    },
    {
      "turn_id": 68,
      "speaker": "Speaker_A",
      "utterance": "我们来设计一下这个流程，首先需要一个开始节点。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "Layer",
        "LayerN",
        "TMBN"
      ],
      "timestamp_offset": 1020
    },
    {
      "turn_id": 69,
      "speaker": "Speaker_B",
      "utterance": "整体架构包含\"Channel<br/>Mixing<br/>Block\"这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1035
    },
    {
      "turn_id": 70,
      "speaker": "Speaker_A",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1050
    },
    {
      "turn_id": 71,
      "speaker": "Speaker_B",
      "utterance": "我们可以将\"Channel<br/>Mixing<br/>Block\"分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1065
    },
    {
      "turn_id": 72,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，\"Channel<br/>Mixing<br/>Block\"的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "CMBN"
      ],
      "timestamp_offset": 1080
    },
    {
      "turn_id": 73,
      "speaker": "Speaker_B",
      "utterance": "(\"+\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1095
    },
    {
      "turn_id": 74,
      "speaker": "Speaker_A",
      "utterance": "确认一下，(\"+\"是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1110
    },
    {
      "turn_id": 75,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "AddN1"
      ],
      "timestamp_offset": 1125
    },
    {
      "turn_id": 76,
      "speaker": "Speaker_A",
      "utterance": "(\"+\"主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1140
    },
    {
      "turn_id": 77,
      "speaker": "Speaker_B",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 1155
    },
    {
      "turn_id": 78,
      "speaker": "Speaker_A",
      "utterance": "最后，流程到达(\"+\"结束。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "AddN2"
      ],
      "timestamp_offset": 1170
    },
    {
      "turn_id": 79,
      "speaker": "Speaker_B",
      "utterance": "我们应该如何处理\"Output Processing\"、\"Final Layer Normalization\"？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1185
    },
    {
      "turn_id": 80,
      "speaker": "Speaker_A",
      "utterance": "我的意思是\"Output Processing\"、\"Final Layer Normalization\"应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1200
    },
    {
      "turn_id": 81,
      "speaker": "Speaker_B",
      "utterance": "\"Output Processing\"、\"Final Layer Normalization\"和另一个方案相比，优势在于...",
      "speech_act": "contrastive",
      "diagram_elements_added": [],
      "timestamp_offset": 1215
    },
    {
      "turn_id": 82,
      "speaker": "Speaker_A",
      "utterance": "明白了，\"Output Processing\"、\"Final Layer Normalization\"就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "OutputProcessing",
        "FinalLayerNorm"
      ],
      "timestamp_offset": 1230
    },
    {
      "turn_id": 83,
      "speaker": "Speaker_B",
      "utterance": "我们可以将\"Output Projection<br/>(token prediction分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1245
    },
    {
      "turn_id": 84,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，\"Output Projection<br/>(token prediction的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1260
    },
    {
      "turn_id": 85,
      "speaker": "Speaker_B",
      "utterance": "我同意这个观点。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "OutputProjection"
      ],
      "timestamp_offset": 1275
    },
    {
      "turn_id": 86,
      "speaker": "Speaker_A",
      "utterance": "我们可以将/\"Next Token Output\"/分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1290
    },
    {
      "turn_id": 87,
      "speaker": "Speaker_B",
      "utterance": "我的意思是/\"Next Token Output\"/应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "FinalOutput"
      ],
      "timestamp_offset": 1305
    },
    {
      "turn_id": 88,
      "speaker": "Speaker_A",
      "utterance": "你能详细说明一下\"<b>RWKV Formula</b><br/>- WKV(t、-decay吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1320
    },
    {
      "turn_id": 89,
      "speaker": "Speaker_B",
      "utterance": "我的意思是\"<b>RWKV Formula</b><br/>- WKV(t、-decay应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1335
    },
    {
      "turn_id": 90,
      "speaker": "Speaker_A",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 1350
    },
    {
      "turn_id": 91,
      "speaker": "Speaker_B",
      "utterance": "\"<b>RWKV Formula</b><br/>- WKV(t、-decay主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [
        "RWKVFormula",
        "exp"
      ],
      "timestamp_offset": 1365
    },
    {
      "turn_id": 92,
      "speaker": "Speaker_A",
      "utterance": "关于R、\"<b>RWKV vs Transformer</b><br/>- Linear O(n，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1380
    },
    {
      "turn_id": 93,
      "speaker": "Speaker_B",
      "utterance": "明白了，R、\"<b>RWKV vs Transformer</b><br/>- Linear O(n就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1395
    },
    {
      "turn_id": 94,
      "speaker": "Speaker_A",
      "utterance": "我的意思是R、\"<b>RWKV vs Transformer</b><br/>- Linear O(n应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "sigmoid",
        "ComparisonAnnotation",
        "DualModeAnnotation"
      ],
      "timestamp_offset": 1410
    },
    {
      "turn_id": 95,
      "speaker": "Speaker_B",
      "utterance": "我们可以将RNN-like分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1425
    },
    {
      "turn_id": 96,
      "speaker": "Speaker_A",
      "utterance": "确认一下，RNN-like是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1440
    },
    {
      "turn_id": 97,
      "speaker": "Speaker_B",
      "utterance": "让我澄清一下，RNN-like的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "mode"
      ],
      "timestamp_offset": 1455
    },
    {
      "turn_id": 98,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含、这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1470
    },
    {
      "turn_id": 99,
      "speaker": "Speaker_B",
      "utterance": "我的意思是、应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1485
    },
    {
      "turn_id": 100,
      "speaker": "Speaker_A",
      "utterance": "从结构上看，我们有、。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1500
    },
    {
      "turn_id": 101,
      "speaker": "Speaker_B",
      "utterance": "让我们从头开始，先确定入口点。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "edge_0",
        "edge_1"
      ],
      "timestamp_offset": 1515
    },
    {
      "turn_id": 102,
      "speaker": "Speaker_A",
      "utterance": "这个系统主要由、组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1530
    },
    {
      "turn_id": 103,
      "speaker": "Speaker_B",
      "utterance": "确认一下，、是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1545
    },
    {
      "turn_id": 104,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，、的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1560
    },
    {
      "turn_id": 105,
      "speaker": "Speaker_B",
      "utterance": "我的意思是、应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "edge_2",
        "edge_3"
      ],
      "timestamp_offset": 1575
    },
    {
      "turn_id": 106,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1590
    },
    {
      "turn_id": 107,
      "speaker": "Speaker_B",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1605
    },
    {
      "turn_id": 108,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1620
    },
    {
      "turn_id": 109,
      "speaker": "Speaker_B",
      "utterance": "确认一下，是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "edge_4"
      ],
      "timestamp_offset": 1635
    },
    {
      "turn_id": 110,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理、？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1650
    },
    {
      "turn_id": 111,
      "speaker": "Speaker_B",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 1665
    },
    {
      "turn_id": 112,
      "speaker": "Speaker_A",
      "utterance": "、和另一个方案相比，优势在于...",
      "speech_act": "contrastive",
      "diagram_elements_added": [
        "edge_5",
        "edge_6"
      ],
      "timestamp_offset": 1680
    },
    {
      "turn_id": 113,
      "speaker": "Speaker_B",
      "utterance": "关于、，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1695
    },
    {
      "turn_id": 114,
      "speaker": "Speaker_A",
      "utterance": "确认一下，、是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 1710
    },
    {
      "turn_id": 115,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由、组成。",
      "speech_act": "structural",
      "diagram_elements_added": [
        "edge_7",
        "edge_8"
      ],
      "timestamp_offset": 1725
    },
    {
      "turn_id": 116,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理、？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1740
    },
    {
      "turn_id": 117,
      "speaker": "Speaker_B",
      "utterance": "我的意思是、应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1755
    },
    {
      "turn_id": 118,
      "speaker": "Speaker_A",
      "utterance": "从结构上看，我们有、。",
      "speech_act": "structural",
      "diagram_elements_added": [
        "edge_9",
        "edge_10"
      ],
      "timestamp_offset": 1770
    },
    {
      "turn_id": 119,
      "speaker": "Speaker_B",
      "utterance": "关于、，你有什么想法？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1785
    },
    {
      "turn_id": 120,
      "speaker": "Speaker_A",
      "utterance": "我的意思是、应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "edge_11",
        "edge_12"
      ],
      "timestamp_offset": 1800
    },
    {
      "turn_id": 121,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由、组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1815
    },
    {
      "turn_id": 122,
      "speaker": "Speaker_A",
      "utterance": "这个设计看起来不错。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "edge_13",
        "edge_14"
      ],
      "timestamp_offset": 1830
    },
    {
      "turn_id": 123,
      "speaker": "Speaker_B",
      "utterance": "整体架构包含、这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 1845
    },
    {
      "turn_id": 124,
      "speaker": "Speaker_A",
      "utterance": "我同意这个观点。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 1860
    },
    {
      "turn_id": 125,
      "speaker": "Speaker_B",
      "utterance": "明白了，、就这样设计。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "edge_15",
        "edge_16"
      ],
      "timestamp_offset": 1875
    },
    {
      "turn_id": 126,
      "speaker": "Speaker_A",
      "utterance": "我们可以将、分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1890
    },
    {
      "turn_id": 127,
      "speaker": "Speaker_B",
      "utterance": "让我澄清一下，、的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 1905
    },
    {
      "turn_id": 128,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，、的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "edge_17",
        "edge_18"
      ],
      "timestamp_offset": 1920
    },
    {
      "turn_id": 129,
      "speaker": "Speaker_B",
      "utterance": "你能详细说明一下、吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 1935
    },
    {
      "turn_id": 130,
      "speaker": "Speaker_A",
      "utterance": "确认一下，、是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "edge_19",
        "edge_20"
      ],
      "timestamp_offset": 1950
    },
    {
      "turn_id": 131,
      "speaker": "Speaker_B",
      "utterance": "、主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1965
    },
    {
      "turn_id": 132,
      "speaker": "Speaker_A",
      "utterance": "确认一下，、是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "edge_21",
        "edge_22"
      ],
      "timestamp_offset": 1980
    },
    {
      "turn_id": 133,
      "speaker": "Speaker_B",
      "utterance": "我们可以将、分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 1995
    },
    {
      "turn_id": 134,
      "speaker": "Speaker_A",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "edge_23",
        "edge_24",
        "edge_25"
      ],
      "timestamp_offset": 2010
    },
    {
      "turn_id": 135,
      "speaker": "Speaker_B",
      "utterance": "你能详细说明一下吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 2025
    },
    {
      "turn_id": 136,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "edge_26"
      ],
      "timestamp_offset": 2040
    },
    {
      "turn_id": 137,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由、组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 2055
    },
    {
      "turn_id": 138,
      "speaker": "Speaker_A",
      "utterance": "我的意思是、应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "edge_27",
        "edge_28",
        "edge_29"
      ],
      "timestamp_offset": 2070
    },
    {
      "turn_id": 139,
      "speaker": "Speaker_B",
      "utterance": "从结构上看，我们有、。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 2085
    },
    {
      "turn_id": 140,
      "speaker": "Speaker_A",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 2100
    },
    {
      "turn_id": 141,
      "speaker": "Speaker_B",
      "utterance": "最后，流程到达、结束。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 2115
    },
    {
      "turn_id": 142,
      "speaker": "Speaker_A",
      "utterance": "相较于方案A，、有更好的性能。",
      "speech_act": "contrastive",
      "diagram_elements_added": [
        "edge_30",
        "edge_31"
      ],
      "timestamp_offset": 2130
    },
    {
      "turn_id": 143,
      "speaker": "Speaker_B",
      "utterance": "整体架构包含、这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 2145
    },
    {
      "turn_id": 144,
      "speaker": "Speaker_A",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "edge_32",
        "edge_33"
      ],
      "timestamp_offset": 2160
    },
    {
      "turn_id": 145,
      "speaker": "Speaker_B",
      "utterance": "整体架构包含这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 2175
    },
    {
      "turn_id": 146,
      "speaker": "Speaker_A",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 2190
    },
    {
      "turn_id": 147,
      "speaker": "Speaker_B",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "edge_34"
      ],
      "timestamp_offset": 2205
    },
    {
      "turn_id": 148,
      "speaker": "Speaker_A",
      "utterance": "这个系统主要由组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 2220
    },
    {
      "turn_id": 149,
      "speaker": "Speaker_B",
      "utterance": "最终，我们在完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "edge_35"
      ],
      "timestamp_offset": 2235
    }
  ],
  "dialogue_stats": {
    "total_turns": 149,
    "speaker_distribution": {
      "Speaker_B": 75,
      "Speaker_A": 74
    },
    "speech_act_distribution": {
      "sequential": 9,
      "clarify": 26,
      "classification": 21,
      "structural": 22,
      "confirm": 25,
      "request": 21,
      "inform": 21,
      "contrastive": 4
    },
    "avg_turn_length": 29.483221476510067,
    "dialogue_duration": 2235
  }
}