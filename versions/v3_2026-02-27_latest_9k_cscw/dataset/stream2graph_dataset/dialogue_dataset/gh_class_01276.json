{
  "id": "gh_class_01276",
  "source": "github",
  "source_url": "https://github.com/ayushdh96/Food-Delivery-App-on-Mern-Stack/blob/6d7a600823542ebb67b2da5b1df492e521555393/class-diagram.mmd",
  "github_repo": "ayushdh96/Food-Delivery-App-on-Mern-Stack",
  "github_file_path": "class-diagram.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    %% ========== BACKEND MODELS ==========\n    \n    class userModel {\n        +String name\n        +String email\n        +String password\n        +Object cartData\n    }\n\n    class foodModel {\n        +String name\n        +String description\n        +Number price\n        +String image\n        +String category\n    }\n\n    class orderModel {\n        +String userId\n        +Array items\n        +Number amount\n        +Object address\n        +String status\n        +Date date\n        +Boolean payment\n    }\n\n    %% ========== BACKEND CONTROLLERS ==========\n\n    class userController {\n        +createToken(id)\n        +loginUser(req, res)\n        +registerUser(req, res)\n    }\n\n    class foodController {\n        +listFood(req, res)\n        +addFood(req, res)\n        +removeFood(req, res)\n    }\n\n    class cartController {\n        +addToCart(req, res)\n        +removeFromCart(req, res)\n        +getCart(req, res)\n    }\n\n    class orderController {\n        +placeOrder(req, res)\n        +placeOrderCod(req, res)\n        +listOrders(req, res)\n        +userOrders(req, res)\n        +updateStatus(req, res)\n        +verifyOrder(req, res)\n    }\n\n    %% ========== MIDDLEWARE ==========\n\n    class authMiddleware {\n        +authMiddleware(req, res, next)\n    }\n\n    %% ========== FRONTEND CONTEXT ==========\n\n    class StoreContext {\n        -String url\n        -Array~foodModel~ food_list\n        -Array menu_list\n        -Object cartItems\n        -String token\n        -String currency\n        -Number deliveryCharge\n        +addToCart(itemId)\n        +removeFromCart(itemId)\n        +getTotalCartAmount()\n        +fetchFoodList()\n        +loadCartData(token)\n        +setFoodList(list)\n        +setCartItems(items)\n        +setToken(token)\n    }\n\n    %% ========== FRONTEND COMPONENTS ==========\n\n    class Navbar {\n        -String menu\n        -Function setShowLogin\n        +logout()\n    }\n\n    class LoginPopup {\n        -String currState\n        -Object data\n        -Function setShowLogin\n        +onChangeHandler(event)\n        +onLogin(e)\n    }\n\n    class FoodItem {\n        -String image\n        -String name\n        -Number price\n        -String desc\n        -String id\n        -Number itemCount\n    }\n\n    class Cart {\n        +navigate()\n    }\n\n    class PlaceOrder {\n        -String payment\n        -Object data\n        +onChangeHandler(event)\n        +placeOrder(e)\n    }\n\n    %% ========== ADMIN COMPONENTS ==========\n\n    class Add {\n        -File image\n        -Object data\n        +onChangeHandler(event)\n        +onSubmitHandler(event)\n    }\n\n    class List {\n        -Array~foodModel~ list\n        +fetchList()\n        +removeFood(foodId)\n    }\n\n    class Orders {\n        -Array~orderModel~ orders\n        +fetchAllOrders()\n        +statusHandler(event, orderId)\n    }\n\n    %% ========== RELATIONSHIPS: Models ==========\n    \n    userModel \"1\" -- \"0..*\" orderModel : places\n    userModel \"1\" -- \"0..*\" foodModel : has in cartData\n    orderModel \"1\" *-- \"1..*\" foodModel : contains items\n\n    %% ========== RELATIONSHIPS: Controllers to Models ==========\n    \n    userController ..> userModel : uses\n    foodController ..> foodModel : uses\n    cartController ..> userModel : uses\n    orderController ..> orderModel : uses\n    orderController ..> userModel : uses\n\n    %% ========== RELATIONSHIPS: Middleware ==========\n    \n    authMiddleware ..> userController : validates token\n    cartController ..> authMiddleware : protected by\n    orderController ..> authMiddleware : protected by\n\n    %% ========== RELATIONSHIPS: Frontend Context ==========\n    \n    StoreContext ..> foodModel : fetches\n    StoreContext ..> userModel : manages cart\n    StoreContext ..> orderModel : creates\n\n    %% ========== RELATIONSHIPS: Frontend Components ==========\n    \n    Navbar ..> StoreContext : uses\n    LoginPopup ..> StoreContext : uses\n    FoodItem ..> StoreContext : uses\n    Cart ..> StoreContext : uses\n    PlaceOrder ..> StoreContext : uses\n\n    %% ========== RELATIONSHIPS: Admin Components ==========\n    \n    Add ..> foodModel : creates\n    List ..> foodModel : lists/deletes\n    Orders ..> orderModel : manages\n\n    %% ========== NOTES ==========\n    \n    note for userModel \"Schema Fields:\\n- minimize: false\\n- unique email\\n- cartData default: {}\"\n    note for orderModel \"Default status: 'Food Processing'\\nDefault payment: false\\nDefault date: Date.now()\"\n    note for authMiddleware \"Extracts userId from JWT\\nAttaches to req.body.userId\"\n    note for StoreContext \"React Context API\\nGlobal state for entire app\"\n",
  "content_size": 4547,
  "collected_at": "2026-02-06T01:55:32.460247",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "dialogue": [
    {
      "turn_id": 1,
      "speaker": "Speaker_B",
      "utterance": "让我们从头开始，先确定入口点。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 15
    },
    {
      "turn_id": 2,
      "speaker": "Speaker_A",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "userModel"
      ],
      "timestamp_offset": 30
    },
    {
      "turn_id": 3,
      "speaker": "Speaker_B",
      "utterance": "这个系统主要由foodModel、orderModel组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 45
    },
    {
      "turn_id": 4,
      "speaker": "Speaker_A",
      "utterance": "我的意思是foodModel、orderModel应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 60
    },
    {
      "turn_id": 5,
      "speaker": "Speaker_B",
      "utterance": "foodModel、orderModel和另一个方案相比，优势在于...",
      "speech_act": "contrastive",
      "diagram_elements_added": [],
      "timestamp_offset": 75
    },
    {
      "turn_id": 6,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，foodModel、orderModel的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "foodModel",
        "orderModel"
      ],
      "timestamp_offset": 90
    },
    {
      "turn_id": 7,
      "speaker": "Speaker_B",
      "utterance": "我们可以将userController分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 105
    },
    {
      "turn_id": 8,
      "speaker": "Speaker_A",
      "utterance": "确认一下，userController是正确的吧？",
      "speech_act": "confirm",
      "diagram_elements_added": [
        "userController"
      ],
      "timestamp_offset": 120
    },
    {
      "turn_id": 9,
      "speaker": "Speaker_B",
      "utterance": "你能详细说明一下foodController吗？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 135
    },
    {
      "turn_id": 10,
      "speaker": "Speaker_A",
      "utterance": "好的，那就按这个方案。",
      "speech_act": "confirm",
      "diagram_elements_added": [],
      "timestamp_offset": 150
    },
    {
      "turn_id": 11,
      "speaker": "Speaker_B",
      "utterance": "我们应该如何处理foodController？",
      "speech_act": "request",
      "diagram_elements_added": [
        "foodController"
      ],
      "timestamp_offset": 165
    },
    {
      "turn_id": 12,
      "speaker": "Speaker_A",
      "utterance": "cartController主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 180
    },
    {
      "turn_id": 13,
      "speaker": "Speaker_B",
      "utterance": "我同意这个观点。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 195
    },
    {
      "turn_id": 14,
      "speaker": "Speaker_A",
      "utterance": "cartController和另一个方案相比，优势在于...",
      "speech_act": "contrastive",
      "diagram_elements_added": [],
      "timestamp_offset": 210
    },
    {
      "turn_id": 15,
      "speaker": "Speaker_B",
      "utterance": "首先，我们需要定义流程的起点。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "cartController"
      ],
      "timestamp_offset": 225
    },
    {
      "turn_id": 16,
      "speaker": "Speaker_A",
      "utterance": "我们可以将orderController、authMiddleware分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 240
    },
    {
      "turn_id": 17,
      "speaker": "Speaker_B",
      "utterance": "我的意思是orderController、authMiddleware应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "orderController",
        "authMiddleware"
      ],
      "timestamp_offset": 255
    },
    {
      "turn_id": 18,
      "speaker": "Speaker_A",
      "utterance": "我们应该如何处理StoreContext、Navbar？",
      "speech_act": "request",
      "diagram_elements_added": [],
      "timestamp_offset": 270
    },
    {
      "turn_id": 19,
      "speaker": "Speaker_B",
      "utterance": "我们需要确保这个逻辑是正确的。",
      "speech_act": "inform",
      "diagram_elements_added": [],
      "timestamp_offset": 285
    },
    {
      "turn_id": 20,
      "speaker": "Speaker_A",
      "utterance": "我们可以将StoreContext、Navbar分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [
        "StoreContext",
        "Navbar"
      ],
      "timestamp_offset": 300
    },
    {
      "turn_id": 21,
      "speaker": "Speaker_B",
      "utterance": "我们可以将LoginPopup、FoodItem分为几个类型。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 315
    },
    {
      "turn_id": 22,
      "speaker": "Speaker_A",
      "utterance": "让我澄清一下，LoginPopup、FoodItem的作用是...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 330
    },
    {
      "turn_id": 23,
      "speaker": "Speaker_B",
      "utterance": "最后，流程到达LoginPopup、FoodItem结束。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "LoginPopup",
        "FoodItem"
      ],
      "timestamp_offset": 345
    },
    {
      "turn_id": 24,
      "speaker": "Speaker_A",
      "utterance": "Cart主要包含以下几类。",
      "speech_act": "classification",
      "diagram_elements_added": [],
      "timestamp_offset": 360
    },
    {
      "turn_id": 25,
      "speaker": "Speaker_B",
      "utterance": "我的意思是Cart应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [
        "Cart"
      ],
      "timestamp_offset": 375
    },
    {
      "turn_id": 26,
      "speaker": "Speaker_A",
      "utterance": "这个系统主要由PlaceOrder、Add组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 390
    },
    {
      "turn_id": 27,
      "speaker": "Speaker_B",
      "utterance": "我的意思是PlaceOrder、Add应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 405
    },
    {
      "turn_id": 28,
      "speaker": "Speaker_A",
      "utterance": "最终，我们在PlaceOrder、Add完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [],
      "timestamp_offset": 420
    },
    {
      "turn_id": 29,
      "speaker": "Speaker_B",
      "utterance": "我同意这个观点。",
      "speech_act": "inform",
      "diagram_elements_added": [
        "PlaceOrder",
        "Add",
        "List"
      ],
      "timestamp_offset": 435
    },
    {
      "turn_id": 30,
      "speaker": "Speaker_A",
      "utterance": "整体架构包含Orders这几个部分。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 450
    },
    {
      "turn_id": 31,
      "speaker": "Speaker_B",
      "utterance": "我的意思是Orders应该这样理解...",
      "speech_act": "clarify",
      "diagram_elements_added": [],
      "timestamp_offset": 465
    },
    {
      "turn_id": 32,
      "speaker": "Speaker_A",
      "utterance": "这个系统主要由Orders组成。",
      "speech_act": "structural",
      "diagram_elements_added": [],
      "timestamp_offset": 480
    },
    {
      "turn_id": 33,
      "speaker": "Speaker_B",
      "utterance": "最终，我们在Orders完成整个流程。",
      "speech_act": "sequential",
      "diagram_elements_added": [
        "Orders"
      ],
      "timestamp_offset": 495
    }
  ],
  "dialogue_stats": {
    "total_turns": 33,
    "speaker_distribution": {
      "Speaker_B": 17,
      "Speaker_A": 16
    },
    "speech_act_distribution": {
      "sequential": 5,
      "inform": 4,
      "structural": 4,
      "clarify": 7,
      "contrastive": 2,
      "classification": 6,
      "confirm": 2,
      "request": 3
    },
    "avg_turn_length": 24.03030303030303,
    "dialogue_duration": 495
  }
}