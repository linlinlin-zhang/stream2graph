{
  "id": "gl_packet-beta_00415",
  "source": "gitlab",
  "source_url": "https://github.com/aftahi334/alpha-smart-router/blob/ece6102a501a71972308f983be955b10b34694ef/docs/diagrams/architecture.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "aftahi334/alpha-smart-router",
  "diagram_type": "packet-beta",
  "code": "%% file: docs/diagrams/architecture.mmd\n%% Mermaid v10+ compatible, safe for mmdc\n\nflowchart LR\n\n%% ================== CLUSTERS ==================\n    subgraph Ingress[\"Ingress / Egress Interfaces\"]\n        NIC[\"Ethernet / TUN/TAP (RX)\"]\n        EGRESS[\"TX Driver / Socket (TX)\"]\n    end\n\n    subgraph Mem[\"alpha::mem — Preallocated Primitives\"]\n        direction TB\n        POOL[\"PacketPool<br/>(fixed-capacity, preallocated)\"]\n        SPSC[\"SPSC Queue<br/>(bounded SPSC)\"]\n    end\n\n    subgraph Routing[\"alpha::routing — Core Logic\"]\n        direction TB\n        SEL[\"Ingress Selector\"]\n        PS[\"Path Selection\"]\n        QoS[\"QoS Policy\"]\n        FAIL[\"Failover / Multipath\"]\n        RIB[\"RIB (routing table)\"]\n    end\n\n    subgraph Ctl[\"Control / Management Plane\"]\n        SRV[\"Service Registry<br/>(config, feature flags)\"]\n        OBS[\"Observability<br/>(metrics, logs, tracing)\"]\n    end\n\n    subgraph Apps[\"Apps / Tools\"]\n        ROUTER[\"router_app (main)\"]\n        PING[\"ping_tool (demo)\"]\n        API[\"Mgmt API (planned)\"]\n    end\n\n    subgraph Lab[\"Lab / Simulation\"]\n        BGPSIM[\"BGP Speaker (sim) (planned)\"]\n    end\n\n%% ================== DATA PLANE ==================\n    ROUTER --> NIC\n    ROUTER --> EGRESS\n\n    NIC -->|\"RX packets\"| SEL\n    SEL --> SPSC\n    SPSC -->|\"pop()\"| PS\n    PS --> QoS --> FAIL -->|\"selected path\"| EGRESS\n\n%% ================== RIB / CONTROL INTERACTIONS ==================\n    PS --> RIB\n    BGPSIM -. \"BGP UPDATEs\" .-> RIB\n    SRV -. \"cfg (peers/prefixes)\" .-> BGPSIM\n\n%% ================== MEMORY INTERACTIONS (RT: no heap after start) ==================\n    PS -. \"alloc/free\" .-> POOL\n    QoS -. \"read\" .-> POOL\n    FAIL -. \"read\" .-> POOL\n\n%% ================== CONTROL / OBSERVABILITY ==================\n    SRV -. \"cfg updates\" .-> SEL\n    SRV -. \"cfg updates\" .-> PS\n    SRV -. \"cfg updates\" .-> QoS\n    SRV -. \"cfg updates\" .-> FAIL\n\n    SEL -. \"metrics/logs\" .-> OBS\n    PS  -. \"metrics/logs\" .-> OBS\n    QoS -. \"metrics/logs\" .-> OBS\n    FAIL -. \"metrics/logs\" .-> OBS\n    RIB -. \"metrics/logs\" .-> OBS\n    BGPSIM -. \"session state\" .-> OBS\n\n%% ================== CLASSES ==================\n    classDef planned stroke-dasharray: 5 5,fill:#f6f6f6,stroke:#bbb,stroke-width:1px;\n    class API,BGPSIM planned\n",
  "content_size": 2268,
  "collected_at": "2026-02-06T14:09:17.490489",
  "compilation_status": "success",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "aftahi334",
  "repo_name": "alpha-smart-router",
  "repo_description": "Alpha Smart Router – Real-time, embedded-style routing simulator in C++23",
  "repo_language": "C++",
  "repo_topics": [],
  "repo_created_at": "2025-10-03T23:11:03Z",
  "repo_updated_at": "2025-10-03T23:44:49Z"
}