{
  "id": "gl_flowchart_00614",
  "source": "gitlab",
  "source_url": "https://github.com/Foadsf/fricas-pro-cli/blob/f939ed419f4a069769b277c7704736db53bbf613/seriesSolve_flowchart.mmd",
  "source_note": "collected_from_github_final",
  "github_repo": "Foadsf/fricas-pro-cli",
  "diagram_type": "flowchart",
  "code": "flowchart TD\n  %% ============================================================\n  %% seriesSolve: high-level algorithm (FriCAS/Axiom)\n  %% Package: ExpressionSpaceODESolver  EXPRODE\n  %% Helpers: UTS UnivariateTaylorSeries, TaylorSolve UTSCAT\n  %% ============================================================\n\n  A[Start] --> B{Dispatch on signature}\n  B -->|Single ODE<br/>Equation F, BasicOperator,<br/>Equation F, List F or F| C1\n  B -->|System of ODEs<br/>List Equation F, List BasicOperator,<br/>Equation F, List Equation F or List F| C2\n\n  %% ---------- Input normalization ----------\n  subgraph S1[Normalize inputs and context]\n    direction TB\n    N0[Pick independent variable and expansion point from Equation F, e.g., t=0]\n    N1[Normalize equations to LHS = RHS; use nested D of expression w.r.t. variable for derivatives]\n    N2[Validate unknowns are BasicOperator, avoid name clash with the independent variable]\n    N3[Coerce expressions into FunctionSpace F with series support]\n    N4[Determine term budget N from set streams calculate or a sensible default]\n  end\n\n  C1 --> S1\n  C2 --> S1\n  S1 --> D{Initial conditions form}\n\n  D -->|Single ODE: value list y at 0; y prime at 0; etc.| I1\n  D -->|System: ICs as equations, e.g., x at 0 = a; x prime at 0 = b| I2\n\n  %% ---------- Seed series ----------\n  subgraph S2[Seed UnivariateTaylorSeries UTS]\n    direction TB\n    I1[Create ansatz Y as sum over k of a_k times t minus t0 to power k; set lowest orders from ICs]\n    I2[Create ansatz X_j as sum over k of a_jk times t minus t0 to power k for each unknown; seed from ICs]\n    I3[Store seeded coefficients in UTS objects]\n  end\n\n  S1 --> S2\n\n  %% ---------- Main coefficient loop ----------\n  subgraph S3[Recursive coefficient determination]\n    direction TB\n    L0[For n from n0 to N where n0 is highest derivative order]\n    L1[Differentiate UTS as needed]\n    L2[Substitute series into each ODE and compute LHS minus RHS]\n    L3[Expand to order N plus 1 using UTS algebra:<br/>Cauchy product, sin cos exp log via series rules, powers and binomial]\n    L4[Collect coefficient of t minus t0 to power n across all equations]\n    L5{Solve constraints at order n}\n    L6[Linear or triangular case solve directly exact over base domain F]\n    L7[Nonlinear case symbolic reduction or small algebraic solve over F]\n    L8[Assign solved coefficients back into UTS]\n    L9{All coefficients at order n resolved}\n  end\n\n  S2 --> S3\n  L0 --> L1 --> L2 --> L3 --> L4 --> L5\n  L5 -->|Linear| L6 --> L8\n  L5 -->|Nonlinear| L7 --> L8\n  L8 --> L9\n  L9 -->|Yes| L0\n  L9 -->|No| E2\n\n  %% ---------- Postprocess ----------\n  subgraph S4[Postprocess and return]\n    direction TB\n    P1[Assemble final UTS for each unknown in requested order]\n    P2[Attach big O term for t minus t0 to power N plus 1]\n    P3[Return single UTS for single ODE or List of UTS for a system]\n  end\n\n  S3 -->|Success| S4\n  S4 --> Z[End]\n\n  %% ---------- Error handling / guardrails ----------\n  subgraph S5[Common errors and guardrails]\n    direction TB\n    E0[Reject: input is not an ODE; no derivatives present]\n    E1[Name clash: variable also used as BasicOperator; choose distinct symbol]\n    E2[Under or over determined at some order; inconsistent ICs or domain issues]\n    E3[Cannot coerce to FunctionSpace F with series support]\n    E4[Term budget N exhausted before closure; return partial series or give up]\n  end\n\n  S1 -->|Invalid ODE| E0\n  S1 -->|Name clash| E1\n  S2 -->|Missing seeds| E2\n  S3 -->|Domain issue| E3\n  S3 -->|Early stop| E4\n\n  %% ---------- Notes ----------\n  subgraph S6[Notes]\n    direction TB\n    T1[Implementation in ExpressionSpaceODESolver EXPRODE; multiple overloads]\n    T2[Series arithmetic via UTS over F; built ins for sin cos exp log]\n    T3[Order N controlled by set streams calculate; iterative coefficient matching]\n    T4[Systems: per order constraints often linear or triangular; nonlinearities from products and compositions]\n  end",
  "content_size": 3950,
  "collected_at": "2026-02-06T14:18:00.745144",
  "compilation_status": "success",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "Foadsf",
  "repo_name": "fricas-pro-cli",
  "repo_description": "Professional Windows CLI wrapper around FriCAS REPL (persistent process, prompt detection, examples).",
  "repo_language": "Python",
  "repo_topics": [],
  "repo_created_at": "2025-09-12T11:12:57Z",
  "repo_updated_at": "2025-09-13T15:47:28Z"
}