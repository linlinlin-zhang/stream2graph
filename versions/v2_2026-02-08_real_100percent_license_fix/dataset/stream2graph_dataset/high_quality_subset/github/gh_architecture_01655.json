{
  "id": "gh_architecture_01655",
  "source": "github",
  "source_url": "https://github.com/HasanGoni/segmentation_test/blob/6438972237e6242c36feb1832f9866ac950ee733/pipeline.mmd",
  "github_repo": "HasanGoni/segmentation_test",
  "github_file_path": "pipeline.mmd",
  "diagram_type": "architecture",
  "code": "flowchart TB\n    subgraph \"Full Pipeline [Single ONNX Model]\"\n        Input[/\"Input X-ray/Microscopy Image\\n(Grayscale 1152×1632)\"/] --> QC\n        \n        subgraph QC[\"Quality Control\"]\n            direction TB\n            exposure[\"Exposure Check\"] --> \n            snr[\"SNR Assessment\"] -->\n            artifact[\"Metal Artifact Detection\"]\n        end\n        \n        QC --> Preproc\n        \n        subgraph Preproc[\"Medical Image Preprocessing\"]\n            direction TB\n            dynamic[\"Dynamic Range Adaptation\"] -->\n            norm[\"Multi-scale Normalization\"] -->\n            metal[\"Metal Artifact Reduction\"] -->\n            clahe[\"Adaptive CLAHE\\n(ROI-based)\"] -->\n            noise[\"Structure-Preserving\\nNoise Reduction\"] -->\n            edge[\"Tissue-Specific\\nEdge Enhancement\"] -->\n            tiling[\"Smart Tiling\\n(256×256 with 32px overlap)\"]\n        end\n        \n        Preproc --> ModelProc\n        \n        subgraph ModelProc[\"Medical-Optimized Model\"]\n            direction TB\n            enbottleneck[\"EfficientNetB0-Medical\\n(Grayscale-optimized)\"] --> \n            attention[\"Multi-scale Attention\\n(Focus on ROIs)\"] -->\n            midproc[\"Medical U-Net with\\nTissue-specific Features\"] --> \n            decproc[\"Precision-Aware Decoder\\nwith Expert Priors\"]\n        end\n        \n        ModelProc --> Postproc\n        \n        subgraph Postproc[\"Medical-Aware Postprocessing\"]\n            direction TB\n            merge[\"Context-Aware\\nTile Merging\"] --> \n            refine[\"Anatomical Boundary\\nRefinement\"] -->\n            morph[\"Structure-Preserving\\nMorphological Ops\"] -->\n            filter[\"Medical Expert-Guided\\nFiltering\"]\n        end\n        \n        Postproc --> QA\n        \n        subgraph QA[\"Quality Assurance\"]\n            direction TB\n            valid[\"Expert-Guided Validation\"] -->\n            conf[\"Confidence Scoring\"] -->\n            report[\"Diagnostic Quality Report\"]\n        end\n        \n        QA --> Output[/\"Final Binary Mask\\n(1152×1632)\"/]\n    end\n    \n    subgraph \"Medical Imaging Optimizations\"\n        direction TB\n        opt1[\"ROI-Based Processing\"]:::medopt\n        opt2[\"Tissue-Specific Enhancement\"]:::medopt\n        opt3[\"Precision-Guided Quantization\"]:::medopt\n        opt4[\"Expert-Validated Metrics\"]:::medopt\n    end\n    \n    subgraph \"Implementation with Medical Focus\"\n        direction TB\n        dev1[\"Medical-Optimized\\nPyTorch Development\"] -->|\"ONNX Export with\\nPrecision Control\"| prod[\"Clinically-Validated\\nONNX Model\"]\n        prod -->|\"Optimized Runtime\"| csharp[\"C# Medical Imaging\\nApplication\"]\n    end\n    \n    subgraph \"Medical Requirements\"\n        direction TB\n        req1[\"Sub-second Inference\\n(1152×1632 images)\"]:::medreq\n        req2[\"99.99% Clinical Accuracy\"]:::medreq\n        req3[\"Robust to Varying\\nExposure Levels\"]:::medreq\n        req4[\"Metal Artifact Handling\"]:::medreq\n        req5[\"Focus/Defocus Robustness\"]:::medreq\n    end\n    \n    classDef medopt fill:#c2e0c6,stroke:#0a3622,stroke-width:1px\n    classDef medreq fill:#d8e8f2,stroke:#0a3622,stroke-width:1px\n    classDef restriction fill:#f9d5e5,stroke:#333,stroke-width:1px\n    classDef requirements fill:#d5e8f9,stroke:#333,stroke-width:1px\n\n    style QC fill:#f9e79f,stroke:#333,stroke-width:1px\n    style QA fill:#f9e79f,stroke:#333,stroke-width:1px\n    style Preproc fill:#aed6f1,stroke:#333,stroke-width:1px\n    style ModelProc fill:#d2b4de,stroke:#333,stroke-width:1px\n    style Postproc fill:#f5b7b1,stroke:#333,stroke-width:1px ",
  "content_size": 3512,
  "collected_at": "2026-02-06T02:01:46.206785",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "compilation_status": "success",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 0,
  "repo_forks": 0
}