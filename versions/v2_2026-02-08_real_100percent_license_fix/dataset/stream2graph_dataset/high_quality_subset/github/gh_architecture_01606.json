{
  "id": "gh_architecture_01606",
  "source": "github",
  "source_url": "https://github.com/zone17/sovren/blob/d3da3358e52da6ae6b2365e89401eca50f337a0c/docs/architecture/diagrams/us-e5-022-architecture-overview.mmd",
  "github_repo": "zone17/sovren",
  "github_file_path": "docs/architecture/diagrams/us-e5-022-architecture-overview.mmd",
  "diagram_type": "architecture",
  "code": "graph TB\n    subgraph \"Client Layer\"\n        API[API Endpoints]\n    end\n\n    subgraph \"Service Layer\"\n        URS[UserRelationshipService]\n\n        subgraph \"Core Operations\"\n            FOLLOW[Follow/Unfollow]\n            BLOCK[Block/Unblock]\n            MUTE[Mute/Unmute]\n            FRIEND[Friend Requests]\n        end\n\n        subgraph \"Data Management\"\n            GRAPH[RelationshipGraph<br/>In-Memory Graph]\n            STORE[Relationship Store<br/>Map-based Storage]\n            PRIVACY[Privacy Settings]\n        end\n    end\n\n    subgraph \"Infrastructure Layer\"\n        EVENTBUS[Event Bus<br/>Domain Events]\n        CACHE[Cache Service<br/>Redis]\n        LOGGER[Logger<br/>Winston/Pino]\n    end\n\n    subgraph \"External Services\"\n        DB[(Database<br/>PostgreSQL)]\n        NOTIFICATION[Notification Service]\n        AUDIT[Audit Log Service]\n    end\n\n    API --> URS\n    URS --> FOLLOW\n    URS --> BLOCK\n    URS --> MUTE\n    URS --> FRIEND\n\n    FOLLOW --> GRAPH\n    BLOCK --> GRAPH\n    MUTE --> GRAPH\n    FRIEND --> STORE\n\n    GRAPH --> STORE\n    STORE --> PRIVACY\n\n    URS --> EVENTBUS\n    URS --> CACHE\n    URS --> LOGGER\n\n    EVENTBUS -.-> NOTIFICATION\n    EVENTBUS -.-> AUDIT\n    CACHE -.-> DB\n\n    style URS fill:#4A90E2,stroke:#2E5C8A,stroke-width:3px,color:#fff\n    style EVENTBUS fill:#50C878,stroke:#2E7D32,stroke-width:2px,color:#fff\n    style CACHE fill:#FFA500,stroke:#CC8400,stroke-width:2px,color:#fff\n    style GRAPH fill:#9370DB,stroke:#6B4B9C,stroke-width:2px,color:#fff\n",
  "content_size": 1497,
  "collected_at": "2026-02-06T01:48:29.677570",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "success",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}