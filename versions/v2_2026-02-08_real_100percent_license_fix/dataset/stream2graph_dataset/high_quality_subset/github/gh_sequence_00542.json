{
  "id": "gh_sequence_00542",
  "source": "github",
  "source_url": "https://github.com/Remsely/mirea-client-server-systems-design/blob/c713ec734f2dc2d2fd9e42f769f98f9eae7caaff/practice-05-api-contracts/sequence/file_uploading/sequence.mmd",
  "github_repo": "Remsely/mirea-client-server-systems-design",
  "github_file_path": "practice-05-api-contracts/sequence/file_uploading/sequence.mmd",
  "diagram_type": "sequence",
  "code": "sequenceDiagram\n    participant Client\n    participant API\n    participant DB\n    participant VerifySys as Verification Service\n    participant Orchestrator\n\n    Client->>API: POST /v1/collections/{id}/submit (Idempotency-Key: submit-1)\n    API->>DB: check collection status & idempotency key\n    alt already submitted\n        DB-->>API: previous task info\n        API-->>Client: 202 Accepted (existing verify_task_id)\n    else not submitted\n        API->>DB: gather uploaded files list per document\n        DB-->>API: files[]\n        API->>VerifySys: create verification task (files metadata)\n        VerifySys-->>API: task_id\n        API->>DB: insert verify_task, update collection.status=SENT_FOR_VERIFICATION\n        API->>Orchestrator: create workflow job (trace_id)\n        API-->>Client: 202 Accepted {verify_task_id, status}\n    end",
  "content_size": 840,
  "collected_at": "2026-02-06T01:33:42.626380",
  "compilation_status": "success",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "Remsely",
  "repo_name": "mirea-client-server-systems-design",
  "repo_description": "Practical assignments for the course \"Client-server systems design\" at RTU MIREA",
  "repo_language": "Mermaid",
  "repo_topics": [],
  "repo_created_at": "2025-10-09T23:01:05Z",
  "repo_updated_at": "2025-11-28T10:57:30Z"
}