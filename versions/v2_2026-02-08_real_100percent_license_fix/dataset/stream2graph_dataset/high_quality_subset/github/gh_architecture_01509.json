{
  "id": "gh_architecture_01509",
  "source": "github",
  "source_url": "https://github.com/patla001/network_AI_agent/blob/0537b5540ea4523798d9582c6efec8fc62a8a54a/diagrams/00-architecture-overview.mmd",
  "github_repo": "patla001/network_AI_agent",
  "github_file_path": "diagrams/00-architecture-overview.mmd",
  "diagram_type": "architecture",
  "code": "graph TB\n    subgraph \"ğŸ“¡ Data Collection Layer\"\n        Network[ğŸŒ Network Traffic<br/>Interface: en0/en5]\n        PyShark[ğŸ“¡ PyShark + tshark<br/>Real-time capture<br/>100 packets/5s]\n        Features[ğŸ“Š Feature Extraction<br/>26 ML features<br/>flows, rates, protocols]\n    end\n    \n    subgraph \"ğŸ§  ML & Analysis Layer\"\n        Isolation[ğŸ” Isolation Forest<br/>Anomaly Detection<br/>Score: 0.0-1.0]\n        RandomForest[ğŸŒ² Random Forest<br/>Traffic Classification<br/>normal/attack/scan]\n        Online[ğŸ“ˆ River Online Learning<br/>Adaptive models<br/>continuous training]\n    end\n    \n    subgraph \"ğŸ¤– AI Agent Layer (LangGraph)\"\n        Monitor[ğŸ” Monitor Node<br/>Packet capture<br/>Feature extraction]\n        Analysis[ğŸ“Š Analysis Node<br/>ML prediction<br/>Anomaly detection]\n        Decision[ğŸ’¡ Decision Node<br/>Claude + RAG<br/>Smart decisions]\n        ActionNode[âš¡ Action Node<br/>Execute & store<br/>Remediation]\n    end\n    \n    subgraph \"ğŸ’¾ Storage & Memory\"\n        ChromaDB[ğŸ’¾ ChromaDB<br/>Vector database<br/>Incident storage<br/>Semantic search]\n        Postgres[ğŸ—„ï¸ PostgreSQL<br/>TimescaleDB<br/>Time-series data<br/>Port: 5433]\n        Models[ğŸ¯ ML Models<br/>anomaly_detector.pkl<br/>traffic_classifier.pkl]\n    end\n    \n    subgraph \"ğŸ¤– LLM Integration\"\n        Claude[ğŸ¤– Claude Sonnet 4<br/>Anthropic API<br/>Context-aware decisions]\n        RAG[ğŸ” RAG System<br/>Retrieval-Augmented<br/>Generation]\n    end\n    \n    subgraph \"ğŸ“Š Monitoring & Visualization\"\n        PrometheusMetrics[ğŸ“ˆ Metrics Exporter<br/>Port: 9100<br/>Real-time metrics]\n        Prometheus[ğŸ“Š Prometheus<br/>Port: 9090<br/>Time-series DB<br/>15s scrape]\n        Grafana[ğŸ“‰ Grafana<br/>Port: 3000<br/>Dashboards<br/>admin/admin]\n        HTMLDash[ğŸ¨ HTML Dashboard<br/>Port: 8080<br/>Real-time charts<br/>Auto-refresh]\n    end\n    \n    subgraph \"ğŸ³ Infrastructure\"\n        Docker[ğŸ³ Docker Compose<br/>Postgres, Prometheus<br/>Grafana containers]\n        Python[ğŸ Python 3.12<br/>Virtual env<br/>asyncio runtime]\n    end\n    \n    %% Data Flow\n    Network -->|raw packets| PyShark\n    PyShark -->|parsed| Features\n    Features -->|26 features| Monitor\n    Monitor -->|data| Analysis\n    Analysis -->|ML inference| Isolation\n    Analysis -->|classification| RandomForest\n    Isolation -->|anomaly score| Analysis\n    RandomForest -->|traffic type| Analysis\n    \n    Analysis -->|score >= 0.8| Decision\n    Analysis -->|score < 0.8| PrometheusMetrics\n    \n    Decision -->|query| RAG\n    RAG -->|retrieve| ChromaDB\n    ChromaDB -->|similar incidents| RAG\n    RAG -->|context| Claude\n    Claude -->|decision| Decision\n    \n    Decision -->|action| ActionNode\n    ActionNode -->|store| ChromaDB\n    ActionNode -->|save| Postgres\n    ActionNode -->|metrics| PrometheusMetrics\n    \n    PrometheusMetrics -->|expose| Prometheus\n    Prometheus -->|scrape| Prometheus\n    Prometheus -->|data| Grafana\n    Prometheus -->|API| HTMLDash\n    \n    Models -.->|load| Isolation\n    Models -.->|load| RandomForest\n    Online -.->|update| Models\n    \n    Docker -.->|runs| Postgres\n    Docker -.->|runs| Prometheus\n    Docker -.->|runs| Grafana\n    Python -.->|runtime| Monitor\n    \n    %% Styling\n    style Decision fill:#4ecdc4,stroke:#333,stroke-width:3px,color:#000\n    style Claude fill:#ff6b6b,stroke:#333,stroke-width:3px,color:#fff\n    style ChromaDB fill:#95e1d3,stroke:#333,stroke-width:3px,color:#000\n    style Prometheus fill:#e63946,stroke:#333,stroke-width:2px,color:#fff\n    style HTMLDash fill:#ffd93d,stroke:#333,stroke-width:2px,color:#000\n    style Monitor fill:#a8dadc,stroke:#333,stroke-width:2px,color:#000\n\n",
  "content_size": 3581,
  "collected_at": "2026-02-06T01:47:10.826319",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "success",
  "compilation_error": "[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}