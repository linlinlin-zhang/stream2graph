{
  "id": "gh_flowchart_00325",
  "source": "github",
  "source_url": "https://github.com/MohamedMoubarakHussein/TheMoneyWallet-TheMMPay/blob/85fa510f75a6a06ca90c00b97e0f85719a14339c/Requirements/Authentication%20service/flow.mmd",
  "github_repo": "MohamedMoubarakHussein/TheMoneyWallet-TheMMPay",
  "github_file_path": "Requirements/Authentication service/flow.mmd",
  "diagram_type": "flowchart",
  "code": "---\nconfig:\n  layout: fixed\n---\nflowchart TD\n    Start([\"Client Request\"]) --> HasToken{\"Has JWT Token?\"}\n    HasToken -- Yes --> ValidateToken[\"Validate Token\"]\n    HasToken -- No --> IsAuth{\"Authentication Request?\"}\n    ValidateToken --> TokenValid{\"Token Valid?\"}\n    TokenValid -- Yes --> TokenBlacklisted{\"Token Blacklisted?\"}\n    TokenValid -- No --> Unauthorized([\"Return 401 Unauthorized\"])\n    TokenBlacklisted -- No --> IsExpired{\"Token Expired?\"}\n    TokenBlacklisted -- Yes --> Unauthorized\n    IsExpired -- No --> GrantAccess([\"Grant Access to Resource\"])\n    IsExpired -- Yes --> Unauthorized\n    IsAuth -- Yes --> AuthType{\"Auth Type?\"}\n    IsAuth -- No --> Unauthorized\n    AuthType -- Login --> ValidateCredentials[\"Validate Username/Password\"]\n    AuthType -- Signup --> CreateUser[\"Create New User\"]\n    AuthType -- Verify Email --> ProcessEmailVerification[\"Process Email Verification\"]\n    AuthType -- Logout --> ProcessLogout[\"Process Logout\"]\n    AuthType -- Refresh Token --> ProcessRefresh[\"Process Token Refresh\"]\n    ValidateCredentials --> CredentialsValid{\"Credentials Valid?\"}\n    CredentialsValid -- Yes --> UserEnabled{\"User Enabled?\"}\n    CredentialsValid -- No --> AuthFailed([\"Authentication Failed\"])\n    UserEnabled -- Yes --> GenerateToken[\"Generate JWT Token\"]\n    UserEnabled -- No --> EmailVerified{\"Email Verified?\"}\n    EmailVerified -- No --> NeedsVerification([\"Needs Email Verification\"])\n    EmailVerified -- Yes --> AccountLocked([\"Account is Locked\"])\n    AccountLocked -- Yes --> AccountLocked\n    AccountLocked -- No --> OtherIssue([\"Other Account Issue\"])\n    GenerateToken --> ReturnToken([\"Return JWT Token\"])\n    CreateUser --> PublishEvent[\"Publish Signup Event to Kafka\"]\n    PublishEvent --> SendVerification[\"Send Verification Email\"]\n    SendVerification --> UserCreated([\"User Created Successfully\"])\n    ProcessEmailVerification --> TokenExists{\"Token Exists?\"}\n    TokenExists -- Yes --> TokenExpired{\"Token Expired?\"}\n    TokenExists -- No --> InvalidToken([\"Invalid Token\"])\n    TokenExpired -- No --> EnableUser[\"Enable User Account\"]\n    TokenExpired -- Yes --> ExpiredVerification([\"Expired Verification Token\"])\n    EnableUser --> VerificationSuccess([\"Verification Successful\"])\n    ProcessLogout --> BlacklistToken[\"Blacklist JWT Token\"]\n    BlacklistToken --> LogoutSuccess([\"Logout Successful\"])\n    ProcessRefresh --> ValidateRefreshToken[\"Validate Refresh Token\"]\n    ValidateRefreshToken --> RefreshValid{\"Refresh Valid?\"}\n    RefreshValid -- Yes --> IssueNewToken[\"Issue New Access Token\"]\n    RefreshValid -- No --> RefreshFailed([\"Refresh Failed\"])\n    IssueNewToken --> TokenRefreshed([\"Token Refreshed Successfully\"])\n",
  "content_size": 2700,
  "collected_at": "2026-02-06T01:43:24.716923",
  "compilation_status": "success",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "MohamedMoubarakHussein",
  "repo_name": "TheMoneyWallet-TheMMPay",
  "repo_description": "I'm building this project to learn how to handle a billion of users and learn new topics like concurrency and network programming and understand when to use appropriate algorithms and data structures ",
  "repo_language": "Java",
  "repo_topics": [],
  "repo_created_at": "2023-12-11T05:16:10Z",
  "repo_updated_at": "2025-09-06T04:11:07Z"
}