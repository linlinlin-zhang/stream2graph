{
  "id": "ot_stateDiagram_00255",
  "source": "other",
  "source_url": "https://github.com/nicelight/PhotoChanger_25/blob/50b11a99898737b60e3da2f451f501fb4425a5bb/spec/diagrams/cron-cleanup-state.mmd",
  "source_type": "github_search_special",
  "github_repo": "nicelight/PhotoChanger_25",
  "diagram_type": "stateDiagram",
  "code": "stateDiagram-v2\n    [*] --> waiting: Ожидание cron интервала (15 минут)\n    waiting --> running: Запуск scripts/cleanup_media.py\n    running --> scanning_temp: Сканирование media/temp\n    scanning_temp --> deleting_temp: Удаление просроченных temp файлов\n    deleting_temp --> scanning_results: Поиск просроченных media/results\n    scanning_results --> deleting_results: Удаление результатов с истекшим TTL\n    deleting_results --> updating_db: Обновить media_object.cleaned_at и job_history\n    updating_db --> logging: Записать лог и метрики\n    logging --> waiting: Завершение цикла, следующая итерация\n\n    running --> error: Исключение/ошибка IO\n    error --> alerting: Логировать инцидент, уведомить Ops\n    alerting --> waiting: Починить и ожидать следующего запуска\n",
  "content_size": 774,
  "collected_at": "2026-02-06T10:39:45.355219",
  "compilation_status": "success",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "nicelight",
  "repo_name": "PhotoChanger_25",
  "repo_description": "Веб сервер для обработки фотографий с помощью нейронных сетей",
  "repo_language": "HTML",
  "repo_topics": [],
  "repo_created_at": "2025-09-17T20:30:16Z",
  "repo_updated_at": "2026-01-21T18:54:03Z"
}