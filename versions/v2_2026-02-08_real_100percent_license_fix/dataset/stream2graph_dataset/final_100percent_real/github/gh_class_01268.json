{
  "id": "gh_class_01268",
  "source": "github",
  "source_url": "https://github.com/hokindeng/markdown2video/blob/d5f4009c783bb7a408893bfb63bfdbe3d00a04e1/diagrams/class-diagram.mmd",
  "github_repo": "hokindeng/markdown2video",
  "github_file_path": "diagrams/class-diagram.mmd",
  "diagram_type": "class",
  "code": "%%{init: {'theme':'dark', 'themeVariables': { 'primaryColor':'#1f2937', 'primaryTextColor':'#fff', 'primaryBorderColor':'#60a5fa', 'lineColor':'#6b7280'}}}%%\n\nclassDiagram\n    %% Core Classes\n    class Markdown2VideoGenerator {\n        -openai_api_key: str\n        -video_api_keys: Dict\n        -output_dir: Path\n        -parser: MarkdownParser\n        -prompt_generator: PromptGenerator\n        -video_generator: BaseVideoGenerator\n        -selected_provider: VideoProvider\n        +process_markdown_file(path, per_scene, provider, theme)\n        +set_provider(provider)\n        -_generate_scene_videos(vision)\n        -_generate_master_video(vision, theme)\n        -_display_summary(results)\n    }\n    \n    %% Parser\n    class MarkdownParser {\n        -content_vision: ContentVision\n        +parse(markdown_content): ContentVision\n        -_parse_content_vision_line(line)\n        -_parse_visual_strategy_line(line)\n        -_parse_scene_line(line)\n        -_finalize_scene(scene, content)\n    }\n    \n    %% Prompt Generator\n    class PromptGenerator {\n        -client: OpenAI\n        -model: str\n        +generate_scene_prompt(scene, vision, config): str\n        +generate_master_prompt(vision, config, theme): str\n    }\n    \n    %% Data Models\n    class ContentVision {\n        +target_audience: str\n        +target_channel_objective: str\n        +core_messaging_pillars: List~str~\n        +post_caption: str\n        +format_guidance: str\n        +visual_tone: str\n        +audio_references: str\n        +style_references: List~str~\n        +production_style: str\n        +scenes: List~Scene~\n        +total_scenes: int\n    }\n    \n    class Scene {\n        +scene_number: int\n        +title: str\n        +equipment: str\n        +shot_type: str\n        +production_flow: str\n        +talent: str\n        +duration: int\n        +generated_prompt: str\n        +video_url: str\n    }\n    \n    class VideoGenerationParams {\n        +prompt: str\n        +negative_prompt: str\n        +duration: int\n        +width: int\n        +height: int\n        +quality: str\n        +fps: int\n        +seed: int\n        +model: str\n    }\n    \n    class VideoGenerationResult {\n        +id: str\n        +provider: str\n        +status: str\n        +video_url: str\n        +thumbnail_url: str\n        +error: str\n        +metadata: Dict\n        +created_at: datetime\n    }\n    \n    class GPTPromptConfig {\n        +max_words: int\n        +temperature: float\n        +style_emphasis: bool\n        +include_visual_tone: bool\n        +include_movement: bool\n    }\n    \n    %% Video Generators\n    class BaseVideoGenerator {\n        <<abstract>>\n        #api_key: str\n        #provider: VideoProvider\n        +generate(params): VideoGenerationResult\n    }\n    \n    class Veo3Generator {\n        -base_url: str\n        -model_name: str\n        +generate(params): VideoGenerationResult\n        -_poll_for_completion(operation_name): VideoGenerationResult\n    }\n    \n    class VideoGeneratorFactory {\n        <<static>>\n        +create_generator(provider, api_key): BaseVideoGenerator\n        +get_best_provider(api_keys, prefer_quality): VideoProvider\n    }\n    \n    %% Enums\n    class VideoProvider {\n        <<enumeration>>\n        VEO3\n    }\n    \n    %% CLI\n    class CLI {\n        +generate(markdown_file, provider, per_scene)\n        +providers()\n        +parse(markdown_file)\n        +init()\n        -load_api_keys()\n    }\n    \n    %% Relationships\n    Markdown2VideoGenerator --> MarkdownParser : uses\n    Markdown2VideoGenerator --> PromptGenerator : uses\n    Markdown2VideoGenerator --> BaseVideoGenerator : uses\n    Markdown2VideoGenerator --> ContentVision : processes\n    Markdown2VideoGenerator --> VideoGenerationParams : creates\n    \n    MarkdownParser --> ContentVision : creates\n    ContentVision --> Scene : contains\n    \n    PromptGenerator --> GPTPromptConfig : uses\n    PromptGenerator --> Scene : processes\n    PromptGenerator --> ContentVision : processes\n    \n    BaseVideoGenerator <|-- Veo3Generator : inherits\n    BaseVideoGenerator --> VideoGenerationResult : returns\n    BaseVideoGenerator --> VideoGenerationParams : uses\n    \n    VideoGeneratorFactory --> BaseVideoGenerator : creates\n    VideoGeneratorFactory --> VideoProvider : uses\n    \n    CLI --> Markdown2VideoGenerator : instantiates\n    CLI --> MarkdownParser : uses\n    \n    Scene --> VideoGenerationResult : references\n",
  "content_size": 4386,
  "collected_at": "2026-02-06T01:55:25.566708",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}