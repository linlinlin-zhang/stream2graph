{
  "id": "gh_class_01304",
  "source": "github",
  "source_url": "https://github.com/MinhTuan76800310/crypto_wallet_simulator/blob/e60e69283c4c97d83fc17f86274e69d36a81cce3/docs/diagram/wallet_class_diagram.mmd",
  "github_repo": "MinhTuan76800310/crypto_wallet_simulator",
  "github_file_path": "docs/diagram/wallet_class_diagram.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    namespace Domain Model {\n        class Wallet {\n            -String private_key\n            -String public_key\n            -Address address\n            +generate_keypair() void\n            +sign(data: bytes) bytes\n            +verify_signature(data: bytes, signature: bytes) bool\n            +create_transaction(outputs: List~TxOut~, inputs: List~TxIn~) Transaction\n        }\n\n        class Address {\n            -String hash\n            +from_public_key(public_key) Address\n            +__eq__(other) bool\n            +__hash__() int\n        }\n\n        class UTXO {\n            -String tx_id\n            -int output_index\n            -float amount\n            -Address owner_address\n            -String lock_script\n            +is_spendable_by(address: Address) bool\n        }\n\n        class Transaction {\n            -String tx_id\n            -List~TxIn~ inputs\n            -List~TxOut~ outputs\n            -Dict~str, bytes~ signatures\n            +calculate_hash() str\n            +verify() bool\n            +add_signature(input_index: int, signature: bytes) void\n        }\n\n        class TxIn {\n            -String prev_tx_id\n            -int output_index\n            -bytes signature_script\n            +reference_utxo() UTXO\n        }\n\n        class TxOut {\n            -float amount\n            -Address address\n            -String lock_script\n        }\n    }\n\n    namespace Service Layer {\n        class WalletService {\n            +create_wallet() Wallet\n            +get_balance(address: Address) float\n        }\n\n        class TransactionService {\n            +create_transaction(wallet: Wallet, outputs: List~TxOut~) Transaction\n            +sign_transaction(wallet: Wallet, tx: Transaction) void\n            +verify_transaction(tx: Transaction) bool\n        }\n    }\n\n    namespace Exceptions {\n        class InvalidSignatureException {\n            +String message\n        }\n\n        class InsufficientFundsException {\n            +String message\n            +Address address\n            +float required\n            +float available\n        }\n\n        class DoubleSpendException {\n            +String message\n            +UTXO utxo\n        }\n    }\n\n    %% Wallet Relationships\n    Wallet \"1\" *-- \"1\" Address\n    Wallet ..> Transaction : creates\n    Wallet ..> TxIn : references\n    Wallet ..> TxOut : creates\n    \n    %% Core Transaction Relationships\n    Transaction \"1\" *-- \"1..*\" TxIn\n    Transaction \"1\" *-- \"1..*\" TxOut\n    TxIn \"1\" --> \"1\" UTXO : spends\n    TxOut \"1\" --> \"1\" Address : locks to\n    UTXO \"1\" --> \"1\" Address : owned by\n\n    %% Service Relationships\n    WalletService ..> Wallet : manages\n    WalletService ..> Address : queries\n    TransactionService ..> Wallet : uses\n    TransactionService ..> Transaction : processes\n    TransactionService ..> UTXO : references\n\n    %% Exception Relationships\n    TransactionService ..> InvalidSignatureException\n    TransactionService ..> InsufficientFundsException\n    TransactionService ..> DoubleSpendException\n\n    %% UTXO Ownership\n    UTXO ..> Address : belongs to\n\n    %% Transaction Signing\n    Wallet ..> Transaction : signs",
  "content_size": 3122,
  "collected_at": "2026-02-06T01:55:53.740253",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}