{
  "id": "gh_class_01541",
  "source": "github",
  "source_url": "https://github.com/Angel-Energy/diplom-/blob/46161d4a394c3998e736b6cebddfa2ec15067d01/public/diagrams/architecture/class-diagram.mmd",
  "github_repo": "Angel-Energy/diplom-",
  "github_file_path": "public/diagrams/architecture/class-diagram.mmd",
  "diagram_type": "class",
  "code": "﻿classDiagram\n  class Player {\n    +String name\n    +int score\n    +void play()\n  }\n  class Game {\n    +void start()\n    +void end()\n  }\n  Player --> Game\n  class ChatViewModel {\n    -repository: DialogRepository\n    -_dialog: StateFlow<Dialog?>\n    +dialog: StateFlow<Dialog?>\n    +loadDialog(dialogId: String)\n    +onChoiceSelected(choiceId: String)\n    +startMiniGame(gameType: String)\n  }\n  class DialogRepository {\n    -dialogDao: DialogDao\n    -ktorService: KtorService\n    +getDialog(dialogId: String): Dialog\n    +saveChoice(choiceId: String)\n    +saveGameResult(result: GameResult)\n  }\n  class Message {\n    +id: String\n    +text: String\n    +timestamp: Long\n    +isUser: Boolean\n    +choices: List<Choice>\n  }\n  class Choice {\n    +id: String\n    +text: String\n    +nextSceneId: String\n    +flags: Map<String, Boolean>\n  }\n  class GameResult {\n    +gameType: String\n    +score: Int\n    +success: Boolean\n    +timestamp: Long\n  }\n  class DialogDao {\n    +getDialog(dialogId: String): Dialog\n    +insertChoice(choice: Choice)\n    +insertGameResult(result: GameResult)\n  }\n  class KtorService {\n    +syncChoice(choiceId: String)\n    +getRemoteDialog(dialogId: String): Dialog\n  }\n  ChatViewModel --> DialogRepository\n  DialogRepository --> DialogDao\n  DialogRepository --> KtorService\n  DialogRepository --> Message\n  Message --> Choice\n  DialogRepository --> GameResult\n\n",
  "content_size": 1379,
  "collected_at": "2026-02-06T01:59:07.024128",
  "compilation_status": "failed",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}