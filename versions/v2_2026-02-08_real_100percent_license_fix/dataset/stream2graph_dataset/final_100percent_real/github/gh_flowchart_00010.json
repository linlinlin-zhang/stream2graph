{
  "id": "gh_flowchart_00010",
  "source": "github",
  "source_url": "https://github.com/MatteusStranger/federated_learning_traffic/blob/8ed965ff2de02bf8476e6085c80856c265902a38/docs/diagrama.mmd",
  "github_repo": "MatteusStranger/federated_learning_traffic",
  "github_file_path": "docs/diagrama.mmd",
  "diagram_type": "flowchart",
  "code": "flowchart LR\n    %% === Styling ==========================================================\n    classDef entry fill:#003f5c,stroke:#001f3f,stroke-width:2px,color:#ffffff;\n    classDef process fill:#58508d,stroke:#2f2459,stroke-width:1px,color:#ffffff;\n    classDef data fill:#bc5090,stroke:#7a2b5e,stroke-width:1px,color:#ffffff;\n    classDef service fill:#ff6361,stroke:#b23a33,stroke-width:1px,color:#ffffff;\n    classDef artifact fill:#ffa600,stroke:#b36a00,stroke-width:1px,color:#ffffff;\n    classDef external fill:#2ca58d,stroke:#1f6f58,stroke-width:1px,color:#ffffff;\n    classDef monitor fill:#1f78b4,stroke:#0b486b,stroke-width:1px,color:#ffffff;\n    classDef control fill:#665191,stroke:#3f2b63,stroke-width:1px,color:#ffffff;\n\n    %% === Experiment Setup =================================================\n    subgraph Setup[Experiment Setup]\n        direction TB\n        CLI[\"Command-line Runner<br/>src/main.py\"]\n        ConfigSuite[\"Experiment Suite (YAML)<br/>configs/*.yaml\"]\n        Schema[\"Schema Validation<br/>src/schema_validation.py\"]\n        Loader[\"Config Loader<br/>src/config_loader.py::load_config\"]\n        Expander[\"Variant Expander<br/>config_loader.expand_experiments\"]\n\n        CLI -->|parse args| Loader\n        ConfigSuite --> Loader\n        Loader --> Schema\n        Schema -->|validated dict| Expander\n    end\n\n    %% === Runtime Control ==================================================\n    subgraph Control[Deterministic Runtime]\n        direction TB\n        RuntimeSeed[\"Seed setup<br/>runtime.configure_runtime\"]\n        DevicePicker[\"Device selection<br/>runtime.select_device\"]\n        Snapshot[\"Environment snapshot<br/>runtime.capture_environment_snapshot\"]\n    end\n\n    CLI --> RuntimeSeed\n    RuntimeSeed --> DevicePicker\n    DevicePicker --> Snapshot\n\n    %% === Data Preparation =================================================\n    subgraph DataPrep[Data Preparation]\n        direction TB\n        DatasetRegistry[\"Dataset registry<br/>config: datasets section\"]\n        ExternalData[\"External files<br/>data/*.csv · .parquet · .npy\"]\n        Pipeline[\"Dataset loader<br/>data_pipeline.prepare_datasets\"]\n        FeatureOps[\"Windowing & scaling<br/>data_pipeline.build_timeseries\"]\n        Partitioning[\"Partition builders<br/>HFL · VFL · Hybrid\"]\n        Metadata[\"Context metadata<br/>region assignments · sensors\"]\n\n        DatasetRegistry --> Pipeline\n        ExternalData --> Pipeline\n        Expander -->|ExperimentConfig| Pipeline\n        Pipeline --> FeatureOps --> Partitioning\n        Pipeline --> Metadata\n    end\n\n    %% === Federation Layer =================================================\n    subgraph Federation[Federated Execution Layer]\n        direction TB\n        ModelFactory[\"Model constructors<br/>baselines.py & federation._*Model\"]\n        HorizontalClients[\"Horizontal clients<br/>ClientDataset → Flower NumPyClient\"]\n        VerticalParties[\"Vertical encoders<br/>codificadores.py\"]\n        HybridGroups[\"Hybrid coordination<br/>data_pipeline.HybridGroup\"]\n        FederationEntry[\"Federation entrypoints<br/>federation.run_hfl · run_vfl · run_hybrid\"]\n        Aggregator[\"Aggregator loop<br/>Flower server & local simulators\"]\n        PrivacyLayer[\"Privacy hooks<br/>privacy.py (DP & secure aggregation)\"]\n\n        Partitioning --> FederationEntry\n        FederationEntry --> ModelFactory\n        ModelFactory --> HorizontalClients\n        ModelFactory --> VerticalParties\n        ModelFactory --> HybridGroups\n        HorizontalClients --> Aggregator\n        VerticalParties --> Aggregator\n        HybridGroups --> Aggregator\n        PrivacyLayer -. optional .-> Aggregator\n    end\n\n    Snapshot --> FederationEntry\n\n    %% === Evaluation & Tracking ===========================================\n    subgraph Evaluation[Evaluation · Reporting · Tracking]\n        direction TB\n        MetricsModule[\"Metrics catalogue<br/>metrics.py\"]\n        Evaluator[\"Evaluation routines<br/>evaluation.py\"]\n        Reporter[\"Report generator<br/>reporting.generate_reports\"]\n        Tracker[\"ExperimentTracker<br/>tracking.py (MLflow · CSV)\"]\n        Diagnostics[\"Fairness & sweeps<br/>analysis.py\"]\n\n        Aggregator -->|history · weights| MetricsModule\n        MetricsModule --> Evaluator\n        Evaluator --> Reporter\n        Reporter --> Tracker\n        MetricsModule --> Diagnostics\n        Diagnostics --> Reporter\n    end\n\n    %% === Persisted Artifacts ==============================================\n    subgraph Artifacts[Persisted Artifacts]\n        direction TB\n        ArtifactRoot[\"artifacts/&lt;experiment&gt;/\"]\n        Results[\"aggregated_results.json\"]\n        Plots[\"plots/&nbsp;dashboards (PNG · HTML)\"]\n        Logs[\"timeseries &amp; CSV logs\"]\n        EnvFile[\"environment_snapshot.txt\"]\n\n        Tracker --> ArtifactRoot\n        Reporter --> Plots\n        Evaluator --> Results\n        Aggregator --> Logs\n        Snapshot --> EnvFile\n        ArtifactRoot --> Results\n        ArtifactRoot --> Plots\n        ArtifactRoot --> Logs\n        ArtifactRoot --> EnvFile\n    end\n\n    %% === External Integrations ===========================================\n    ExternalServices[\"Flower backends · optional cloud runtime\"]\n    Monitoring[\"Observability stacks<br/>MLflow UI · dashboards\"]\n\n    Aggregator --> ExternalServices\n    Tracker --> Monitoring\n\n    %% === Class Assignments ================================================\n    class CLI entry;\n    class ConfigSuite,DatasetRegistry,Metadata data;\n    class Loader,Schema,Expander,Pipeline,FeatureOps,Partitioning,ModelFactory,HorizontalClients,VerticalParties,HybridGroups,FederationEntry,MetricsModule,Evaluator,Reporter,Diagnostics process;\n    class RuntimeSeed,DevicePicker,Snapshot control;\n    class Aggregator,PrivacyLayer,Tracker,ExternalServices service;\n    class ArtifactRoot,Results,Plots,Logs,EnvFile artifact;\n    class ExternalData external;\n    class Monitoring monitor;\n",
  "content_size": 5921,
  "collected_at": "2026-02-06T01:41:20.265901",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}