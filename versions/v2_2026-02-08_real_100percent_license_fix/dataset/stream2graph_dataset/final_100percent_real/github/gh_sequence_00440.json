{
  "id": "gh_sequence_00440",
  "source": "github",
  "source_url": "https://github.com/somospragma/pragma-ia-solving-with-ai/blob/67b94b7315638b90722dff8d65ac095ba924b49a/resources/mobile/flutter/architecture/bloc/SequenceDiagram.mmd",
  "github_repo": "somospragma/pragma-ia-solving-with-ai",
  "github_file_path": "resources/mobile/flutter/architecture/bloc/SequenceDiagram.mmd",
  "diagram_type": "sequence",
  "code": "sequenceDiagram\n  autonumber\n  actor U as User\n  participant V as FeaturePage\n  participant B as FeatureBloc\n  participant UM as FeatureUiMapper\n  participant UC as FeatureUseCase\n  participant RC as FeatureRepository (contract)\n  participant RI as FeatureRepositoryImpl\n  participant RDS as FeatureRemoteDataSource\n  participant RDSI as FeatureRemoteDataSourceImpl\n  participant API as ApiClient\n  participant M as FeatureMapper\n  participant LDS as FeatureLocalDataSource\n  participant LDSI as FeatureLocalDataSourceImpl\n  participant DB as CacheStore/Db\n\n  U->>V: Tap / Submit\n  V->>B: add(FeatureRequested(params))\n  B-->>V: emit(FeatureLoading)\n\n  B->>UC: call(params)\n  UC->>RC: getFeature(params.id)\n  RC->>RI: getFeature(params.id)\n\n  RI->>RDS: fetch(params.id)\n  RDS->>RDSI: fetch(params.id)\n  RDSI->>API: GET /feature/{id}\n\n  alt Remote success (200)\n    API-->>RDSI: FeatureDto\n    RDSI-->>RI: FeatureDto\n\n    RI->>M: dtoToEntity(dto)\n    M-->>RI: FeatureEntity\n\n    opt Cache write (optional)\n      RI->>LDS: cache(dto)\n      LDS->>LDSI: cache(dto)\n      LDSI->>DB: write(key, dto)\n      DB-->>LDSI: ok\n      LDSI-->>RI: ok\n    end\n\n    RI-->>UC: Either.Right(FeatureEntity)\n    UC-->>B: Either.Right(FeatureEntity)\n\n    B->>UM: toViewModel(entity)\n    UM-->>B: FeatureViewModel\n    B-->>V: emit(FeatureLoaded(viewModel))\n    V-->>U: Render UI\n\n  else Remote failure (timeout/4xx/5xx)\n    API--x RDSI: error/timeout\n    RDSI-->>RI: error\n\n    RI-->>UC: Either.Left(Failure)\n    UC-->>B: Either.Left(Failure)\n\n    B->>UM: toErrorState(failure)\n    UM-->>B: FeatureError(message, code)\n    B-->>V: emit(FeatureError)\n    V-->>U: Show error / Retry\n  end\n",
  "content_size": 1664,
  "collected_at": "2026-02-06T01:32:19.308134",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 3,
  "repo_forks": 3,
  "repo_owner": "somospragma",
  "repo_name": "pragma-ia-solving-with-ai",
  "repo_description": "Repositorio que busca centralizar distintos artefactos de IA, como: Instructions, Prompts y Chatmodes.",
  "repo_language": "Mermaid",
  "repo_topics": [],
  "repo_created_at": "2025-07-31T21:59:02Z",
  "repo_updated_at": "2026-02-05T20:55:49Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}