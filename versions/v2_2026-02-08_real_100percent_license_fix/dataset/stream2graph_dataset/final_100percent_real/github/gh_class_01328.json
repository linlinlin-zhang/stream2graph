{
  "id": "gh_class_01328",
  "source": "github",
  "source_url": "https://github.com/allissonnunes/ems-algashop-docs/blob/c21852fbb0ba0dd65a8185e68768c5e7e66a78f1/domainmodel/billing-domain-model.mmd",
  "github_repo": "allissonnunes/ems-algashop-docs",
  "github_file_path": "domainmodel/billing-domain-model.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: Billing Context\n---\n\nclassDiagram\n    namespace CreditCardAggregate {\n        class CreditCard {\n            <<AggregateRoot>>\n            -UUID id\n            -Instant createdAt\n            -UUID customerId\n            -String lastNumbers\n            -String brand\n            -Integer expirationMonth\n            -Integer expirationYear\n            -String gatewayCode\n        }\n    }\n\n    namespace InvoiceAggregate {\n        class Invoice {\n            <<AggregateRoot>>\n            -UUID id\n            -String orderId\n            -UUID customerId\n            -Instant issuedAt\n            -Instant paidAt\n            -Instant canceledAt\n            -Instant expiresAt\n            -BigDecimal totalAmount\n            -String cancelationReason\n            +markAsPaid() void\n            +cancel(String reason) void\n            +isPaid() boolean\n            +isUnpaid() boolean\n            +isCanceled() boolean\n            +assignPaymentGatewayCode(String code) void\n            +changePaymentSettings(PaymentMethod, CreditCardId) void\n        }\n\n        class InvoiceStatus {\n            <<enumeration>>\n            PAID\n            UNPAID\n            CANCELED\n        }\n\n        class Payer {\n            <<ValueObject>>\n            -String fullName\n            -String email\n            -String document\n            -String phone\n        }\n\n        class Address {\n            <<ValueObject>>\n            -String street\n            -String number\n            -String complement\n            -String neighborhood\n            -String city\n            -String state\n            -String zipCode\n        }\n\n        class LineItem {\n            <<ValueObject>>\n            -Integer number\n            -String name\n            -BigDecimal amount\n        }\n\n        class PaymentSettings {\n            <<Entity>>\n            -UUID id\n            -UUID creditCardId\n            -String gatewayCode\n            ~ assignGatewayCode(String code) void\n        }\n\n        class PaymentMethod {\n            <<enumeration>>\n            CREDIT_CARD\n            GATEWAY_BALANCED\n        }\n\n        class Payment {\n            <<ValueObject>>\n            -String gatewayCode\n            -UUID invoiceId\n        }\n\n        class PaymentStatus {\n            <<enumeration>>\n            PENDING\n            PROCESSING\n            FAILED\n            REFUNDED\n            PAID\n        }\n\n        class InvoiceIssuedEvent {\n            <<Event>>\n            -UUID invoiceId\n            -String orderId\n            -UUID customerId\n            -Instant issuedOn\n        }\n\n        class InvoiceCanceledEvent {\n            <<Event>>\n            -UUID invoiceId\n            -String orderId\n            -UUID customerId\n            -Instant canceledOn\n            -String reason\n        }\n\n        class InvoicePaidEvent {\n            <<Event>>\n            -UUID invoiceId\n            -String orderId\n            -UUID customerId\n            -Instant paidOn\n        }\n    }\n    Payment --> PaymentStatus: -status\n    Payment --> PaymentMethod: -method\n    PaymentSettings --> PaymentMethod: -method\n    Payer *--> Address: -address\n    Invoice --> InvoiceStatus: -status\n    Invoice *--> Payer: -payer\n    Invoice *--> LineItem: -items\n    Invoice *--> PaymentSettings: -paymentSettings\n    Invoice ..> InvoiceIssuedEvent: -emit\n    Invoice ..> InvoiceCanceledEvent: -emit\n    Invoice ..> InvoicePaidEvent: -emit\n",
  "content_size": 3401,
  "collected_at": "2026-02-06T01:56:18.060882",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}