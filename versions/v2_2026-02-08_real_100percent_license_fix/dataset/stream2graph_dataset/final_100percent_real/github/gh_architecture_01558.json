{
  "id": "gh_architecture_01558",
  "source": "github",
  "source_url": "https://github.com/Gechasq/asistente-tribunal-selectivos/blob/0085af3f05fabb36a1079241dfe1e36a2480d4ea/docs/DiagramaMermaid.mmd",
  "github_repo": "Gechasq/asistente-tribunal-selectivos",
  "github_file_path": "docs/DiagramaMermaid.mmd",
  "diagram_type": "architecture",
  "code": "---\nconfig:\n  theme: mc\n---\nflowchart TB\n subgraph Ingestion_Layer[\"Capa de Ingestión de Datos ETL\"]\n        ETL_Pipeline[\"Pipeline ETL\"]\n        Sources(\"Fuentes de Datos:<br>Manuales PDF Peoplenet,<br>Webs Oficiales\")\n        Preprocessing(\"Preprocesamiento:<br>Texto e Imágenes\")\n        Embed_Gen(\"Generación de Embeddings\")\n        AI_Services[\"Modelos de Embeddings:<br>Gemini API / Gemini Vision\"]\n        MilvusDB[(\"Base de Datos Vectorial:<br>Milvus\")]\n  end\n subgraph Agent_Orchestration[\"Orquestación de Agentes con LangChain\"]\n        CoordAgent[\"Agente Coordinador\"]\n        WebAPI(\"Servicio Web API:<br>FastAPI\")\n        RAGAgent[\"Agente RAG\"]\n        LLM_Service(\"Modelo Generativo LLM:<br>Gemini\")\n        CalcAgent[\"Agente de Cálculo\"]\n  end\n    Sources -- Extracción Automatizada<br>ETLPipeline.extract_text_from_pdf(), ETLPipeline.extract_from_web() --> ETL_Pipeline\n    ETL_Pipeline -- Limpieza y<br>Normalización<br>ETLPipeline.preprocess_text(), ETLPipeline.chunk_text() --> Preprocessing\n    Preprocessing -- Generar Embeddings<br>GeminiClient.generate_text_embedding(), GeminiClient.generate_image_embedding() --> Embed_Gen\n    Embed_Gen -- Texto: Gemini Embeddings<br>GeminiClient.generate_text_embedding() --> AI_Services\n    Embed_Gen -- Imágenes: Gemini Vision<br>GeminiClient.generate_image_embedding() --> AI_Services\n    Embed_Gen -- Almacenar Vectores + Metadatos<br>ETLPipeline.load_to_milvus() --> MilvusDB\n    User((\"Usuario / Tribunal\")) -- Consulta HTTP<br>fastapi_endpoint() --> WebAPI\n    WebAPI -- Envía Consulta<br>handle_api_request() --> CoordAgent\n    CoordAgent -- Decisión: Requiere Información<br>AgenteCoordinador.process_information_request() --> RAGAgent\n    RAGAgent -- \"1. Buscar Contexto Relevante<br>AgenteRAG.search_context()\" --> MilvusDB\n    MilvusDB -- \"2. Retorna Contexto Vectorial<br>MilvusClient.search_text()\" --> RAGAgent\n    RAGAgent -- \"3. Enviar Prompt + Contexto<br>AgenteRAG.generate_response()\" --> LLM_Service\n    LLM_Service -- \"4. Respuesta Generada<br>GeminiClient.generate_completion()\" --> RAGAgent\n    RAGAgent -- Retorna Respuesta Contextualizada<br>AgenteRAG.process_query() --> CoordAgent\n    CoordAgent -- Decisión: Operación Matemática<br>AgenteCoordinador.process_calculation_request() --> CalcAgent\n    CalcAgent -- Retorna Resultado<br>AgenteCalculo.process_calculation() --> CoordAgent\n    CoordAgent -- Respuesta Final Consolidada<br>AgenteCoordinador.format_response() --> WebAPI\n    WebAPI -- Respuesta JSON<br>fastapi_return_json() --> User\n\n    classDef user fill:#f9f,stroke:#333,stroke-width:2px,color:black\n    classDef api fill:#d4e157,stroke:#333,color:black\n    classDef orchestrator fill:#90caf9,stroke:#333,color:black,stroke-dasharray: 5 5\n    classDef agent fill:#42a5f5,stroke:#333,color:white\n    classDef db fill:#ffca28,stroke:#333,color:black\n    classDef external fill:#ef5350,stroke:#333,color:white\n    classDef etl fill:#ab47bc,stroke:#333,color:white\n    classDef sources fill:#8d6e63,stroke:#333,color:white\n    classDef dummy fill:#fff,stroke:#fff",
  "content_size": 3060,
  "collected_at": "2026-02-06T01:47:53.071305",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}