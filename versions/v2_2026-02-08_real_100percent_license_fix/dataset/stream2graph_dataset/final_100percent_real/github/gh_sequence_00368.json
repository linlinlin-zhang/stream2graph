{
  "id": "gh_sequence_00368",
  "source": "github",
  "source_url": "https://github.com/Ghenghis/RF4S-UI/blob/dd56517c20b31a9aa89bcf6f05d8e9b4f51fad92/docs/mermaid_diagrams/EVENT_FLOW.mmd",
  "github_repo": "Ghenghis/RF4S-UI",
  "github_file_path": "docs/mermaid_diagrams/EVENT_FLOW.mmd",
  "diagram_type": "sequence",
  "code": "\nsequenceDiagram\n    participant U as User\n    participant UI as UI Components\n    participant EM as Event Manager\n    participant SM as State Manager\n    participant SVC as Services\n    participant RF4S as RF4S Codebase\n    \n    Note over U,RF4S: Application Startup Sequence\n    \n    U->>UI: Launch Application\n    UI->>EM: Initialize Event System\n    UI->>SM: Initialize State Manager\n    UI->>SVC: Start Service Coordinator\n    SVC->>RF4S: Establish Connection\n    RF4S-->>SVC: Connection Established\n    SVC->>EM: Emit 'rf4s.connected'\n    EM->>SM: Update Connection State\n    SM->>UI: Update UI Status\n    UI->>U: Show Connected State\n    \n    Note over U,RF4S: Panel Management Flow\n    \n    U->>UI: Click Panel Icon\n    UI->>EM: Emit 'panel.toggle_requested'\n    EM->>SM: Toggle Panel Visibility\n    SM->>EM: Emit 'panel.visibility_changed'\n    EM->>UI: Update Panel Layout\n    UI->>U: Show/Hide Panel with Animation\n    \n    Note over U,RF4S: Configuration Change Flow\n    \n    U->>UI: Change Setting Value\n    UI->>EM: Emit 'config.change_requested'\n    EM->>SM: Validate & Update Config\n    SM->>SVC: Propagate to Services\n    SVC->>RF4S: Send Configuration\n    RF4S-->>SVC: Configuration Applied\n    SVC->>EM: Emit 'config.applied'\n    EM->>UI: Show Success Feedback\n    UI->>U: Display Confirmation\n    \n    Note over U,RF4S: Script Control Flow\n    \n    U->>UI: Click Start Script\n    UI->>EM: Emit 'script.start_requested'\n    EM->>SVC: Forward to RF4S Service\n    SVC->>RF4S: Send Start Command\n    RF4S-->>SVC: Script Started\n    SVC->>EM: Emit 'script.started'\n    EM->>SM: Update Script State\n    SM->>UI: Update Control UI\n    UI->>U: Show Running State\n    \n    Note over U,RF4S: Real-time Data Flow\n    \n    RF4S->>SVC: Send Status Update\n    SVC->>EM: Emit 'rf4s.status_update'\n    EM->>SM: Update System State\n    SM->>UI: Refresh Panels\n    UI->>U: Display Updated Data\n    \n    RF4S->>SVC: Fish Caught Event\n    SVC->>EM: Emit 'fishing.fish_caught'\n    EM->>SM: Update Statistics\n    SM->>UI: Update Stats Panels\n    UI->>U: Show Achievement Animation\n    \n    Note over U,RF4S: Error Handling Flow\n    \n    SVC->>EM: Emit 'service.error'\n    EM->>SM: Log Error State\n    SM->>UI: Show Error UI\n    UI->>U: Display Error Notification\n    U->>UI: Acknowledge Error\n    UI->>EM: Emit 'error.acknowledged'\n    EM->>SVC: Attempt Recovery\n    SVC->>RF4S: Reconnect/Restart\n    \n    Note over U,RF4S: Application Shutdown\n    \n    U->>UI: Close Application\n    UI->>EM: Emit 'app.shutdown_requested'\n    EM->>SM: Save Current State\n    SM->>SVC: Stop All Services\n    SVC->>RF4S: Disconnect\n    RF4S-->>SVC: Disconnected\n    SVC->>EM: Emit 'services.stopped'\n    EM->>UI: Cleanup Complete\n    UI->>U: Application Closed\n",
  "content_size": 2740,
  "collected_at": "2026-02-06T01:31:18.198371",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 1,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}