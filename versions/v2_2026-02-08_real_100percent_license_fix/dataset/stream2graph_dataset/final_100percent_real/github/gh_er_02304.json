{
  "id": "gh_er_02304",
  "source": "github",
  "source_url": "https://github.com/Untitled-ITU/nutrify/blob/a5f3c6255cd3f0c72a50f6e0eaf83f2e8f7e001b/database/docs/erd_v0.mmd",
  "github_repo": "Untitled-ITU/nutrify",
  "github_file_path": "database/docs/erd_v0.mmd",
  "diagram_type": "er",
  "code": "erDiagram\n  %% === STAGING (ham Kaggle) ===\n  STG_RECIPE_RAW {\n    bigint id PK\n    jsonb  payload\n    timestamptz loaded_at\n  }\n\n  %% === CORE (normalize) ===\n  RECIPE {\n    bigint id PK\n    text   title            \"from recipe_title\"\n    text   summary          \"from description\"\n    int    total_minutes    \"optional: minutes if available\"\n    int    total_steps      \"from num_steps\"\n    int    total_ingredients \"from num_ingredients\"\n    text   source_url\n    text   image_url\n    timestamptz created_at\n  }\n\n  INGREDIENT {\n    bigint id PK\n    text   name  \"unique\"\n  }\n\n  RECIPE_INGREDIENT {\n    bigint recipe_id     FK\n    bigint ingredient_id FK\n    numeric quantity     \"nullable (v1)\"\n    text    unit         \"nullable\"\n    PK (recipe_id, ingredient_id, unit)\n  }\n\n  TAG {\n    bigint id PK\n    text   name\n    text   type  \"category | subcategory | diet | method\"\n    UK (name, type)\n  }\n\n  RECIPE_TAG {\n    bigint recipe_id FK\n    bigint tag_id    FK\n    PK (recipe_id, tag_id)\n  }\n\n  INSTRUCTION {\n    bigint recipe_id FK\n    int    step_no\n    text   text\n    PK (recipe_id, step_no)\n  }\n\n  NUTRITION {\n    bigint recipe_id PK, FK\n    numeric calories\n    numeric protein_g\n    numeric fat_g\n    numeric carbs_g\n    numeric fiber_g\n    numeric sugar_g\n    numeric sodium_mg\n  }\n\n  %% === RELATIONSHIPS ===\n  RECIPE ||--o{ RECIPE_INGREDIENT : contains\n  INGREDIENT ||--o{ RECIPE_INGREDIENT : used_in\n\n  RECIPE ||--o{ RECIPE_TAG : has\n  TAG ||--o{ RECIPE_TAG : categorizes\n\n  RECIPE ||--o{ INSTRUCTION : step_by_step\n  RECIPE ||--|| NUTRITION   : has\n\n  %% (Kavramsal) Staging --> Normalize\n  STG_RECIPE_RAW ||--o{ RECIPE : normalized_into\n",
  "content_size": 1655,
  "collected_at": "2026-02-06T02:02:22.458882",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 1,
  "repo_owner": "Untitled-ITU",
  "repo_name": "nutrify",
  "repo_description": "Nutrify – A smart web application that helps users discover, plan, and cook meals efficiently. Search recipes by ingredients or name, filter by diet and cuisine, and organize your weekly meal plans.",
  "repo_language": "Python",
  "repo_topics": [],
  "repo_created_at": "2025-10-10T19:14:47Z",
  "repo_updated_at": "2026-01-21T17:02:14Z"
}