{
  "id": "gh_flowchart_00488",
  "source": "github",
  "source_url": "https://github.com/jdai-ca/atticus/blob/8447c460058749270147e11164c01f66ced27c75/docs/diagrams/flowchart%20TB.mmd",
  "github_repo": "jdai-ca/atticus",
  "github_file_path": "docs/diagrams/flowchart TB.mmd",
  "diagram_type": "flowchart",
  "code": "flowchart TB\n    subgraph UserInput[\"User Input Layer\"]\n        A[\"User Types Message\"]\n        B[\"Select Models<br/>(1 or more)\"]\n        C[\"Configure Jurisdictions<br/>(Optional)\"]\n    end\n\n    subgraph ContextBuild[\"Context Building Layer\"]\n        D{\"Detect<br/>Practice Area\"}\n        E{\"Detect<br/>Advisory Area\"}\n        F[\"Build System Prompt\"]\n        G[\"Retrieve<br/>Conversation History\"]\n        H[\"Scan for PII\"]\n    end\n\n    subgraph Storage[\"Persistent Storage\"]\n        I[(\"Zustand Store<br/>(In-Memory)\")]\n        J[(\"JSON File<br/>userData/conversations/\")]\n        K[(\"Secure Storage<br/>API Keys\")]\n    end\n\n    subgraph Request[\"API Request Construction\"]\n        L[\"Construct Full Context:<br/>━━━━━━━━━━━━━━━<br/>1. System Prompt<br/>   - Practice Area Guidance<br/>   - Advisory Area Rules<br/>   - Jurisdiction Context<br/>2. Message History<br/>   - All previous messages<br/>   - User metadata<br/>3. Current User Message\"]\n        M[\"Create Parallel Requests<br/>for Each Model\"]\n    end\n\n    subgraph Execution[\"Execution Layer\"]\n        N[\"Model 1<br/>OpenAI GPT-4\"]\n        O[\"Model 2<br/>Anthropic Claude\"]\n        P[\"Model 3<br/>Google Gemini\"]\n        Q[\"...more models\"]\n    end\n\n    subgraph Response[\"Response Processing\"]\n        R[\"Collect All Responses\"]\n        S[\"Tag Each with<br/>Model Info\"]\n        T[\"Add Practice/<br/>Advisory Context\"]\n        U[\"Store API Trace<br/>for Debugging\"]\n    end\n\n    A --> D\n    A --> E\n    A --> H\n    B --> M\n    C --> F\n    \n    D --> F\n    E --> F\n    F --> L\n    \n    I --> G\n    G --> L\n    \n    H -->|No PII| L\n    H -->|PII Found| V[\"Show Warning<br/>Dialog\"]\n    V -->|User Confirms| L\n    V -->|User Cancels| W[\"Stop\"]\n    \n    K --> L\n    \n    L --> M\n    \n    M --> N\n    M --> O\n    M --> P\n    M --> Q\n    \n    N --> R\n    O --> R\n    P --> R\n    Q --> R\n    \n    R --> S\n    S --> T\n    T --> U\n    \n    U --> I\n    I --> J\n    \n    J -.->|Load on Startup| I\n\n    style D fill:#e1f5ff\n    style E fill:#e1f5ff\n    style F fill:#fff5e1\n    style L fill:#ffe1e1\n    style I fill:#e1ffe1\n    style J fill:#e1ffe1\n    style K fill:#ffe1f5",
  "content_size": 2127,
  "collected_at": "2026-02-06T01:44:21.267630",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License (Assumed)",
  "license_url": null,
  "repo_stars": 26,
  "repo_forks": 2,
  "repo_owner": "jdai-ca",
  "repo_name": "atticus",
  "repo_description": "Atticus is your In-House AI Counsel. A privacy-focused desktop application that brings tremendous time & cost savings for entrepreneurs & businesses.",
  "repo_language": "TypeScript",
  "repo_topics": [],
  "repo_created_at": "2025-10-12T15:31:33Z",
  "repo_updated_at": "2026-01-27T02:11:43Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}