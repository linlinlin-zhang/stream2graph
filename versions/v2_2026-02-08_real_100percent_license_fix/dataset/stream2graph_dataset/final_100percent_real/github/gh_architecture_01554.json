{
  "id": "gh_architecture_01554",
  "source": "github",
  "source_url": "https://github.com/skarapanahalli/chatwithme-app/blob/06869ff30fa8512e62f19376aa40ce37f53dd512/docs/security-architecture.mmd",
  "github_repo": "skarapanahalli/chatwithme-app",
  "github_file_path": "docs/security-architecture.mmd",
  "diagram_type": "architecture",
  "code": "graph TB\n    %% External Threats\n    Attacker[ğŸ”´ Potential Threats<br/>DDoS, XSS, SQL Injection]\n    \n    %% First Line of Defense\n    Attacker --> WAF[ğŸ›¡ï¸ AWS WAF<br/>â€¢ DDoS Protection<br/>â€¢ IP Filtering<br/>â€¢ Rate Limiting]\n    \n    %% CDN Security\n    WAF --> CloudFront[â˜ï¸ CloudFront<br/>â€¢ SSL/TLS Termination<br/>â€¢ Geographic Restrictions<br/>â€¢ Origin Access Control]\n    \n    %% Load Balancer Security\n    CloudFront --> ALB[âš–ï¸ Application Load Balancer<br/>â€¢ SSL Certificates<br/>â€¢ Security Groups<br/>â€¢ Health Checks]\n    \n    %% Application Security Layers\n    ALB --> SecurityMiddleware[ğŸ”’ Security Middleware<br/>â€¢ Rate Limiting<br/>â€¢ Input Validation<br/>â€¢ CORS Configuration]\n    \n    SecurityMiddleware --> InputValidation[âœ… Input Validation<br/>â€¢ File Type Checking<br/>â€¢ Size Limits<br/>â€¢ Sanitization]\n    \n    InputValidation --> Authentication[ğŸ” Session Management<br/>â€¢ Secure Sessions<br/>â€¢ Auto-expiration<br/>â€¢ Redis Storage]\n    \n    %% API Security\n    Authentication --> APIGateway[ğŸ”Œ API Gateway<br/>â€¢ Request Validation<br/>â€¢ Error Handling<br/>â€¢ Logging]\n    \n    %% Data Protection\n    APIGateway --> DataEncryption[ğŸ” Data Encryption<br/>â€¢ In-transit: TLS 1.3<br/>â€¢ At-rest: AES-256<br/>â€¢ Key Management]\n    \n    %% Storage Security\n    DataEncryption --> S3Security[ğŸ—„ï¸ S3 Security<br/>â€¢ Bucket Policies<br/>â€¢ Access Logging<br/>â€¢ Versioning]\n    \n    %% Access Control\n    S3Security --> IAM[ğŸ”‘ IAM Security<br/>â€¢ Least Privilege<br/>â€¢ Role-based Access<br/>â€¢ MFA Required]\n    \n    %% Network Security\n    subgraph \"Network Security\"\n        VPC[ğŸ  VPC<br/>â€¢ Private Subnets<br/>â€¢ Security Groups<br/>â€¢ NACLs]\n        \n        PrivateSubnet[ğŸ”’ Private Subnets<br/>â€¢ No Direct Internet<br/>â€¢ NAT Gateway Only<br/>â€¢ Internal Communication]\n        \n        SecurityGroups[ğŸ›¡ï¸ Security Groups<br/>â€¢ Port Restrictions<br/>â€¢ Source IP Filtering<br/>â€¢ Stateful Firewall]\n        \n        NACLs[ğŸš§ Network ACLs<br/>â€¢ Subnet-level Control<br/>â€¢ Stateless Filtering<br/>â€¢ Deny by Default]\n    end\n    \n    IAM --> VPC\n    VPC --> PrivateSubnet\n    VPC --> SecurityGroups\n    VPC --> NACLs\n    \n    %% Application-Level Security\n    subgraph \"Application Security\"\n        XSSProtection[ğŸ›¡ï¸ XSS Protection<br/>â€¢ Input Sanitization<br/>â€¢ Output Encoding<br/>â€¢ CSP Headers]\n        \n        SQLInjection[ğŸ›¡ï¸ SQL Injection Prevention<br/>â€¢ Parameterized Queries<br/>â€¢ Input Validation<br/>â€¢ ORM Usage]\n        \n        CSRF[ğŸ›¡ï¸ CSRF Protection<br/>â€¢ Token Validation<br/>â€¢ SameSite Cookies<br/>â€¢ Origin Checking]\n        \n        FileUpload[ğŸ“ File Upload Security<br/>â€¢ Type Validation<br/>â€¢ Size Limits<br/>â€¢ Virus Scanning]\n    end\n    \n    SecurityMiddleware --> XSSProtection\n    SecurityMiddleware --> SQLInjection\n    SecurityMiddleware --> CSRF\n    SecurityMiddleware --> FileUpload\n    \n    %% Monitoring & Detection\n    subgraph \"Security Monitoring\"\n        CloudTrail[ğŸ“‹ CloudTrail<br/>â€¢ API Call Logging<br/>â€¢ User Activity<br/>â€¢ Compliance Audit]\n        \n        GuardDuty[ğŸ‘ï¸ GuardDuty<br/>â€¢ Threat Detection<br/>â€¢ Anomaly Analysis<br/>â€¢ ML-based Security]\n        \n        SecurityHub[ğŸ¯ Security Hub<br/>â€¢ Centralized Dashboard<br/>â€¢ Compliance Checks<br/>â€¢ Finding Aggregation]\n        \n        CloudWatch[ğŸ“Š CloudWatch<br/>â€¢ Real-time Monitoring<br/>â€¢ Custom Metrics<br/>â€¢ Automated Alerts]\n    end\n    \n    IAM --> CloudTrail\n    VPC --> GuardDuty\n    CloudTrail --> SecurityHub\n    GuardDuty --> SecurityHub\n    SecurityHub --> CloudWatch\n    \n    %% Incident Response\n    CloudWatch --> SNS[ğŸ“§ SNS Alerts<br/>â€¢ Security Incidents<br/>â€¢ Automated Response<br/>â€¢ Team Notifications]\n    \n    SNS --> Lambda[âš¡ Lambda Response<br/>â€¢ Auto-remediation<br/>â€¢ IP Blocking<br/>â€¢ Scaling Actions]\n    \n    %% Data Privacy & Compliance\n    subgraph \"Privacy & Compliance\"\n        GDPR[ğŸ“œ GDPR Compliance<br/>â€¢ Data Minimization<br/>â€¢ Right to Deletion<br/>â€¢ Privacy by Design]\n        \n        DataRetention[ğŸ—“ï¸ Data Retention<br/>â€¢ 24-hour Auto-delete<br/>â€¢ No Permanent Storage<br/>â€¢ Session Cleanup]\n        \n        Encryption[ğŸ” End-to-End Encryption<br/>â€¢ Client to Server<br/>â€¢ Server to Storage<br/>â€¢ Key Rotation]\n    end\n    \n    S3Security --> GDPR\n    S3Security --> DataRetention\n    DataEncryption --> Encryption\n    \n    %% Security Testing\n    subgraph \"Security Testing\"\n        PenTesting[ğŸ” Penetration Testing<br/>â€¢ Regular Assessments<br/>â€¢ Vulnerability Scanning<br/>â€¢ Code Review]\n        \n        SecurityTests[ğŸ§ª Automated Security Tests<br/>â€¢ OWASP Top 10<br/>â€¢ Dependency Scanning<br/>â€¢ Static Analysis]\n        \n        ComplianceAudit[ğŸ“Š Compliance Auditing<br/>â€¢ SOC 2 Type II<br/>â€¢ ISO 27001<br/>â€¢ Regular Reviews]\n    end\n    \n    SecurityMiddleware --> PenTesting\n    SecurityMiddleware --> SecurityTests\n    SecurityHub --> ComplianceAudit\n    \n    %% Backup & Recovery Security\n    subgraph \"Backup Security\"\n        BackupEncryption[ğŸ” Backup Encryption<br/>â€¢ Encrypted Backups<br/>â€¢ Secure Transfer<br/>â€¢ Access Control]\n        \n        DisasterRecovery[ğŸš¨ Disaster Recovery<br/>â€¢ Multi-region Backup<br/>â€¢ RTO/RPO Targets<br/>â€¢ Regular Testing]\n    end\n    \n    S3Security --> BackupEncryption\n    BackupEncryption --> DisasterRecovery\n    \n    %% Styling\n    classDef threat fill:#ffcdd2\n    classDef protection fill:#c8e6c9\n    classDef monitoring fill:#e1bee7\n    classDef compliance fill:#bbdefb\n    classDef network fill:#dcedc8\n    classDef application fill:#ffe0b2\n    \n    class Attacker threat\n    class WAF,CloudFront,ALB,SecurityMiddleware,InputValidation,Authentication protection\n    class CloudTrail,GuardDuty,SecurityHub,CloudWatch,SNS,Lambda monitoring\n    class GDPR,DataRetention,Encryption,PenTesting,SecurityTests,ComplianceAudit compliance\n    class VPC,PrivateSubnet,SecurityGroups,NACLs network\n    class XSSProtection,SQLInjection,CSRF,FileUpload application\n\n",
  "content_size": 5829,
  "collected_at": "2026-02-06T01:47:49.798722",
  "license": "gpl-3.0",
  "license_name": "GNU General Public License v3.0",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚",
  "license_url": "https://api.github.com/licenses/gpl-3.0",
  "repo_stars": 0,
  "repo_forks": 0
}