{
  "id": "gh_sequence_00771",
  "source": "github",
  "source_url": "https://github.com/MicrosoftDocs/azure-docs/blob/caec24a309bbba6019ac1af144baecabb59a78b7/articles/sentinel/media/summary-rules/diagram.mmd",
  "github_repo": "MicrosoftDocs/azure-docs",
  "github_file_path": "articles/sentinel/media/summary-rules/diagram.mmd",
  "diagram_type": "sequence",
  "code": "---\nconfig:\n  look: neo\n  theme: default\n  sequence:\n    actorFontSize: 22\n    messageFontSize: 20\n    noteFontSize: 20\n---\nsequenceDiagram\n  actor User as User\n  participant Entra ID as Entra ID\n  participant Azure Monitor as Azure Monitor\n  participant Log Analytics Workspace as Log Analytics Workspace\n  participant VM as VM\n  User ->> Entra ID: 1. Register Microsoft Entra application\n  Entra ID ->> User: Provide Application ID and secret\n  User ->> Azure Monitor: 2. Create DCE, DCR, and custom Auxiliary table using ARM template\n  Azure Monitor ->> User: Provide DCE URI and DCR Immutable ID\n  User ->> Azure Monitor: 3. Grant your application permission to send data to the DCE\n  User ->> VM: 4. Update Logstash configuration file\n  VM ->> Azure Monitor: Send data to DCE\n  Azure Monitor ->> Log Analytics Workspace: Ingest raw data into CommonSecurityLog_CL table\n  User ->> Log Analytics Workspace: 5. Query Auxiliary table to verify data ingestion\n  User ->> Azure Monitor: 6. Create summary rule\n  VM ->> Azure Monitor: Send data to DCE\n  Azure Monitor ->> Log Analytics Workspace: Ingest raw data into CommonSecurityLog_CL table\n  Azure Monitor ->> Log Analytics Workspace: Ingest aggregated data into custom Analytics table\n  User ->> Log Analytics Workspace: 7. Query Analytics table to view aggregated data  \n",
  "content_size": 1326,
  "collected_at": "2026-02-06T01:36:47.944200",
  "compilation_status": "failed",
  "license": "cc-by-4.0",
  "license_name": "Creative Commons Attribution 4.0 International",
  "license_url": "https://api.github.com/licenses/cc-by-4.0",
  "repo_stars": 10757,
  "repo_forks": 21857,
  "repo_owner": "MicrosoftDocs",
  "repo_name": "azure-docs",
  "repo_description": "Open source documentation of Microsoft Azure",
  "repo_language": "Markdown",
  "repo_topics": [
    "skilling"
  ],
  "repo_created_at": "2016-11-02T22:00:37Z",
  "repo_updated_at": "2026-02-06T12:10:10Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}