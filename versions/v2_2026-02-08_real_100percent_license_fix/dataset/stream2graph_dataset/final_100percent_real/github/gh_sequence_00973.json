{
  "id": "gh_sequence_00973",
  "source": "github",
  "source_url": "https://github.com/Pascal-SAPUI5/masterarbeit-ki-finance/blob/f73859e7c4a8698071fe48b4f63f05023a2d3c99/docs/diagrams/mcp_integration.mmd",
  "github_repo": "Pascal-SAPUI5/masterarbeit-ki-finance",
  "github_file_path": "docs/diagrams/mcp_integration.mmd",
  "diagram_type": "sequence",
  "code": "```mermaid\nsequenceDiagram\n    participant CC as Claude Code\n    participant MCP as MCP Server\n    participant RAG as RAG Extension\n    participant LLM as Ollama LLM\n    participant DB as Vector DB\n    participant EXT as External APIs\n    \n    Note over CC, EXT: Document Search Workflow\n    \n    CC->>MCP: search_documents(query, top_k=5)\n    MCP->>RAG: process_search_request()\n    RAG->>DB: vector_similarity_search()\n    DB-->>RAG: top_k_documents\n    RAG->>LLM: generate_answer(query, context)\n    LLM-->>RAG: enhanced_response\n    RAG-->>MCP: formatted_results\n    MCP-->>CC: search_response\n    \n    Note over CC, EXT: Literature Search Workflow\n    \n    CC->>MCP: search_literature(query, databases)\n    MCP->>RAG: process_literature_search()\n    RAG->>EXT: scopus_api_search()\n    RAG->>EXT: wos_api_search()\n    EXT-->>RAG: api_results\n    RAG->>RAG: quality_filtering()\n    RAG->>RAG: format_citations()\n    RAG-->>MCP: literature_results\n    MCP-->>CC: search_response\n    \n    Note over CC, EXT: Document Indexing Workflow\n    \n    CC->>MCP: index_documents(path, options)\n    MCP->>RAG: process_indexing_request()\n    RAG->>RAG: extract_text_from_pdfs()\n    RAG->>RAG: chunk_documents()\n    RAG->>RAG: generate_embeddings()\n    RAG->>DB: store_vectors()\n    DB-->>RAG: indexing_complete\n    RAG-->>MCP: indexing_results\n    MCP-->>CC: status_response\n    \n    Note over CC, EXT: Memory Operations\n    \n    CC->>MCP: store_context(type, data)\n    MCP->>RAG: process_memory_storage()\n    RAG->>DB: store_context_data()\n    DB-->>RAG: storage_confirmed\n    RAG-->>MCP: storage_result\n    MCP-->>CC: confirmation\n    \n    CC->>MCP: retrieve_context(type, filters)\n    MCP->>RAG: process_memory_retrieval()\n    RAG->>DB: query_context_data()\n    DB-->>RAG: context_results\n    RAG-->>MCP: formatted_context\n    MCP-->>CC: context_data\n    \n    Note over CC, EXT: Error Handling\n    \n    CC->>MCP: invalid_request()\n    MCP->>RAG: validate_request()\n    RAG-->>MCP: validation_error\n    MCP-->>CC: error_response\n```",
  "content_size": 2024,
  "collected_at": "2026-02-06T01:51:24.090838",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}