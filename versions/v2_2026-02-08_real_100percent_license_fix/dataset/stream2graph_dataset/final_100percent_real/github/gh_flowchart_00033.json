{
  "id": "gh_flowchart_00033",
  "source": "github",
  "source_url": "https://github.com/iliyamo/Library-Management-System/blob/59aca9f27f1a7c34942ece2a89b702169ff5dde2/Docs/Author.mmd",
  "github_repo": "iliyamo/Library-Management-System",
  "github_file_path": "Docs/Author.mmd",
  "diagram_type": "flowchart",
  "code": "flowchart TD\n    %% ساخت نویسنده جدید\n    A[درخواست ایجاد نویسنده] --> B[POST /api/v1/authors]\n    B --> C[بررسی JWT Middleware]\n    C -->|بدون توکن| D[خطای 401 - فقدان توکن]\n    C -->|توکن نامعتبر| E[خطای 401 - توکن نامعتبر]\n    C -->|توکن معتبر| F[بررسی Rate Limit]\n    F -->|بیش از حد| G[خطای 429 - تعداد درخواست زیاد]\n    F -->|مجاز| H{بررسی اعتبار داده‌ها}\n    H -->|نامعتبر| I[خطای 400 - درخواست نامعتبر]\n    H -->|معتبر| J[تبدیل تاریخ تولد]\n    J -->|فرمت نادرست| K[خطای 400 - فرمت تاریخ نادرست]\n    J -->|فرمت درست| L[بررسی تکراری بودن نویسنده]\n    L -->|تکراری| M[خطای 409 - نویسنده موجود]\n    L -->|جدید| N[ایجاد Author Object]\n    N --> O[ذخیره در دیتابیس]\n    O -->|خطا| P[خطای 500 - ثبت ناموفق]\n    O -->|موفق| Q[پاسخ 201 - نویسنده ایجاد شد]\n\n    %% دریافت همه نویسندگان\n    R[درخواست لیست نویسندگان] --> S[GET /api/v1/authors]\n    S --> T[بررسی JWT Middleware]\n    T -->|بدون توکن| U[خطای 401 - فقدان توکن]\n    T -->|توکن نامعتبر| V[خطای 401 - توکن نامعتبر]\n    T -->|توکن معتبر| W[بررسی Rate Limit]\n    W -->|بیش از حد| X[خطای 429 - تعداد درخواست زیاد]\n    W -->|مجاز| Y{بررسی پارامتر جستجو}\n    Y -->|بدون جستجو| Z[دریافت همه نویسندگان از DB]\n    Y -->|با جستجو| AA[بررسی Redis Cache]\n    AA -->|موجود در کش| BB[بازگشت از Cache]\n    AA -->|غیرموجود| CC[Full-text Search در DB]\n    CC --> DD[ذخیره نتیجه در Redis - 30 ثانیه]\n    DD --> EE[بازگشت نتایج با Pagination]\n    Z --> FF[بازگشت لیست کامل]\n\n    %% دریافت نویسنده با ID\n    GG[درخواست نویسنده خاص] --> HH[GET /api/v1/authors/:id]\n    HH --> II[بررسی JWT Middleware]\n    II -->|بدون توکن| JJ[خطای 401 - فقدان توکن]\n    II -->|توکن نامعتبر| KK[خطای 401 - توکن نامعتبر]\n    II -->|توکن معتبر| LL[بررسی Rate Limit]\n    LL -->|بیش از حد| MM[خطای 429 - تعداد درخواست زیاد]\n    LL -->|مجاز| NN{بررسی اعتبار ID}\n    NN -->|نامعتبر| OO[خطای 400 - شناسه نامعتبر]\n    NN -->|معتبر| PP[جستجوی نویسنده در DB]\n    PP -->|یافت نشد| QQ[خطای 404 - نویسنده یافت نشد]\n    PP -->|یافت شد| RR[بازگشت اطلاعات نویسنده]\n\n    %% بروزرسانی نویسنده\n    SS[درخواست بروزرسانی نویسنده] --> TT[PUT /api/v1/authors/:id]\n    TT --> UU[بررسی JWT Middleware]\n    UU -->|بدون توکن| VV[خطای 401 - فقدان توکن]\n    UU -->|توکن نامعتبر| WW[خطای 401 - توکن نامعتبر]\n    UU -->|توکن معتبر| XX[بررسی Rate Limit]\n    XX -->|بیش از حد| YY[خطای 429 - تعداد درخواست زیاد]\n    XX -->|مجاز| ZZ{بررسی اعتبار ID}\n    ZZ -->|نامعتبر| AAA[خطای 400 - شناسه نامعتبر]\n    ZZ -->|معتبر| BBB{بررسی اعتبار داده‌ها}\n    BBB -->|نامعتبر| CCC[خطای 400 - درخواست نامعتبر]\n    BBB -->|معتبر| DDD[تبدیل تاریخ تولد]\n    DDD -->|فرمت نادرست| EEE[خطای 400 - فرمت تاریخ نادرست]\n    DDD -->|فرمت درست| FFF[بروزرسانی در DB]\n    FFF -->|ناموفق| GGG[خطای 404 - نویسنده یافت نشد]\n    FFF -->|موفق| HHH[پاسخ 200 - بروزرسانی موفق]\n\n    %% حذف نویسنده\n    III[درخواست حذف نویسنده] --> JJJ[DELETE /api/v1/authors/:id]\n    JJJ --> KKK[بررسی JWT Middleware]\n    KKK -->|بدون توکن| LLL[خطای 401 - فقدان توکن]\n    KKK -->|توکن نامعتبر| MMM[خطای 401 - توکن نامعتبر]\n    KKK -->|توکن معتبر| NNN[بررسی Rate Limit]\n    NNN -->|بیش از حد| OOO[خطای 429 - تعداد درخواست زیاد]\n    NNN -->|مجاز| PPP{بررسی اعتبار ID}\n    PPP -->|نامعتبر| QQQ[خطای 400 - شناسه نامعتبر]\n    PPP -->|معتبر| RRR[حذف از دیتابیس]\n    RRR -->|ناموفق| SSS[خطای 404 - نویسنده یافت نشد]\n    RRR -->|موفق| TTT[پاسخ 200 - حذف موفق]\n\n    %% استایل‌ها\n    classDef successNode fill:#d4edda,stroke:#155724,color:#155724\n    classDef errorNode fill:#f8d7da,stroke:#721c24,color:#721c24\n    classDef processNode fill:#cce5ff,stroke:#004085,color:#004085\n    classDef authNode fill:#fff3cd,stroke:#856404,color:#856404\n    classDef cacheNode fill:#e2e3e5,stroke:#383d41,color:#383d41\n\n    class Q,BB,EE,FF,RR,HHH,TTT successNode\n    class D,E,G,I,K,M,P,U,V,X,JJ,KK,MM,OO,QQ,VV,WW,YY,AAA,CCC,EEE,GGG,LLL,MMM,OOO,QQQ,SSS errorNode\n    class H,J,L,N,O,Y,CC,DD,NN,PP,ZZ,BBB,DDD,FFF,PPP,RRR processNode\n    class C,F,T,W,II,LL,UU,XX,KKK,NNN authNode\n    class AA,DD cacheNode",
  "content_size": 3916,
  "collected_at": "2026-02-06T01:41:28.264228",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}