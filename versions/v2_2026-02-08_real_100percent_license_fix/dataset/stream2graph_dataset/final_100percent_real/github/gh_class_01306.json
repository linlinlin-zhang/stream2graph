{
  "id": "gh_class_01306",
  "source": "github",
  "source_url": "https://github.com/nics-dp/petsard/blob/16586325cc1d3c2b16a741927593949d074fb1cf/doc_site/content/docs/python-api/metadater-api/metadater-class-diagram.zh-tw.mmd",
  "github_repo": "nics-dp/petsard",
  "github_file_path": "doc_site/content/docs/python-api/metadater-api/metadater-class-diagram.zh-tw.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    %% 操作類別（Operation Classes）\n    class Metadater {\n        <<operation>>\n        +from_data(data: dict) Metadata\n        +from_dict(config: dict) Metadata\n        +from_metadata(metadata: Metadata) Metadata\n        +diff(metadata: Metadata, data: dict) dict\n        +align(metadata: Metadata, data: dict) dict\n        +get(metadata: Metadata, name: str) Schema\n        +add(metadata: Metadata, schema: Schema) Metadata\n        +update(metadata: Metadata, schema: Schema) Metadata\n        +remove(metadata: Metadata, name: str) Metadata\n    }\n\n    class SchemaMetadater {\n        <<operation>>\n        +from_data(data: DataFrame) Schema\n        +from_dict(config: dict) Schema\n        +from_yaml(filepath: str) Schema\n        +from_metadata(schema: Schema) Schema\n        +diff(schema: Schema, data: DataFrame) dict\n        +align(schema: Schema, data: DataFrame) DataFrame\n        +get(schema: Schema, name: str) Attribute\n        +add(schema: Schema, attribute: Attribute) Schema\n        +update(schema: Schema, attribute: Attribute) Schema\n        +remove(schema: Schema, name: str) Schema\n    }\n\n    class AttributeMetadater {\n        <<operation>>\n        +from_data(data: Series) Attribute\n        +from_dict(config: dict) Attribute\n        +from_metadata(attribute: Attribute) Attribute\n        +diff(attribute: Attribute, data: Series) dict\n        +align(attribute: Attribute, data: Series) Series\n        +validate(attribute: Attribute, data: Series) tuple\n        +cast(attribute: Attribute, data: Series) Series\n    }\n\n    %% 配置類別（Configuration Classes）\n    class Metadata {\n        <<dataclass>>\n        +id: str\n        +name: str\n        +description: str\n        +schemas: dict[str, Schema]\n        +enable_stats: bool\n        +stats: DatasetsStats\n    }\n\n    class Schema {\n        <<dataclass>>\n        +id: str\n        +name: str\n        +description: str\n        +attributes: dict[str, Attribute]\n        +primary_key: list\n        +enable_stats: bool\n        +stats: TableStats\n    }\n\n    class Attribute {\n        <<dataclass>>\n        +name: str\n        +type: str\n        +type_attr: dict\n        +logical_type: str\n        +description: str\n        +enable_stats: bool\n        +stats: FieldStats\n        +is_constant: bool\n    }\n\n    %% 資料抽象類別（Data Abstraction Classes）\n    class Datasets {\n        <<dataclass>>\n        +data: dict[str, DataFrame]\n        +metadata: Metadata\n        +create(data, metadata) Datasets\n        +get_table(name) Table\n        +validate() tuple\n        +diff() dict\n        +align() dict\n    }\n\n    class Table {\n        <<dataclass>>\n        +data: DataFrame\n        +schema: Schema\n        +create(data, schema) Table\n        +get_field(name) Field\n        +validate() tuple\n        +diff() dict\n        +align() DataFrame\n    }\n\n    class Field {\n        <<dataclass>>\n        +data: Series\n        +attribute: Attribute\n        +create(data, attribute) Field\n        +validate() tuple\n        +align() Series\n    }\n\n    %% Schema 推斷工具\n    class SchemaInferencer {\n        <<tool>>\n        +infer_preprocessor_output(schema, config) Schema\n        +infer_pipeline_schemas(schema, config) dict\n        +get_inference_history() list\n    }\n\n    class ProcessorTransformRules {\n        <<tool>>\n        +get_rule(method: str) TransformRule\n        +apply_rule(attribute, rule) Attribute\n        +apply_transform_info(attribute, info) Attribute\n        +RULES: dict\n    }\n\n    class TransformRule {\n        <<dataclass>>\n        +processor_type: str\n        +processor_method: str\n        +input_types: list\n        +output_type: str\n        +output_logical_type: str\n        +affects_nullable: bool\n    }\n\n    %% 操作關係（Operations）\n    Metadater ..> Metadata : creates/operates\n    SchemaMetadater ..> Schema : creates/operates\n    AttributeMetadater ..> Attribute : creates/operates\n\n    %% 組合關係（Composition）\n    Metadata *-- Schema : contains\n    Schema *-- Attribute : contains\n    Datasets *-- Metadata : has\n    Table *-- Schema : has\n    Field *-- Attribute : has\n\n    %% 資料關係\n    Datasets o-- Table : creates\n    Table o-- Field : creates\n\n    %% 階層呼叫（Hierarchy）\n    Metadater --> SchemaMetadater : calls\n    SchemaMetadater --> AttributeMetadater : calls\n    Datasets --> Metadater : uses\n    Table --> SchemaMetadater : uses\n    Field --> AttributeMetadater : uses\n\n    %% Schema 推斷關係\n    SchemaInferencer --> ProcessorTransformRules : uses\n    ProcessorTransformRules --> TransformRule : uses\n    SchemaInferencer ..> Schema : infers\n\n    %% 樣式標示\n    style Metadater fill:#e6f3ff,stroke:#4a90e2,stroke-width:3px\n    style SchemaMetadater fill:#e6f3ff,stroke:#4a90e2,stroke-width:2px\n    style AttributeMetadater fill:#e6f3ff,stroke:#4a90e2,stroke-width:2px\n    style Metadata fill:#fff2e6,stroke:#ff9800,stroke-width:2px\n    style Schema fill:#fff2e6,stroke:#ff9800,stroke-width:2px\n    style Attribute fill:#fff2e6,stroke:#ff9800,stroke-width:2px\n    style Datasets fill:#f0f8ff,stroke:#6495ed,stroke-width:2px\n    style Table fill:#f0f8ff,stroke:#6495ed,stroke-width:2px\n    style Field fill:#f0f8ff,stroke:#6495ed,stroke-width:2px\n    style SchemaInferencer fill:#e8f5e9,stroke:#4caf50,stroke-width:2px\n    style ProcessorTransformRules fill:#e8f5e9,stroke:#4caf50,stroke-width:2px\n    style TransformRule fill:#e8f5e9,stroke:#4caf50,stroke-width:2px",
  "content_size": 5329,
  "collected_at": "2026-02-06T01:55:55.689364",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License (Assumed)",
  "license_url": null,
  "repo_stars": 6,
  "repo_forks": 1
}