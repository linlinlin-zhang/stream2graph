{
  "id": "gh_flowchart_00376",
  "source": "github",
  "source_url": "https://github.com/Kasiem024/KTH-CM1008-Projektkurs-Applikationsutveckling/blob/0ec595e047a8f828f41cd9de5725272a7292d953/Diagrams/N%C3%A4tverk%20Mermaid.mmd",
  "github_repo": "Kasiem024/KTH-CM1008-Projektkurs-Applikationsutveckling",
  "github_file_path": "Diagrams/Nätverk Mermaid.mmd",
  "diagram_type": "flowchart",
  "code": "---\nconfig:\n  layout: elk\n---\nflowchart TD\n subgraph subGraph0[\"Serverflöde (Host)\"]\n    direction TB\n        S1[\"Initiera Server (NetServer_Init)\"]\n        S2[\"Skapa lyssningssocket port 8080\"]\n        S3{\"Väntar på klientanslutningar\"}\n        S4[\"Acceptera Klient & Tilldela ID\"]\n        S5[\"Klient skickar: C_HELLO\"]\n        S6[\"Server svarar: S_WELCOME & S_GAME_START\"]\n        S_Loop{\"Server Huvudloop\"}\n        S_Broadcast_State[\"Broadcasta S_PLAYER_STATE till övriga\"]\n        S_Handle_Attack[\"Hantera Attacklogik\"]\n        S_Broadcast_Attack[\"Broadcasta S_SPAWN_ATTACK\"]\n        S_Handle_Damage[\"Validera & Hantera Skada\"]\n        S_Broadcast_Damage[\"Broadcasta S_DAMAGE\"]\n        S_Handle_Result[\"Validera Resultat\"]\n        S_Broadcast_Result[\"Broadcasta S_GAME_RESULT\"]\n        S_End[\"Spel Slut\"]\n        S_Disconnect[\"Hantera Frånkoppling (Broadcasta S_PLAYER_DISCONNECT)\"]\n  end\n subgraph subGraph1[\"Klientflöde (Join)\"]\n    direction TB\n        C1[\"Initiera Klient (NetClient_Init)\"]\n        C2[\"Anslut till Server (IP & Port 8080)\"]\n        C3[\"Skicka: C_HELLO\"]\n        C4{\"Väntar på Serverns svar\"}\n        C_Loop{\"Klient Huvudloop\"}\n        C_Send_State[\"Skicka C_PLAYER_STATE (periodiskt)\"]\n        C_Send_Attack[\"Skicka C_SPAWN_ATTACK\"]\n        C_Send_Damage[\"Skicka C_DAMAGE (Tower/Base/Minion)\"]\n        C_Send_Result[\"Skicka C_GAME_RESULT\"]\n        C_Update_Remote[\"Uppdatera fjärrspelare lokalt\"]\n        C_Handle_Attack[\"Skapa/visa attack lokalt\"]\n        C_Handle_Damage[\"Applicera skada lokalt\"]\n        C_End[\"Spel Slut\"]\n        C_Error[\"Felhantering/Visa frånkoppling\"]\n  end\n    A_Start[\"Spel Startas\"] --> A_Val{\"Välj: Host (Server) eller Join (Klient)\"}\n    S1 --> S2\n    S2 --> S3\n    S3 -- Ny Klient Ansluter --> S4\n    S4 --> S5\n    S5 --> S6\n    S6 --> S_Loop\n    S_Loop -- Mottar C_PLAYER_STATE från Klient --> S_Broadcast_State\n    S_Broadcast_State --> S_Loop\n    S_Loop -- Mottar C_SPAWN_ATTACK från Klient --> S_Handle_Attack\n    S_Handle_Attack --> S_Broadcast_Attack\n    S_Broadcast_Attack --> S_Loop\n    S_Loop -- Mottar C_DAMAGE från Klient --> S_Handle_Damage\n    S_Handle_Damage --> S_Broadcast_Damage\n    S_Broadcast_Damage --> S_Loop\n    S_Loop -- Mottar C_GAME_RESULT från Klient --> S_Handle_Result\n    S_Handle_Result --> S_Broadcast_Result\n    S_Broadcast_Result --> S_End\n    S_Loop -- Klient Frånkopplad --> S_Disconnect\n    S_Disconnect --> S_Loop\n    C1 --> C2\n    C2 -- Lyckad anslutning --> C3\n    C3 --> C4\n    C4 -- Mottar S_WELCOME & S_GAME_START --> C_Loop\n    C_Loop -- Lokal input/rörelse --> C_Send_State\n    C_Send_State --> C_Loop\n    C_Loop -- Lokal attack --> C_Send_Attack\n    C_Send_Attack --> C_Loop\n    C_Loop -- Lokal skada --> C_Send_Damage\n    C_Send_Damage --> C_Loop\n    C_Loop -- Lokalt Vinst/Förlust --> C_Send_Result\n    C_Send_Result --> C_Loop\n    C_Loop -- Mottar S_PLAYER_STATE (annan spelare) --> C_Update_Remote\n    C_Update_Remote --> C_Loop\n    C_Loop -- Mottar S_SPAWN_ATTACK --> C_Handle_Attack\n    C_Handle_Attack --> C_Loop\n    C_Loop -- Mottar S_DAMAGE --> C_Handle_Damage\n    C_Handle_Damage --> C_Loop\n    C_Loop -- Mottar S_GAME_RESULT --> C_End\n    C_Loop -- Server Frånkopplad --> C_Error\n    A_Val -- Väljer Host --> S1\n    A_Val -- Väljer Join --> C1\n    S_End --> Z_Cleanup[\"Städa Nätverksresurser Server\"]\n    C_End --> Z_Cleanup\n    C_Error --> Z_Cleanup_Client[\"Städa Nätverksresurser Klient\"]\n     S1:::server_style\n     S2:::server_style\n     S3:::server_style\n     S4:::networkMsg_style\n     S5:::networkMsg_style\n     S6:::server_style\n     S_Loop:::loop_style\n     S_Broadcast_State:::server_style\n     S_Handle_Attack:::server_style\n     S_Broadcast_Attack:::server_style\n     S_Handle_Damage:::server_style\n     S_Broadcast_Damage:::server_style\n     S_Handle_Result:::server_style\n     S_Broadcast_Result:::server_style\n     S_End:::server_style\n     S_Disconnect:::server_style\n     C1:::client_style\n     C2:::client_style\n     C3:::networkMsg_style\n     C4:::networkMsg_style\n     C_Loop:::loop_style\n     C_Send_State:::client_style\n     C_Send_Attack:::client_style\n     C_Send_Damage:::client_style\n     C_Send_Result:::client_style\n     C_Update_Remote:::client_style\n     C_Handle_Attack:::client_style\n     C_Handle_Damage:::client_style\n     C_End:::client_style\n     C_Error:::client_style\n     A_Start:::start\n     A_Val:::choice\n     Z_Cleanup:::start\n     Z_Cleanup_Client:::start\n    classDef start fill:#bbb,stroke:#333,stroke-width:2px,color:#333\n    classDef choice fill:#FFFACD,stroke:#333,stroke-width:2px,color:#333\n    classDef server_style fill:#ADD8E6,stroke:#333,stroke-width:2px,color:#333\n    classDef client_style fill:#90EE90,stroke:#333,stroke-width:2px,color:#333\n    classDef networkMsg_style fill:#FFDAB9,stroke:#333,stroke-width:1px,color:#333\n    classDef loop_style fill:#E6E6FA,stroke:#333,stroke-width:2px,color:#333\n    classDef end_style fill:#FFB6C1,stroke:#333,stroke-width:2px,color:#333\n",
  "content_size": 4947,
  "collected_at": "2026-02-06T01:43:43.486457",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 1,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}