{
  "id": "gh_architecture_01494",
  "source": "github",
  "source_url": "https://github.com/TelosSteward/TELOS/blob/13ff904acc85cfdbef9bf927aa50a695eaa5ae36/docs/diagrams/TELOS_Three_Tier_Governance_Flow.mmd",
  "github_repo": "TelosSteward/TELOS",
  "github_file_path": "docs/diagrams/TELOS_Three_Tier_Governance_Flow.mmd",
  "diagram_type": "architecture",
  "code": "%% TELOS Three-Tier Governance Flow\n%% Corrected flow logic based on constants.py and academic paper\n%%\n%% Key Thresholds:\n%%   - SIMILARITY_BASELINE = 0.20 (Layer 1 hard block)\n%%   - FIDELITY_GREEN = 0.70 (no intervention)\n%%   - FIDELITY_YELLOW = 0.60 (minor drift)\n%%   - FIDELITY_ORANGE = 0.50 (drift detected)\n%%   - FIDELITY_RED < 0.50 (significant drift)\n%%\n%% Copy everything below this line into Mermaid.ai:\n\nflowchart TD\n    subgraph Input[\"Input Processing\"]\n        A[User Query] --> B[Embed Query]\n    end\n\n    subgraph Tier1[\"Tier 1: Mathematical Enforcement\"]\n        B --> C{Raw Similarity < 0.20?}\n        C -->|Yes| D[HARD BLOCK<br/>Extreme Off-Topic]\n        C -->|No| E[Calculate Fidelity]\n        E --> F{Fidelity >= 0.70?}\n    end\n\n    subgraph GREENZone[\"GREEN Zone\"]\n        F -->|Yes| P[Generate Native Response]\n    end\n\n    subgraph Tier2[\"Tier 2: RAG Policy Retrieval\"]\n        F -->|No| G{Fidelity >= 0.50?}\n        G -->|Yes| H[Retrieve Domain Policies]\n        H --> I[Steward Intervention]\n        I --> J{Policy Compliant?}\n        J -->|Yes| K[Generate Guided Response]\n        J -->|No| L[Block + Policy Citation]\n    end\n\n    subgraph Tier3[\"Tier 3: Human Escalation\"]\n        G -->|No| M{Secondary Risk Flags?}\n        M -->|Yes| N[Flag for Human Review]\n        M -->|No| O[Auto-Block]\n    end\n\n    subgraph Output[\"Output\"]\n        P --> Q[Record Governance Trace]\n        K --> Q\n        L --> Q\n        N --> Q\n        O --> Q\n        D --> Q\n        Q --> R[Return Response]\n    end\n",
  "content_size": 1526,
  "collected_at": "2026-02-06T01:46:59.589352",
  "license": "apache-2.0",
  "license_name": "Apache License 2.0",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "https://api.github.com/licenses/apache-2.0",
  "repo_stars": 0,
  "repo_forks": 0
}