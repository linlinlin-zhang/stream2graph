{
  "id": "gh_class_01096",
  "source": "github",
  "source_url": "https://github.com/r0mbaa/OnlineMovies/blob/c4929a2510157d1ad160d1bf1a5b6cb570eb7cb3/Paperworks/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2.mmd",
  "github_repo": "r0mbaa/OnlineMovies",
  "github_file_path": "Paperworks/Диаграмма_классов.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    class Guest {\n        +login(username, password) User\n        +register(username, email, password) User\n        +viewCatalog()\n        +searchMovies(query) Movie[]\n        +getMovieById(id) Movie\n        +getRandomMovie() Movie\n        +getUserProfile(username) UserProfile\n        +getUserMovies(username) UserMovie[]\n    }\n\n    class User {\n        +int userId\n        +string username\n        +string email\n        -string hashedPassword\n        +string role\n        +string? avatarUrl\n        +string? profileDescription\n        +viewCatalog()\n        +searchMovies(query) Movie[]\n        +addMovieToList(movieId, statusId, comment?) UserMovie\n        +updateMovieStatus(userMovieId, statusId) UserMovie\n        +rateMovie(movieId, score, comment?) UserMovie\n        +removeMovieFromList(movieId) void\n        +getMyMovies() UserMovie[]\n        +updateGenreInterests(interests) void\n        +getGenreInterests() UserGenreInterest[]\n        +getRecommendations() MovieRecommendation[]\n        +updateProfile(description?) User\n        +uploadAvatar(file) User\n        +changePassword(oldPassword, newPassword) void\n        +logout() void\n    }\n\n    class Administrator {\n        +addMovie(movieData) Movie\n        +editMovie(movieId, movieData) Movie\n        +deleteMovie(movieId) void\n        +getAllUsers() User[]\n        +getUserById(userId) User\n        +updateUser(userId, userData) User\n        +deleteUser(userId) void\n        +addGenre(name) Genre\n        +editGenre(genreId, name) Genre\n        +deleteGenre(genreId) void\n        +addTag(name) Tag\n        +editTag(tagId, name) Tag\n        +deleteTag(tagId) void\n        +addCountry(name) Country\n        +editCountry(countryId, name) Country\n        +deleteCountry(countryId) void\n    }\n\n    class Movie {\n        +int movieId\n        +string title\n        +string? description\n        +int? releaseYear\n        +string? director\n        +string? posterUrl\n        +int? durationMinutes\n        +getAverageRating() float?\n    }\n\n    class UserMovie {\n        +int userMovieId\n        +int userId\n        +int movieId\n        +int? statusId\n        +int? score\n        +string? comment\n        +DateTime addedAt\n    }\n\n    class Status {\n        +int statusId\n        +string name\n    }\n\n    class Genre {\n        +int genreId\n        +string name\n    }\n\n    class Tag {\n        +int tagId\n        +string name\n    }\n\n    class Country {\n        +int countryId\n        +string name\n    }\n\n    class Trailer {\n        +int trailerId\n        +int movieId\n        +string trailerUrl\n    }\n\n    class MovieGenre {\n        +int movieId\n        +int genreId\n    }\n\n    class MovieTag {\n        +int movieId\n        +int tagId\n    }\n\n    class MovieCountry {\n        +int movieId\n        +int countryId\n    }\n\n    class UserGenreInterest {\n        +int userId\n        +int genreId\n        +float weight\n    }\n\n    %% Наследование\n    Administrator --|> User\n\n    %% Создание\n    Guest ..> User : creates\n\n    %% Композиция\n    User \"1\" *-- \"*\" UserMovie : has\n    User \"1\" *-- \"*\" UserGenreInterest : has\n    Movie \"1\" *-- \"*\" Trailer : has\n    Movie \"1\" *-- \"*\" MovieGenre : has\n    Movie \"1\" *-- \"*\" MovieTag : has\n    Movie \"1\" *-- \"*\" MovieCountry : has\n    Movie \"1\" *-- \"*\" UserMovie : in lists\n    Genre \"1\" *-- \"*\" MovieGenre : used in\n    Genre \"1\" *-- \"*\" UserGenreInterest : used in\n    Tag \"1\" *-- \"*\" MovieTag : used in\n    Country \"1\" *-- \"*\" MovieCountry : used in\n    Status \"1\" *-- \"*\" UserMovie : used in\n\n    %% Ассоциации\n    UserMovie \"*\" --> \"1\" User : belongs to\n    UserMovie \"*\" --> \"1\" Movie : references\n    UserMovie \"*\" --> \"1\" Status : has\n    MovieGenre \"*\" --> \"1\" Movie\n    MovieGenre \"*\" --> \"1\" Genre\n    MovieTag \"*\" --> \"1\" Movie\n    MovieTag \"*\" --> \"1\" Tag\n    MovieCountry \"*\" --> \"1\" Movie\n    MovieCountry \"*\" --> \"1\" Country\n    UserGenreInterest \"*\" --> \"1\" User : belongs to\n    UserGenreInterest \"*\" --> \"1\" Genre : references\n    Trailer \"*\" --> \"1\" Movie : belongs to\n\n    %% Использование\n    Guest ..> Movie : views\n    User ..> Movie : views\n\n",
  "content_size": 4066,
  "collected_at": "2026-02-06T01:52:52.408675",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}