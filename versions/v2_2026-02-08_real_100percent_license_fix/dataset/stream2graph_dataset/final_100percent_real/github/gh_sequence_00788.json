{
  "id": "gh_sequence_00788",
  "source": "github",
  "source_url": "https://github.com/coherosphere/architecture/blob/598bb65467787da38ac4029e35bdead27e7799ee/assets/.mermaid_clean/C4_sequences/C4-23_Knowledge_Capture_Graph_Integration_Collective_Learning.mmd",
  "github_repo": "coherosphere/architecture",
  "github_file_path": "assets/.mermaid_clean/C4_sequences/C4-23_Knowledge_Capture_Graph_Integration_Collective_Learning.mmd",
  "diagram_type": "sequence",
  "code": "%%{init: {'theme':'base','themeVariables':{ 'sequenceNumberColor':'#334155'}}}%%\n\nsequenceDiagram\nautonumber\n\nactor K as C1-02 Curator or Project Steward\n\nbox #8b5cf6 UI\n  participant UI as C2-12 Resonance Board UI\nend\n\nbox #fde68a Control or API\n  participant API as C2-11 Public API Gateway\nend\n\nbox #ff8b00 Core Services\n  participant KG as C2-09 Knowledge Graph & Collective Intelligence\n  participant MET as C2-07 Metrics & Analytics\n  participant ETH as C2-08 Manifesto & Ethics Guard\nend\n\nbox #e5e7eb External\n  participant SRC as External Sources (repo/web/IPFS)\n  participant AI as C1-03 AI Systems & Agents\nend\n\nbox #e5e7eb Security\n  participant SEC as C2-10 Security & Audit\nend\n\n%% -------- Capture kickoff --------\nK ->> UI: open knowledge capture\nUI ->> API: startCapture(project, hub, tags)\nAPI ->> KG: initCapture(sessionMeta)\nKG -->> MET: event SourceDiscovered (DDD EVT 53)\nMET -->> MET: event KPIUpdated (DDD EVT 26)\n\n%% -------- Source discovery and fetch --------\nUI ->> API: addSource(urls, refs, blobs)\nAPI ->> SRC: fetch content by refs\nSRC -->> API: content payload\nAPI ->> KG: ingestRawContent(payload, provenance)\nKG ->> SEC: record provenance and hashes\n\n%% -------- Extraction chunking and embedding --------\nKG ->> KG: extract text, detect language, split chunks\nloop for each chunk\n  KG ->> AI: embedChunk(textChunk)\n  AI -->> KG: vector, features\n  KG -->> MET: event EmbeddingGenerated (DDD EVT 24)\nend\n\n%% -------- Entity linking and graph upsert --------\nKG ->> KG: detect entities, link projects/hubs/people\nKG ->> KG: upsert nodes, edges, properties\nKG -->> MET: event KnowledgeUpdated (DDD EVT 50)\nMET -->> MET: event KPIUpdated (DDD EVT 26)\n\n%% -------- Ethics alignment on new knowledge --------\nKG ->> ETH: evaluate alignment(newNodes)\nETH -->> KG: annotations, guidance\nopt Policy requires guard\n  KG ->> KG: mark guarded nodes\nend\n\n%% -------- Insight synthesis for collective learning --------\nKG ->> AI: synthesize narrative & questions\nAI -->> KG: summary, highlights, citations\nKG -->> MET: event InsightGenerated (DDD EVT 49)\n\n%% -------- Publish to UI and workspaces --------\nKG ->> API: deliver interpretation pack & citations\nAPI -->> UI: show knowledge cards & graph links\n\n%% -------- Feedback and correction loop --------\nK ->> UI: submit correction & evidence\nUI ->> API: recordFeedback(note, refs)\nAPI ->> KG: applyFeedback()\nKG -->> MET: event KnowledgeUpdated (DDD EVT 50)\nSEC ->> SEC: persist feedback audit trail\n\n%% -------- Export and sharing --------\nK ->> UI: export knowledge bundle\nUI ->> API: buildExport(window)\nAPI ->> KG: assembleExport()\nKG -->> API: export link\nAPI -->> UI: deliver export link\n\n%% -------- Completion --------\nUI -->> K: capture complete, searchable in Knowledge Graph\n\n%% Notes\nNote over KG: SourceDiscovered (DDD EVT 53) starts capture  \nNote over KG: EmbeddingGenerated (DDD EVT 24) for each chunk  \nNote over KG: KnowledgeUpdated (DDD EVT 50) after graph upsert/feedback  \nNote over KG: InsightGenerated (DDD EVT 49) marks synthesis output",
  "content_size": 3034,
  "collected_at": "2026-02-06T01:37:04.812663",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License (Assumed)",
  "license_url": null,
  "repo_stars": 1,
  "repo_forks": 0,
  "repo_owner": "coherosphere",
  "repo_name": "architecture",
  "repo_description": "The cohersphere architecture — structural blueprint of the resonance network. Defines the modular layers connecting app, API, and governance protocols. Outlines data flows for Proof-of-Contribution, c",
  "repo_language": "Mermaid",
  "repo_topics": [
    "architecture",
    "c4",
    "distributed-systems",
    "modular-architecture",
    "system-design"
  ],
  "repo_created_at": "2025-10-29T09:30:02Z",
  "repo_updated_at": "2026-02-06T04:58:50Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}