{
  "id": "gh_architecture_01731",
  "source": "github",
  "source_url": "https://github.com/noakup/AzMonLogsAgent/blob/4ffee16f14276a9b0526d468ad3b38b0345ea759/project_summary/01_high_level_architecture.mmd",
  "github_repo": "noakup/AzMonLogsAgent",
  "github_file_path": "project_summary/01_high_level_architecture.mmd",
  "diagram_type": "architecture",
  "code": "%% High-Level Architecture Diagram (Mermaid)\nflowchart LR\n    subgraph Interfaces\n        UI[Flask Web UI (web_app.py)]\n        REST[REST API (rest_api.py)]\n        CLI[CLI / Legacy CLI (main.py, server_manager.py)]\n        MCP[MCP Server (my-first-mcp-server/mcp_server.py)]\n    end\n\n    subgraph Core_Agent[Core Agent Layer]\n        AGENT[KQLAgent (logs_agent.py)]\n        TRANSLATE[NL→KQL Engine (nl_to_kql.py)]\n        KQLCLIENT[Kusto Query Orchestrator (kql_client.py)]\n        MONCLIENT[Azure Monitor Client (azure_agent/monitor_client.py)]\n    end\n\n    subgraph Azure[Azure Services]\n        AOAI[Azure OpenAI\\n(model inference)]\n        AMON[Azure Monitor Logs API]\n    end\n\n    subgraph Knowledge_Assets[Knowledge & Domain Assets]\n        EXAMPLES[Examples & Capsules\\n(app_insights_* , kql_examples/)]\n        METADATA[Workspace / Schema Metadata\\n(app_insights_metadata/ , NGSchema/)]\n        CONFIG[Configuration (setup_azure_openai.py, .env)]\n    end\n\n    Interfaces --> AGENT\n    AGENT --> TRANSLATE\n    TRANSLATE --> AOAI\n    AGENT --> KQLCLIENT\n    KQLCLIENT --> MONCLIENT\n    MONCLIENT --> AMON\n    AGENT --> EXAMPLES\n    AGENT --> METADATA\n    CONFIG --> TRANSLATE\n    CONFIG --> AGENT\n\n    AMON --> MONCLIENT --> KQLCLIENT --> AGENT --> Interfaces\n",
  "content_size": 1267,
  "collected_at": "2026-02-06T02:02:38.751501",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 2
}