{
  "id": "gh_class_01245",
  "source": "github",
  "source_url": "https://github.com/filotransformer/sbseg/blob/0cc0df2a54a7df08ae7d9fc6079699fe9a5aa78e/.context/class-diagram.mmd",
  "github_repo": "filotransformer/sbseg",
  "github_file_path": ".context/class-diagram.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    %% Core Neural Network Models\n    class FTTransformer {\n        +int n_semantic_features\n        +int n_phylogenetic_features  \n        +int d_model\n        +int n_heads\n        +int n_layers\n        +float dropout\n        +nn.Linear semantic_tokenizer\n        +nn.ModuleList phylogenetic_tokenizers\n        +nn.Parameter cls_token\n        +nn.Parameter positional_encoding\n        +nn.TransformerEncoder transformer_encoder\n        +nn.Sequential classifier\n        +forward(semantic_features, phylogenetic_features) Tensor\n        +_init_weights() void\n        +get_attention_weights() Tensor\n    }\n\n    class FTTransformerClassifier {\n        +float learning_rate\n        +int batch_size\n        +int n_epochs\n        +int early_stopping_patience\n        +FTTransformer model\n        +torch.optim.Adam optimizer\n        +fit(X_semantic, X_phylogenetic, y) self\n        +predict(X_semantic, X_phylogenetic) ndarray\n        +predict_proba(X_semantic, X_phylogenetic) ndarray\n        -_train_epoch(train_loader) float\n        -_validate(val_loader) tuple\n    }\n\n    class BaselineTransformer {\n        +int num_features\n        +int d_model\n        +int n_heads\n        +int n_layers\n        +float dropout\n        +nn.Linear feature_tokenizer\n        +nn.Parameter cls_token\n        +nn.TransformerEncoder transformer\n        +nn.Sequential classifier\n        +forward(features) Tensor\n    }\n\n    class FiloTransformerTAGs {\n        +int n_semantic_features\n        +int n_tags_features\n        +nn.MultiheadAttention fusion_attention\n        +nn.Linear fusion_gate\n        +nn.ModuleList grouped_phylogenetic_tokenizers\n        +dict fusion_weights_history\n        +forward(semantic_features, tags_features) Tensor\n        +get_fusion_weights() dict\n        +analyze_attention_patterns() dict\n    }\n\n    %% Data Processing Classes\n    class PHEMEProcessor {\n        +str base_path\n        +list events\n        +dict event_labels\n        +extract_tweet_data(tweet_path) dict\n        +build_cascade_tree(tweets) nx.DiGraph\n        +extract_cascade_features(tree, tweets) dict\n        +process_event(event_name) DataFrame\n        +process_all_events() DataFrame\n        +save_processed_data(df, output_path) void\n    }\n\n    class PHEMEAdvancedProcessor {\n        +TAGConstructor tag_constructor\n        +SentenceTransformer sentence_model\n        +extract_advanced_features(cascade) dict\n        +generate_semantic_embeddings(texts) ndarray\n        +process_with_tags() DataFrame\n        +save_embeddings(embeddings, path) void\n    }\n\n    class TAGConstructor {\n        +float similarity_threshold\n        +build_tag(tree, embeddings) nx.Graph\n        +extract_phylogenetic_features(tag) dict\n        +calculate_centrality_metrics(graph) dict\n        +detect_communities(graph) dict\n        +analyze_evolutionary_patterns(graph) dict\n        -_calculate_depth(tree, node) int\n        -_calculate_recombination_degree(tag, node) float\n        -_add_recombinations(tag, tree, embeddings) void\n    }\n\n    %% Data Entities\n    class Cascade {\n        +str source_tweet_id\n        +str source_text\n        +int label\n        +str event\n        +dict tree_structure\n        +list reactions\n        +float cascade_lifetime\n        +int cascade_size\n        +int cascade_depth\n        +int unique_users\n        +to_features() dict\n        +to_semantic_input() str\n    }\n\n    class SemanticFeatures {\n        +int dimensions\n        +str model_name\n        +ndarray embeddings\n        +normalize() ndarray\n        +reduce_dimensions(n_components) ndarray\n    }\n\n    class PhylogeneticFeatures {\n        +dict basic_features\n        +dict advanced_features\n        +get_basic_vector() ndarray\n        +get_advanced_vector() ndarray\n        +aggregate_stats() dict\n    }\n\n    %% Experiment Management\n    class ExperimentRunner {\n        +dict optimal_config\n        +int n_folds\n        +StratifiedKFold kfold\n        +StandardScaler semantic_scaler\n        +RobustScaler phylogenetic_scaler\n        +run_baseline_experiment() dict\n        +run_filo_experiment() dict\n        +compare_models(baseline_results, filo_results) dict\n        +save_results(results, path) void\n        +plot_performance_comparison() void\n    }\n\n    class HypothesisValidator {\n        +DataFrame data\n        +dict experiment_results\n        +validate_hypothesis_2_1() dict\n        +validate_hypothesis_3_2() dict\n        +validate_hypothesis_4_2() dict\n        +validate_hypothesis_5_2() dict\n        +generate_validation_report() str\n        +create_interactive_visualizations() void\n    }\n\n    class OptimalConfig {\n        +int SEED\n        +int BATCH_SIZE\n        +float LEARNING_RATE\n        +int D_MODEL\n        +int N_HEADS\n        +int N_LAYERS\n        +float DROPOUT\n        +float WEIGHT_DECAY\n        +int NUM_EPOCHS\n        +int PATIENCE\n        +int N_FOLDS\n        +to_dict() dict\n        +from_json(path) OptimalConfig\n    }\n\n    %% External Dependencies\n    class SentenceTransformer {\n        <<external>>\n        +str model_name\n        +encode(texts) ndarray\n    }\n\n    class StratifiedKFold {\n        <<external>>\n        +int n_splits\n        +split(X, y) iterator\n    }\n\n    %% Relationships\n    FTTransformer <|-- FiloTransformerTAGs : extends\n    FTTransformer --* FTTransformerClassifier : contains\n    \n    PHEMEProcessor <|-- PHEMEAdvancedProcessor : extends\n    PHEMEAdvancedProcessor --> TAGConstructor : uses\n    PHEMEAdvancedProcessor --> SentenceTransformer : uses\n    \n    PHEMEProcessor ..> Cascade : creates\n    Cascade ..> SemanticFeatures : generates\n    Cascade ..> PhylogeneticFeatures : generates\n    \n    TAGConstructor ..> PhylogeneticFeatures : produces\n    \n    ExperimentRunner --> BaselineTransformer : evaluates\n    ExperimentRunner --> FiloTransformerTAGs : evaluates\n    ExperimentRunner --> OptimalConfig : uses\n    ExperimentRunner --> StratifiedKFold : uses\n    \n    HypothesisValidator --> ExperimentRunner : validates\n    \n    FTTransformer ..> SemanticFeatures : processes\n    FTTransformer ..> PhylogeneticFeatures : processes\n    BaselineTransformer ..> SemanticFeatures : processes",
  "content_size": 6123,
  "collected_at": "2026-02-06T01:55:02.701195",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License (Assumed)",
  "license_url": null,
  "repo_stars": 0,
  "repo_forks": 0
}