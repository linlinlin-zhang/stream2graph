{
  "id": "gh_class_01279",
  "source": "github",
  "source_url": "https://github.com/allissonnunes/ems-algashop-docs/blob/c21852fbb0ba0dd65a8185e68768c5e7e66a78f1/domainmodel/ordering-domain-model.mmd",
  "github_repo": "allissonnunes/ems-algashop-docs",
  "github_file_path": "domainmodel/ordering-domain-model.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: Ordering Context\n---\n\nclassDiagram\n    class Address {\n        <<ValueObject>>\n        -String street\n        -String number\n        -String complement\n        -String neighborhood\n        -String city\n        -String state\n        -ZipCode zipCode\n    }\n\n    class Product {\n        <<ValueObject>>\n        -ProductId id\n        -ProductName name\n        -Money price\n        -Boolean inStock\n        +checkOutOfStock() void\n    }\n\n    namespace CustomerAggregate {\n        class Customer {\n            <<AggregateRoot>>\n            -CustomerId id\n            -FullName fullName\n            -BirthDate birthDate\n            -Email email\n            -Phone phone\n            -Document document\n            -Boolean promotionNotificationsAllowed\n            -Boolean archived\n            -Instant registeredAt\n            -Instant archivedAt\n            -LoyaltyPoints loyaltyPoints\n            +addLoyaltyPoints(LoyaltyPoints) void\n            +archive() void\n            +enablePromotionNotifications() void\n            +disablePromotionNotifications() void\n            +changeName(FullName) void\n            +changeEmail(Email) void\n            +changePhone(Phone) void\n            +changeAddress(Address) void\n        }\n\n        class CustomerRegisteredEvent {\n            <<Event>>\n            -CustomerId customerId\n            -Instant registeredOn\n        }\n\n        class CustomerArchivedEvent {\n            <<Event>>\n            -CustomerId customerId\n            -Instant archivedOn\n        }\n    }\n    Customer *-- Address: -address\n    Customer ..> CustomerRegisteredEvent: emit\n    Customer ..> CustomerArchivedEvent: emit\n\n    namespace OrderAggregate {\n        class Recipient {\n            <<ValueObject>>\n            -FullName fullName\n            -Document document\n            -Phone phone\n        }\n\n        class Shipping {\n            <<ValueObject>>\n            -Money shippingCost\n            -LocalDate expectedDeliveryDate\n        }\n\n        class Billing {\n            <<ValueObject>>\n            -FullName fullName\n            -Document document\n            -Phone phone\n            -Email email\n        }\n\n        class OrderItem {\n            <<Entity>>\n            -OrderItemId id\n            -ProductId productId\n            -ProductName name\n            -Money price\n            -Quantity quantity\n            -Money totalAmount\n            ~ changeQuantity(Quantity) void\n        }\n\n        class OrderStatus {\n            <<enumeration>>\n            DRAFT\n            PLACED\n            PAID\n            READY\n            CANCELED\n        }\n\n        class PaymentMethod {\n            <<enumeration>>\n            CREDIT_CARD\n            GATEWAY_BALANCE\n        }\n\n        class Order {\n            <<AggregateRoot>>\n            -OrderId id\n            -CustomerId id\n            -Money totalAmount\n            -Quantity totalItems\n            -Instant placedAt\n            -Instant paidAt\n            -Instant canceledAt\n            -Instant readyAt\n            +markAsPaid() void\n            +markAsReady() void\n            +cancel() void\n            +place() void\n            +isPaid() boolean\n            +isCanceled() boolean\n            +isReady() boolean\n            +isDraft() boolean\n            +isPlaced() boolean\n            +addItem(Product, Quantity) void\n            +changePaymentMethod(PaymentMethod) void\n            +changeBilling(Billing) void\n            +changeShipping(Shipping) void\n            +changeItemQuantity(OrderItemId, Quantity) void\n            +removeItem(OrderItemId) void\n        }\n\n        class OrderPlacedEvent {\n            <<Event>>\n            -OrderId orderId\n            -CustomerId customerId\n            -Instant placedOn\n        }\n\n        class OrderPaidEvent {\n            <<Event>>\n            -OrderId orderId\n            -CustomerId customerId\n            -Instant paidOn\n        }\n\n        class OrderReadyEvent {\n            <<Event>>\n            -OrderId orderId\n            -CustomerId customerId\n            -Instant readyOn\n        }\n\n        class OrderCanceledEvent {\n            <<Event>>\n            -OrderId orderId\n            -CustomerId customerId\n            -Instant canceledOn\n        }\n    }\n    Order --> Customer\n    Order *-- OrderStatus: -status\n    Order *-- PaymentMethod: -paymentMethod\n    Order *-- Shipping: -shipping\n    Order *-- Billing: -billing\n    Order *-- \"0..n\" OrderItem: -items\n    Order ..> OrderPlacedEvent: emit\n    Order ..> OrderPaidEvent: emit\n    Order ..> OrderReadyEvent: emit\n    Order ..> OrderCanceledEvent: emit\n    Shipping *-- Address: -address\n    Shipping *-- Recipient: -recipient\n    Billing *-- Address: -address\n    OrderItem --> Product\n\n    namespace ShoppingCartAggregate {\n        class ShoppingCart {\n            <<AggregateRoot>>\n            -ShoppingCartId id\n            -CustomerId customerId\n            -Money totalAmount\n            -Quantity totalItems\n            -Instant createdAt\n            +startShopping(CustomerId)$ ShoppingCart\n            +empty() void\n            +addItem(Product, Quantity) void\n            +removeItem(ShoppingCartItemId) void\n            +refreshItem(Product) void\n            +findItem(ShoppingCartItemId) ShoppingCartItem\n            +findItem(ProductId) ShoppingCartItem\n            +changeItemQuantity(ShoppingCartItemId, Quantity) void\n            +containsUnavailableItems() boolean\n            +isEmpty() boolean\n        }\n\n        class ShoppingCartItem {\n            <<Entity>>\n            -ShoppingCartItemId id\n            -ShoppingCartId shoppingCartId\n            -ProductId productId\n            -ProductName productName\n            -Money price\n            -Quantity quantity\n            -Money totalAmount\n            -Boolean available\n            ~ refresh(Product) void\n            ~ changeQuantity(Quantity) void\n        }\n\n        class ShoppingCartCreatedEvent {\n            <<Event>>\n            -ShoppingCartId shoppingCartId\n            -CustomerId customerId\n            -Instant createdOn\n        }\n\n        class ShoppingCartItemAddedEvent {\n            <<Event>>\n            -ShoppingCartId shoppingCartId\n            -CustomerId customerId\n            -ProductId productId\n            -Instant addedOn\n        }\n\n        class ShoppingCartItemRemovedEvent {\n            <<Event>>\n            -ShoppingCartId shoppingCartId\n            -CustomerId customerId\n            -ProductId productId\n            -Instant removedOn\n        }\n\n        class ShoppingCartEmptiedEvent {\n            <<Event>>\n            -ShoppingCartId shoppingCartId\n            -CustomerId customerId\n            -Instant emptiedOn\n        }\n    }\n    ShoppingCart *-- \"0..n\" ShoppingCartItem: items\n    ShoppingCart --> Customer\n    ShoppingCartItem --> Product\n    ShoppingCart ..> ShoppingCartCreatedEvent: emit\n    ShoppingCart ..> ShoppingCartItemAddedEvent: emit\n    ShoppingCart ..> ShoppingCartItemRemovedEvent: emit\n    ShoppingCart ..> ShoppingCartEmptiedEvent: emit",
  "content_size": 6980,
  "collected_at": "2026-02-06T01:55:34.628101",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}