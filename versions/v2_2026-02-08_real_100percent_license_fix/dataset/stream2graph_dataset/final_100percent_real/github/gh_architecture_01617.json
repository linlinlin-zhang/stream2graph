{
  "id": "gh_architecture_01617",
  "source": "github",
  "source_url": "https://github.com/elementary-particles-Man/Obsidian_Public/blob/01e5dd6bc5208ef029918fb10ef563b6a81a79cc/%E3%80%8A%E5%AF%BE%E5%A4%96%E3%80%8BExternal%20References/THP-CLEAR/old/assets/diagrams/thp_clear_integrated_policy.mmd",
  "github_repo": "elementary-particles-Man/Obsidian_Public",
  "github_file_path": "《対外》External References/THP-CLEAR/old/assets/diagrams/thp_clear_integrated_policy.mmd",
  "diagram_type": "architecture",
  "code": "%% Integrated Proposal - Policy View\ngraph TD\n  %% Governance / Policy\n  G0[\"政府・関係省庁（内閣官房/総務/経産/財務）\"]\n  G1[\"決済事業者（SMBC / Google Pay / Apple Pay / 他）\"]\n  G2[\"既存通貨に基づくステーブルコイン（例：JPYC）<br/>※フィアット完全準拠\"]\n\n  %% CLEAR Core\n  subgraph CORE[\"THP-CLEAR Core（東西DC：Active-Active）\"]\n    direction LR\n    KMS[\"KMS Ring（3+ / quorum=2）<br/>Challenge→Submit セッション固定\"]\n    MQ[\"MQ Cluster（Raft / Ordering）\"]\n    WN[\"Witness Nodes（非同期 append / ローテ）\"]\n    DB[\"DB Nodes（Materialized / SQLite / RAID1 4TB×2）\"]\n    MET[\"Prometheus / Grafana（Ops-KPI / E-MAD連携）\"]\n    KMS-->MQ-->WN-->DB-->MET\n  end\n\n  %% Edge / Municipal\n  subgraph EDGE[\"自治体ネット（市役所等：分散配置）\"]\n    direction TB\n    W1[\"Regional Witness（AES-NI / NVMe / RAM 4GB）\"]\n    W2[\"Fallback（学校/消防/病院）\"]\n  end\n\n  %% AI / Audit\n  subgraph AI[\"AI連携（オンプレ可：Ricoh-AI 等）\"]\n    A1[\"AI Decision Engine（審査/検品/不正検知）\"]\n    A2[\"AI監査インターフェース（mTLS）\"]\n  end\n\n  %% Flows\n  G1-- \"決済依頼（バーチャルデビット/トークン認証）\" -->G2\n  G2-- \"Txイベント（When/Who/Whom/Coin/Value）\" -->EDGE\n  EDGE-- \"Witnessログ送信（非同期）\" -->CORE\n  CORE-- \"整合証跡（Merkle Root / 署名）\" -->G0\n  AI-- \"AI結果の監査証跡付与\" -->CORE\n  G0-- \"方針・KPI（E-MAD）\" -->MET\n",
  "content_size": 1105,
  "collected_at": "2026-02-06T01:48:37.805700",
  "license": "cc0-1.0",
  "license_name": "Creative Commons Zero v1.0 Universal",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "https://api.github.com/licenses/cc0-1.0",
  "repo_stars": 2,
  "repo_forks": 0
}