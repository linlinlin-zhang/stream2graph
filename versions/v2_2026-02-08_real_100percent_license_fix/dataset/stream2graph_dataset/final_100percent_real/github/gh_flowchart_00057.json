{
  "id": "gh_flowchart_00057",
  "source": "github",
  "source_url": "https://github.com/SJ-31/Sporothrix-annotation/blob/abc01463e3b0f3f2ecdd88e60267a06065659b5c/info/workflow.mmd",
  "github_repo": "SJ-31/Sporothrix-annotation",
  "github_file_path": "info/workflow.mmd",
  "diagram_type": "flowchart",
  "code": "---\ntitle: Sporothrix Annotation\n---\nflowchart LR\n  r1(\"Raw short reads (DNA)\")\n  ref(\"`*S. schenckii* reference genome`\")\n  refgff(\"`*S. shenckii* reference annotations`\")\n  B[\"`**FASTQC**\n  Quality assessment`\"]\n  C[\"`**FastP**\n  Quality control`\"]\n  G[\"`**BUSCO**\n  Assess assembly quality`\"]\n  subgraph Genome assembly\n  D[\"`**BBduK**\n  mtDNA filtering`\"]\n  E[\"`**Spades**\n  Assembly`\"]\n  F[\"`**Megahit**\n  Assembly`\"]\n  G[\"`**BUSCO**\n  Assess quality`\"]\n  H[\"`**Quast**\n  Assess quality`\"]\n  1(Combine samples)\n  contigs([Final contigs: Megahit])\n\n  r1 --> B --> C --> D --> E & F --> G\n  E & F --> 1 --> H\n  ref & refgff --> H\n  G & H --> contigs\n  end\n\n  subgraph Transcriptome assembly\n  r3(\"Raw short reads (RNA)\")\n  E1[\"`**RNASpades**\n  Assembly`\"]\n  G1[\"`**BUSCO**\n  Assess assembly quality`\"]\n  B1[\"`**FASTQC**\n  Quality assessment`\"]\n  C1[\"`**FastP**\n  Quality control`\"]\n  31([Transcriptome])\n  r3 --> B1 --> C1 --> E1 --> G1 --> 31\n  end\n\n  subgraph Finishing\n  ragout[\"`**Ragout**\n  Assemble scaffolds\n  `\"]\n  minimap[\"`**Minimap2**\n  Align scaffolds to reference`\"]\n  samtools[\"`**Samtools**\n  extract chromosomes by scaffold`\"]\n  busco[\"`**BUSCO**\n  Assess quality`\"]\n  busco_genes([BUSCO gene table])\n  full_scaffolds([Full scaffolds])\n  chr_scaffolds([Chromosome scaffolds])\n  contigs & ref --> ragout --> minimap\n  ragout --> busco --> busco_genes & full_scaffolds\n  ref --> minimap --> samtools --> chr_scaffolds\n  end\n\n  subgraph Genome annotation\n  aug[\"`**Augustus**\n  Train`\"]\n  augm([Augustus species model])\n  gm[\"`**Genemarks**\n  Train`\"]\n  gmhmm([Genemarks model])\n  otherref(\"`*Sporothrix sp.* reference genomes`\")\n  rep[\"`**Repeat modeler**\n  Repeat annotation\n  `\"]\n  replib([Repeat libraries])\n  prot(\"`*Sporothrix* protein`\")\n  maker{\"`**Maker**\n  Annotate genome`\"}\n  snap[\"`**SNAP**\n  Train`\"]\n  snapmodel([SNAP model])\n  round1([Round 1 annotations])\n  round2([Round 2 annotations])\n  round3([Final annotations])\n\n  ref --> aug --> augm\n  ref --> gm --> gmhmm\n  ref & otherref --> rep --> replib\n  refgff & chr_scaffolds --> maker\n  augm & gmhmm & replib & prot & 31 --> maker --> round1 --> snap --> snapmodel\n snapmodel --> maker --> round2 --> snap\n maker --> round3\n end\n\n  subgraph Variant calling\n  bwamem[\"`**BWA-MEM**\n  Align to reference`\"]\n  picard[\"`**Picard**\n  Mark duplicates & sort`\"]\n  haplo{\"`**GATK HaplotypeCaller**\n  Call variants`\"}\n  select[\"`**GATK SelectVariants**\n  Filter SNPS & indels`\"]\n  bqsr[\"`**GATK BQSR**\n  Base Quality Score Recalibration`\"]\n  finalvcf([Final variants])\n  bcftools[\"`**bcftools**\n  Extract gene region`\"]\n  genevar([Gene variants])\n\n  ref --> bwamem --> picard --> haplo --First round--> select --> bqsr --> haplo\n  haplo --Final round --> finalvcf --> bcftools --> genevar\n  end\n\n  subgraph BUSCO gene extraction\n  kallisto[\"`**KALLISTO**\n  Quantify transcripts`\"]\n  mapping(\"BUSCO-to-gff mapping\")\n  liftoff[\"`**Liftoff**\n  Lift over reference annotations`\"]\n  liftover([Lifted annotations])\n  awk[\"`**awk**\n  Transfer annotations`\"]\n  gffread[\"`**gffread**\n  Extract BUSCO genes`\"]\n  concat[\"Concatenate genes across samples\"]\n  mafft[\"`**MAFFT**\n  Multiple sequence alignment`\"]\n  msa([Multiple sequence alignment])\n  quant([Transcripts quantified])\n\n  full_scaffolds & busco_genes --> mapping\n  full_scaffolds --> liftoff --> liftover\n  mapping & liftover --> awk --> gffread --> concat --> mafft --> msa\n  gffread --> kallisto --> quant\n  end\n",
  "content_size": 3438,
  "collected_at": "2026-02-06T01:41:37.957431",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}