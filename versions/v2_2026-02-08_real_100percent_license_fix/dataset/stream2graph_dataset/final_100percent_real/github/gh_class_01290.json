{
  "id": "gh_class_01290",
  "source": "github",
  "source_url": "https://github.com/helderaanunes/restaurante20252/blob/8f40f534c3f0ce8ba362f1d28591b2d934561837/Diagrama%20de%20classe.mmd",
  "github_repo": "helderaanunes/restaurante20252",
  "github_file_path": "Diagrama de classe.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n%% =========================\n%% Domínio Restaurante (25 classes)\n%% =========================\n\nclass Restaurante {\n  +Long id\n  +String nome\n  +String cnpj\n}\n\nclass Unidade {\n  +Long id\n  +String nome\n}\n\nclass Endereco {\n  +Long id\n  +String logradouro\n  +String numero\n  +String complemento\n  +String bairro\n  +String cidade\n  +String uf\n  +String cep\n}\n\nclass Usuario {\n  +Long id\n  +String nome\n  +String email\n  +String senhaHash\n  +boolean ativo\n}\n\nclass Perfil {\n  +Long id\n  +String nome\n}\n\nclass Permissao {\n  +Long id\n  +String codigo\n  +String descricao\n}\n\nclass Cliente {\n  +Long id\n  +String nome\n  +String email\n  +String telefone\n  +boolean isAnonimo\n}\n\nclass Mesa {\n  +Long id\n  +Integer numero\n  +Integer capacidade\n  +String qrFixo\n}\n\nclass Atendimento {\n  +Long id\n  +Instant inicio\n  +Instant fim\n}\n\nclass Reserva {\n  +Long id\n  +LocalDateTime dataHora\n  +Integer pessoas\n  +StatusReserva status\n}\n\nclass Cardapio {\n  +Long id\n  +String nome\n  +LocalDate inicioVigencia\n  +LocalDate fimVigencia\n  +boolean exibirNoAutoatendimento\n  +String visibilidade\n}\n\nclass CategoriaItem {\n  +Long id\n  +String nome\n  +Integer ordem\n}\n\nclass ItemCardapio {\n  +Long id\n  +String nome\n  +String descricao\n  +String descricaoCurta\n  +BigDecimal preco\n  +boolean disponivel\n  +boolean exibirNoAutoatendimento\n  +Integer tempoPreparoEstimado\n  +Integer limitePorPedido\n}\n\nclass Ingrediente {\n  +Long id\n  +String nome\n  +String unidadeMedida\n  +BigDecimal custoMedio\n}\n\nclass ReceitaItem {\n  +Long id\n  +BigDecimal quantidade\n}\n\nclass Pedido {\n  +Long id\n  +TipoAtendimento tipoAtendimento\n  +StatusPedido status\n  +String origem  %% MESA_QR/SALAO/ENTREGA/RETIRADA\n  +BigDecimal subtotal\n  +BigDecimal desconto\n  +BigDecimal total\n  +Instant criadoEm\n  +Instant atualizadoEm\n}\n\nclass ItemPedido {\n  +Long id\n  +Integer quantidade\n  +BigDecimal precoUnitario\n  +BigDecimal precoTotal\n  +String observacaoCliente\n}\n\nclass Pagamento {\n  +Long id\n  +FormaPagamento forma\n  +StatusPagamento status\n  +BigDecimal valor\n  +Instant dataHora\n}\n\nclass PedidoStatusHistorico {\n  +Long id\n  +StatusPedido status\n  +Instant registradoEm\n  +String observacao\n  +Long bySessaoClienteMesaId\n  +String origemAlteracao\n}\n\nclass Fornecedor {\n  +Long id\n  +String nome\n  +String cnpj\n  +String email\n  +String telefone\n}\n\nclass Compra {\n  +Long id\n  +Instant criadaEm\n  +Instant aprovadaEm\n  +BigDecimal total\n}\n\nclass ItemCompra {\n  +Long id\n  +BigDecimal quantidade\n  +BigDecimal precoUnitario\n  +BigDecimal subtotal\n}\n\n%% ==========================================\n%% Novas para QR/Login efêmero na mesa (3)\n%% ==========================================\nclass ChaveAcessoMesa {\n  +Long id\n  +String codigo\n  +Instant criadoEm\n  +Instant expiraEm\n  +boolean ativo\n  +String escopo\n  +String ipCriacao\n  +String userAgentCriacao\n}\n\nclass SessaoClienteMesa {\n  +Long id\n  +Instant inicio\n  +Instant ultimoAcesso\n  +Instant expiraEm\n  +StatusSessao status\n  +String deviceId\n  +String ip\n  +String userAgent\n  +BigDecimal limiteValor\n  +Integer limiteItens\n}\n\nclass TokenEfemero {\n  +Long id\n  +String token  %% armazene hash\n  +Instant emitidoEm\n  +Instant expiraEm\n  +boolean revogado\n  +String escopo\n}\n\n%% =========================\n%% Enums\n%% =========================\nclass TipoAtendimento {\n  <<enumeration>>\n  SALAO\n  ENTREGA\n  RETIRADA\n}\n\nclass StatusPedido {\n  <<enumeration>>\n  RASCUNHO\n  CRIADO\n  EM_PREPARO\n  PRONTO\n  ENTREGUE\n  CANCELADO\n}\n\nclass StatusPagamento {\n  <<enumeration>>\n  PENDENTE\n  APROVADO\n  NEGADO\n  ESTORNADO\n}\n\nclass FormaPagamento {\n  <<enumeration>>\n  DINHEIRO\n  CREDITO\n  DEBITO\n  PIX\n  VALE_REFEICAO\n}\n\nclass StatusReserva {\n  <<enumeration>>\n  PENDENTE\n  CONFIRMADA\n  CANCELADA\n  NO_SHOW\n}\n\nclass StatusSessao {\n  <<enumeration>>\n  ATIVA\n  EXPIRADA\n  REVOGADA\n}\n\n%% =========================\n%% Relacionamentos + Cardinalidades\n%% =========================\nRestaurante \"1\" -- \"0..*\" Unidade : possui >\nUnidade \"0..1\" -- \"0..1\" Endereco : possui >\nUnidade \"1\" -- \"0..*\" Mesa : tem >\nCliente \"0..1\" -- \"0..1\" Endereco : possui >\n\nUsuario \"0..*\" -- \"0..*\" Perfil : possui >\nPerfil \"0..*\" -- \"0..*\" Permissao : concede >\n\nUnidade \"1\" -- \"0..*\" Atendimento : abre >\nMesa \"1\" -- \"0..*\" Atendimento : recebe >\nUsuario \"1\" -- \"0..*\" Atendimento : garcom >\nCliente \"0..1\" -- \"0..*\" Atendimento : participa >\n\nCliente \"1\" -- \"0..*\" Reserva : faz >\nMesa \"1\" -- \"0..*\" Reserva : reserva >\nReserva \"0..1\" -- \"0..1\" Atendimento : gera-checkin >\n\nCardapio \"1\" -- \"0..*\" ItemCardapio : contem >\nCategoriaItem \"1\" -- \"0..*\" ItemCardapio : classifica >\n\nItemCardapio \"1\" -- \"0..*\" ReceitaItem : compoe >\nIngrediente \"1\" -- \"0..*\" ReceitaItem : insumo >\n\nAtendimento \"1\" -- \"0..*\" Pedido : origina >\nUnidade \"1\" -- \"0..*\" Pedido : processa >\nCliente \"0..1\" -- \"0..*\" Pedido : realiza >\nSessaoClienteMesa \"0..1\" -- \"0..*\" Pedido : cria >\n\nPedido \"1\" -- \"0..*\" ItemPedido : possui >\nItemCardapio \"1\" -- \"0..*\" ItemPedido : referencia >\n\nPedido \"1\" -- \"0..*\" Pagamento : liquida >\nPedido \"1\" -- \"0..*\" PedidoStatusHistorico : historiza >\n\nUnidade \"1\" -- \"0..*\" Compra : realiza >\nFornecedor \"1\" -- \"0..*\" Compra : fornece >\nCompra \"1\" -- \"0..*\" ItemCompra : contem >\nIngrediente \"1\" -- \"0..*\" ItemCompra : comprado >\n\n%% QR / Sessões / Tokens\nAtendimento \"1\" -- \"0..*\" ChaveAcessoMesa : emite >\nAtendimento \"1\" -- \"0..*\" SessaoClienteMesa : possui >\nCliente \"0..1\" -- \"0..*\" SessaoClienteMesa : vincula >\nSessaoClienteMesa \"1\" -- \"0..*\" TokenEfemero : tokens >\n",
  "content_size": 5470,
  "collected_at": "2026-02-06T01:55:43.062421",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}