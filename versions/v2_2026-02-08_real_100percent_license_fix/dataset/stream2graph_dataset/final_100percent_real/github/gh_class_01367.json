{
  "id": "gh_class_01367",
  "source": "github",
  "source_url": "https://github.com/CMPUT301F25rocket/rocket-radar/blob/65f6037820e80d56572facc2a17751b625e026be/doc/uml/admin.mmd",
  "github_repo": "CMPUT301F25rocket/rocket-radar",
  "github_file_path": "doc/uml/admin.mmd",
  "diagram_type": "class",
  "code": "---\ntitle: admin package\nconfig:\n  htmlLabels: false\numlink:\n  select:\n    - field: package\n      pattern: com.rocket.radar.admin\n---\n\nclassDiagram\ndirection LR\n\n%% =========================\n%% Core Admin Management\n%% =========================\n\nclass AdminModeManager {\n    - static AdminModeManager instance\n    - SharedPreferences prefs\n    - MutableLiveData~Boolean~ adminModeLiveData\n    - FirebaseFirestore db\n    - FirebaseAuth auth\n    - DocumentReference userDocListener\n    - NavController navController\n    - Context context\n\n    + static getInstance(Context)\n    + setNavController(NavController)\n    + startMonitoringAdminStatus()\n    + stopMonitoringAdminStatus()\n    + isAdminModeOn() Boolean\n    + setAdminModeOn(Boolean)\n    + getAdminModeLiveData() LiveData~Boolean~\n}\n%% citations\n%%  :contentReference[oaicite:0]{index=0}\n\n%% =========================\n%% Repository\n%% =========================\n\nclass AdminRepository {\n    - FirebaseFirestore db\n\n    + getAllUsers(OnCompleteListener)\n    + deleteUser(ProfileModel, DeleteUserCallback)\n    + updateUserRole(ProfileModel, UserRole, updateCallback)\n    + deleteEvent(String, DeleteEventCallback)\n    + cleanupNotifications()\n}\n\nclass OnCompleteListener~T~ {\n    <<interface>>\n    + onComplete(T)\n}\n\nclass DeleteUserCallback {\n    <<interface>>\n    + onSuccess()\n    + onError(Exception)\n}\n\nclass updateCallback {\n    <<interface>>\n    + onSuccess()\n    + onError(Exception)\n}\n\nclass DeleteEventCallback {\n    <<interface>>\n    + onSuccess()\n    + onError(Exception)\n}\n\nclass OnErrorCallback {\n    <<interface>>\n    + onError(Exception)\n}\n\n%% citations\n%%  :contentReference[oaicite:1]{index=1}\n\n%% =========================\n%% UI Fragments\n%% =========================\n\nclass AllNotificationsFragment {\n    - RecyclerView notificationRecyclerView\n    - TextView emptyNotificationsTextView\n    - Button backButton\n    - NotificationAdapter adapter\n    - NotificationRepository notificationRepository\n    - AdapterDataObserver adapterObserver\n\n    + onCreateView()\n    + onViewCreated()\n    - setupRecyclerView()\n    - observeNotifications()\n    - updateEmptyState()\n    - updateHeaderCount(int)\n}\n%% citation: :contentReference[oaicite:2]{index=2}\n\nclass BrowseImageFragment {\n    - FragmentBrowseImagesBinding binding\n    - List~Event~ events\n    - Event dialogContextEvent\n\n    + onCreateView()\n    + onViewCreated()\n    + startDeleteDialog(int)\n    + onClick(DialogInterface,int)\n}\n%% citation: :contentReference[oaicite:3]{index=3}\n\nclass BrowseUsersFragment {\n    - ListView usersListView\n    - UsersListAdapter adapter\n    - List~ProfileModel~ users\n    - AdminRepository adminRepository\n\n    + onCreateView()\n}\n%% citation: :contentReference[oaicite:4]{index=4}\n\nclass UserFragment {\n    - ProfileModel userProfile\n    - AdminRepository adminRepository\n    - ImageButton deleteButton\n    - MaterialButton backButton\n    - TextView profileName\n    - TextView profilePhone\n    - TextView profileEmail\n    - RecyclerView myEventRecyclerView\n    - EventAdapter adapter\n    - List~Event~ allEvents\n    - List~Event~ displayedEvents\n    - EventRepository eventRepository\n    - AutoCompleteTextView roleDropdown\n\n    + newInstance(ProfileModel)\n    + onCreate()\n    + onCreateView()\n    + onViewCreated()\n    + onEventClick(int, View)\n    + confirmAccountDelete()\n}\n%% citation: :contentReference[oaicite:5]{index=5}\n\n%% =========================\n%% Adapters\n%% =========================\n\nclass ImageAdapter {\n    - List~Bitmap~ images\n    + onCreateViewHolder()\n    + onBindViewHolder()\n    + addOnItemClickListener()\n    + addOnItemLongClickListener()\n}\n\nclass UsersListAdapter {\n    - Context context\n    - List~ProfileModel~ users\n\n    + getView(int,View,ViewGroup)\n}\n%% citations: :contentReference[oaicite:6]{index=6}  and  :contentReference[oaicite:7]{index=7}\n\n%% =========================\n%% Relationships\n%% =========================\n\nAdminRepository --> ProfileModel : uses\nAdminRepository --> Event : mutates\nAdminRepository --> Notification : mutates\nAdminRepository --> OnCompleteListener : callback\nAdminRepository --> DeleteUserCallback : callback\nAdminRepository --> DeleteEventCallback : callback\n\nBrowseUsersFragment --> AdminRepository : 1..1\nBrowseUsersFragment --> UsersListAdapter : 1..1\n\nUserFragment --> AdminRepository : 1..1\nUserFragment --> EventRepository : 1..1\nUserFragment --> EventAdapter : 1..1\n\nBrowseImageFragment --> ImageAdapter : 1..1\nBrowseImageFragment --> EventRepository : uses\n\nAllNotificationsFragment --> NotificationAdapter : 1..1\nAllNotificationsFragment --> NotificationRepository : 1..1\n\nAdminModeManager --> FirebaseFirestore : uses\nAdminModeManager --> FirebaseAuth : uses\nAdminModeManager --> NavController : optional 0..1 navigation\n\n",
  "content_size": 4756,
  "collected_at": "2026-02-06T01:56:49.975681",
  "compilation_status": "failed",
  "license": "gpl-3.0",
  "license_name": "GNU General Public License v3.0",
  "license_url": "https://api.github.com/licenses/gpl-3.0",
  "repo_stars": 2,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}