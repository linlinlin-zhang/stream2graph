{
  "id": "gh_flowchart_00726",
  "source": "github",
  "source_url": "https://github.com/trutkowski22/claude-task-master/blob/80b6b87d8682d53235785872ed02e4e8c2106272/project-overlord-context/Pre-CLI-Removal-MMDs/Shared-Infrastructure-Layer/profiles_claude.mmd",
  "github_repo": "trutkowski22/claude-task-master",
  "github_file_path": "project-overlord-context/Pre-CLI-Removal-MMDs/Shared-Infrastructure-Layer/profiles_claude.mmd",
  "diagram_type": "flowchart",
  "code": "flowchart TB\n    subgraph claude-Imports[\"claude-Imports\"]\n        I1[\"IMPORT: path, FROM: path\"]\n        I2[\"IMPORT: fs, FROM: fs\"]\n        I3[\"IMPORT: isSilentMode, log, FROM: /claude-task-master/scripts/modules/utils.js\"]\n        I4[\"IMPORT: createProfile, FROM: /claude-task-master/src/profiles/base-profile.js\"]\n    end\n    \n    subgraph claude-FunctionsDefined[\"claude-Functions Defined\"]\n        FU1[\"FUNCTION: copyRecursiveSync\"]\n        FU2[\"FUNCTION: removeDirectoryRecursive\"]\n        FU3[\"FUNCTION: onAddRulesProfile\"]\n        FU4[\"FUNCTION: onRemoveRulesProfile\"]\n        FU5[\"FUNCTION: transformToClaudeFormat\"]\n        FU6[\"FUNCTION: onPostConvertRulesProfile\"]\n    end\n    \n    subgraph claude-Exports[\"claude-Exports\"]\n        E1[\"EXP: claudeProfile\"]\n        E2[\"EXP: onAddRulesProfile\"]\n        E3[\"EXP: onRemoveRulesProfile\"]\n        E4[\"EXP: onPostConvertRulesProfile\"]\n    end\n    \n    subgraph claude-Parameters[\"claude-Parameters\"]\n        P1[\"PARAM: {string} src - Source directory path\"]\n        P2[\"PARAM: {string} dest - Destination directory path\"]\n        P3[\"PARAM: {string} dirPath - Directory path to remove\"]\n        P4[\"PARAM: {string} targetDir - Target directory for profile setup\"]\n        P5[\"PARAM: {string} assetsDir - Assets directory containing source files\"]\n        P6[\"PARAM: {Object} mcpConfig - Standard MCP configuration object\"]\n    end\n    \n    subgraph claude-Constants[\"claude-Const Declarations\"]\n        C1[\"CONST: exists, VALUE: fs.existsSync(src)\"]\n        C2[\"CONST: stats, VALUE: exists && fs.statSync(src)\"]\n        C3[\"CONST: isDirectory, VALUE: exists && stats.isDirectory()\"]\n        C4[\"CONST: claudeSourceDir, VALUE: path.join(assetsDir, 'claude')\"]\n        C5[\"CONST: claudeDestDir, VALUE: path.join(targetDir, '.claude')\"]\n        C6[\"CONST: userClaudeFile, VALUE: path.join(targetDir, 'CLAUDE.md')\"]\n        C7[\"CONST: taskMasterClaudeFile, VALUE: path.join(targetDir, '.taskmaster', 'CLAUDE.md')\"]\n        C8[\"CONST: importLine, VALUE: '@./.taskmaster/CLAUDE.md'\"]\n        C9[\"CONST: claudeConfig, VALUE: {}\"]\n        C10[\"CONST: reorderedServer, VALUE: {}\"]\n    end\n    \n    subgraph claude-ExecutionFlow[\"claude-Execution Flow\"]\n        FL1[\"Provide recursive directory copy functionality\"]\n        FL2[\"Provide recursive directory removal functionality\"]\n        FL3[\"Copy .claude directory from assets to target during profile addition\"]\n        FL4[\"Set up CLAUDE.md import system for non-destructive integration\"]\n        FL5[\"Create Task Master instructions at .taskmaster/CLAUDE.md\"]\n        FL6[\"Add import reference to user's CLAUDE.md if exists\"]\n        FL7[\"Remove .claude directory and clean up imports during profile removal\"]\n        FL8[\"Transform standard MCP configuration to Claude format\"]\n        FL9[\"Add type: stdio as first key in server configurations\"]\n        FL10[\"Handle post-conversion setup including MCP config transformation\"]\n        FL11[\"Create profile with root directory placement and custom file mapping\"]\n    end\n    \n    subgraph claude[\"claude.js\"]\n        claude-Imports\n        claude-FunctionsDefined\n        claude-Exports\n        claude-Parameters\n        claude-Constants\n        claude-ExecutionFlow\n    end\n    \n    FL1 --> FL2\n    FL2 --> FL3\n    FL3 --> FL4\n    FL4 --> FL5\n    FL5 --> FL6\n    FL6 --> FL7\n    FL7 --> FL8\n    FL8 --> FL9\n    FL9 --> FL10\n    FL10 --> FL11",
  "content_size": 3394,
  "collected_at": "2026-02-06T01:47:16.924128",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}