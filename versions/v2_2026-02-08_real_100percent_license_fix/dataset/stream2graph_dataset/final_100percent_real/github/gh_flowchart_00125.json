{
  "id": "gh_flowchart_00125",
  "source": "github",
  "source_url": "https://github.com/trutkowski22/claude-task-master/blob/80b6b87d8682d53235785872ed02e4e8c2106272/project-overlord-context/Pre-CLI-Removal-MMDs/Shared-Infrastructure-Layer/utils_path-utils.mmd",
  "github_repo": "trutkowski22/claude-task-master",
  "github_file_path": "project-overlord-context/Pre-CLI-Removal-MMDs/Shared-Infrastructure-Layer/utils_path-utils.mmd",
  "diagram_type": "flowchart",
  "code": "flowchart TB\n    subgraph pathUtils-Imports[\"pathUtils-Imports\"]\n        I1[\"IMPORT: path, FROM: path\"]\n        I2[\"IMPORT: fs, FROM: fs\"]\n        I3[\"IMPORT: TASKMASTER_TASKS_FILE, LEGACY_TASKS_FILE, etc., FROM: /claude-task-master/src/constants/paths.js\"]\n        I4[\"IMPORT: getLoggerOrDefault, FROM: /claude-task-master/src/utils/logger-utils.js\"]\n    end\n    \n    subgraph pathUtils-FunctionsDefined[\"pathUtils-Functions Defined\"]\n        FU1[\"FUNCTION: normalizeProjectRoot\"]\n        FU2[\"FUNCTION: findProjectRoot\"]\n        FU3[\"FUNCTION: findTasksPath\"]\n        FU4[\"FUNCTION: findPRDPath\"]\n        FU5[\"FUNCTION: findComplexityReportPath\"]\n        FU6[\"FUNCTION: resolveTasksOutputPath\"]\n        FU7[\"FUNCTION: resolveComplexityReportOutputPath\"]\n        FU8[\"FUNCTION: findConfigPath\"]\n    end\n    \n    subgraph pathUtils-Exports[\"pathUtils-Exports\"]\n        E1[\"EXP: normalizeProjectRoot\"]\n        E2[\"EXP: findProjectRoot\"]\n        E3[\"EXP: findTasksPath\"]\n        E4[\"EXP: findPRDPath\"]\n        E5[\"EXP: findComplexityReportPath\"]\n        E6[\"EXP: resolveTasksOutputPath\"]\n        E7[\"EXP: resolveComplexityReportOutputPath\"]\n        E8[\"EXP: findConfigPath\"]\n    end\n    \n    subgraph pathUtils-Parameters[\"pathUtils-Parameters\"]\n        P1[\"PARAM: {string} projectRoot - The project root path to normalize\"]\n        P2[\"PARAM: {string} startDir - Directory to start searching from\"]\n        P3[\"PARAM: {string|null} explicitPath - Explicit path provided by user\"]\n        P4[\"PARAM: {Object|null} args - Args object from MCP args\"]\n        P5[\"PARAM: {Object|null} log - Logger object\"]\n    end\n    \n    subgraph pathUtils-Constants[\"pathUtils-Const Declarations\"]\n        C1[\"CONST: segments, VALUE: projectRoot.split(path.sep)\"]\n        C2[\"CONST: taskmasterIndex, VALUE: segments.findIndex for .taskmaster\"]\n        C3[\"CONST: projectMarkers, VALUE: array of project marker files\"]\n        C4[\"CONST: currentDir, VALUE: path.resolve(startDir)\"]\n        C5[\"CONST: rootDir, VALUE: path.parse(currentDir).root\"]\n        C6[\"CONST: logger, VALUE: getLoggerOrDefault(log)\"]\n        C7[\"CONST: rawProjectRoot, VALUE: args?.projectRoot || findProjectRoot()\"]\n        C8[\"CONST: possiblePaths, VALUE: array of possible file locations\"]\n        C9[\"CONST: locations, VALUE: array of directory locations to check\"]\n        C10[\"CONST: fileNames, VALUE: array of possible file names\"]\n    end\n    \n    subgraph pathUtils-ExecutionFlow[\"pathUtils-Execution Flow\"]\n        FL1[\"Normalize project root to prevent double .taskmaster paths\"]\n        FL2[\"Find project root by searching for project markers upward\"]\n        FL3[\"Find tasks.json with fallback logic and deprecation warnings\"]\n        FL4[\"Find PRD document in multiple locations with format support\"]\n        FL5[\"Find complexity report with tag-aware naming\"]\n        FL6[\"Resolve output paths for new file creation\"]\n        FL7[\"Create directories if they don't exist for output paths\"]\n        FL8[\"Issue deprecation warnings for legacy file locations\"]\n        FL9[\"Support both explicit paths and automatic discovery\"]\n        FL10[\"Handle MCP context with args object integration\"]\n        FL11[\"Provide consistent error handling and logging\"]\n    end\n    \n    subgraph pathUtils[\"path-utils.js\"]\n        pathUtils-Imports\n        pathUtils-FunctionsDefined\n        pathUtils-Exports\n        pathUtils-Parameters\n        pathUtils-Constants\n        pathUtils-ExecutionFlow\n    end\n    \n    FL1 --> FL2\n    FL2 --> FL3\n    FL3 --> FL4\n    FL4 --> FL5\n    FL5 --> FL6\n    FL6 --> FL7\n    FL7 --> FL8\n    FL8 --> FL9\n    FL9 --> FL10\n    FL10 --> FL11",
  "content_size": 3623,
  "collected_at": "2026-02-06T01:42:06.175043",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}