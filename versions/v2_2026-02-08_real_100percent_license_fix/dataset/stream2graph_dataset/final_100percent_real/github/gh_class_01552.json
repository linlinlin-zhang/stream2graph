{
  "id": "gh_class_01552",
  "source": "github",
  "source_url": "https://github.com/thomasjeffreyandersontwin/agile_bots/blob/39121b8e5a4e54365a0c4b6b879084142cca9c4b/docs/crc/crc-class-diagram.mmd",
  "github_repo": "thomasjeffreyandersontwin/agile_bots",
  "github_file_path": "docs/crc/crc-class-diagram.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n\n    class PanelView(Base) {\n        +Wraps JSON data()\n        +Spawns subprocess()\n        +Sends command to CLI()\n        +Receives JSON from CLI()\n        +Parses JSON()\n        +Provides element ID()\n        +Renders to HTML()\n    }\n    \n    class SectionView {\n        +Renders section header()\n        +Toggles collapsed state()\n        +May contain subsections()\n    }\n    PanelView(Base) <|-- SectionView\n    \n    class SubSectionView {\n        +Toggles collapsed state()\n    }\n    PanelView <|-- SubSectionView\n    \n    class PanelHeader {\n        +Displays header image()\n        +Displays title()\n    }\n    \n    class StoryGraphTreeView {\n        +Renders story graph as tree hierarchy()\n        +Shows context-appropriate action buttons()\n        +Refreshes tree display()\n        +Delegates to InlineNameEditor()\n        +Delegates to DragDropManager()\n    }\n    PanelView <|-- StoryGraphTreeView\n    StoryGraphTreeView \"1\" *-- \"many\" InlineNameEditor\n    StoryGraphTreeView \"1\" *-- \"many\" DragDropManager\n    StoryGraphTreeView \"1\" *-- \"many\" ValidationMessageDisplay\n    StoryGraphTreeView ..> StoryGraph\n    StoryGraphTreeView ..> StoryNode\n    \n    class InlineNameEditor {\n        +Enables inline editing mode()\n        +Validates name in real-time()\n        +Saves name on blur or Enter()\n        +Cancels on Escape()\n        +Shows validation messages()\n    }\n    InlineNameEditor \"1\" *-- \"many\" ValidationMessageDisplay\n    InlineNameEditor ..> StoryNode\n    \n    class ValidationMessageDisplay {\n        +Shows warning message()\n        +Hides message()\n        +Applies message styling()\n    }\n    \n    class DragDropManager {\n        +Shows drag cursor with icon()\n        +Validates drop target compatibility at UI level()\n        +Shows no-drop cursor for incompatible targets()\n        +Highlights valid drop target()\n        +Delegates move to StoryNode domain operation()\n        +Returns node to original on invalid drop()\n    }\n    DragDropManager ..> StoryGraph\n    DragDropManager ..> StoryNode\n    \n    class ConfirmationDialog {\n        +Shows confirmation inline()\n        +Shows confirm and cancel buttons()\n        +Invokes callback on confirm()\n        +Hides confirmation on cancel()\n    }\n    \n    class DotNotationParser {\n        +Parses dot notation to node path()\n        +Resolves node from path()\n        +Parses operation from command()\n        +Parses parameters from command()\n        +Formats error with valid paths()\n    }\n    DotNotationParser ..> StoryGraph\n    DotNotationParser ..> StoryNode\n    \n    class StoryGraphCommandRouter {\n        +Parses command to extract operation and parameters()\n        +Routes to domain operation on StoryNode()\n        +Formats success result()\n        +Formats error result()\n    }\n    StoryGraphCommandRouter \"1\" *-- \"many\" DotNotationParser\n    StoryGraphCommandRouter ..> StoryGraph\n    StoryGraphCommandRouter ..> StoryNode\n    StoryGraphCommandRouter ..> ChannelAdapter\n    \n    class FileModificationMonitor {\n        +Detects file modification before command()\n        +Delegates reload to StoryGraph()\n        +Formats update notification()\n        +Formats validation error notification()\n        +Retains previous valid graph reference()\n    }\n    FileModificationMonitor ..> StoryGraph\n    FileModificationMonitor ..> ChannelAdapter\n\n",
  "content_size": 3351,
  "collected_at": "2026-02-06T01:59:16.284993",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "agpl-3.0",
  "license_name": "GNU Affero General Public License v3.0",
  "license_url": "https://api.github.com/licenses/agpl-3.0",
  "repo_stars": 0,
  "repo_forks": 0
}