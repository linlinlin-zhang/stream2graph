{
  "id": "gh_flowchart_00046",
  "source": "github",
  "source_url": "https://github.com/sourcefuse/loopback4-llm-chat-extension/blob/77abce8370f2ae093ea1a3a07206feee7c6c1b31/db-query-graph.mmd",
  "github_repo": "sourcefuse/loopback4-llm-chat-extension",
  "github_file_path": "db-query-graph.mmd",
  "diagram_type": "flowchart",
  "code": "%%{init: {'flowchart': {'curve': 'linear'}}}%%\ngraph TD;\n\t__start__([<p>__start__</p>]):::first\n\tget_tables(get_tables)\n\tcheck_permissions(check_permissions)\n\tcheck_cache(check_cache)\n\tsql_generation(sql_generation)\n\tpg_explain_validator(pg_explain_validator)\n\tllm_validator(llm_validator)\n\tis_improvement(is_improvement)\n\tfailed(failed)\n\tsave_dataset(save_dataset)\n\t__end__(<p>__end__</p>)\n\t__start__ --> is_improvement;\n\tis_improvement --> check_cache;\n\tsave_dataset --> __end__;\n\tcheck_cache -. &nbsp;AsIs&nbsp; .-> __end__;\n\tcheck_cache -. &nbsp;Similar&nbsp; .-> get_tables;\n\tcheck_cache -. &nbsp;NoRelevantQueries&nbsp; .-> get_tables;\n\tget_tables -. &nbsp;Failed&nbsp; .-> failed;\n\tget_tables -. &nbsp;CheckPermissions&nbsp; .-> check_permissions;\n\tcheck_permissions -. &nbsp;MissingPermission&nbsp; .-> failed;\n\tcheck_permissions -. &nbsp;Accepted&nbsp; .-> sql_generation;\n\tsql_generation -. &nbsp;Validator&nbsp; .-> pg_explain_validator;\n\tsql_generation -. &nbsp;Failed&nbsp; .-> failed;\n\tpg_explain_validator -. &nbsp;Accepted&nbsp; .-> llm_validator;\n\tpg_explain_validator -. &nbsp;FixSQL&nbsp; .-> sql_generation;\n\tpg_explain_validator -. &nbsp;ReselectTables&nbsp; .-> get_tables;\n\tpg_explain_validator -. &nbsp;Failed&nbsp; .-> failed;\n\tllm_validator -. &nbsp;Accepted&nbsp; .-> save_dataset;\n\tllm_validator -. &nbsp;Rejected&nbsp; .-> sql_generation;\n\tllm_validator -. &nbsp;Failed&nbsp; .-> failed;\n\tpg_explain_validator -. &nbsp;Retry&nbsp; .-> pg_explain_validator;\n\tclassDef default fill:#f2f0ff,line-height:1.2;\n\tclassDef first fill-opacity:0;\n\tclassDef last fill:#bfb6fc;\n",
  "content_size": 1595,
  "collected_at": "2026-02-06T01:41:33.429066",
  "compilation_status": "failed",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 1,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}