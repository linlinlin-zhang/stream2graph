{
  "id": "gh_architecture_01850",
  "source": "github",
  "source_url": "https://github.com/alfredoartisan/Sf-Hexagonal-Inventory-Manager/blob/1d7d9bff97aff6f890e4474769bc36bcc19ebcd2/docs/arquitectura_detallada.mmd",
  "github_repo": "alfredoartisan/Sf-Hexagonal-Inventory-Manager",
  "github_file_path": "docs/arquitectura_detallada.mmd",
  "diagram_type": "architecture",
  "code": "```mermaid\ngraph TD\n    %% Definición de los estilos\n    classDef ui fill:#FF9999,stroke:#333,stroke-width:2px;\n    classDef application fill:#FFCC99,stroke:#333,stroke-width:2px;\n    classDef domain fill:#99CCFF,stroke:#333,stroke-width:2px;\n    classDef infrastructure fill:#99FF99,stroke:#333,stroke-width:2px;\n\n    %% Capa de UI (Interfaz de Usuario)\n    HTTP[Cliente HTTP] --> REST_CTRL[UI - Controlador REST]\n    CONSOLE[Terminal] --> CLI_CTRL[UI - Comando de Consola]\n    \n    %% Patrón CQRS (Command Query Responsibility Segregation)\n    subgraph \"Patrón CQRS\"\n        %% Command (Comandos para modificar estado)\n        REST_CTRL --> CMD[Command]\n        CLI_CTRL --> CMD\n        CMD --> CMD_HANDLER[Command Handler]\n        \n        %% Query (Consultas para leer datos)\n        REST_CTRL --> QUERY[Query]\n        CLI_CTRL --> QUERY\n        QUERY --> QUERY_HANDLER[Query Handler]\n        QUERY_HANDLER --> DTO[Data Transfer Object]\n        DTO --> REST_CTRL\n    end\n    \n    %% Capa de Dominio (Core de la aplicación)\n    subgraph \"Dominio (Domain)\"\n        %% Entidades y objetos de valor\n        ENTITY[Entidad Product]\n        VALUE_OBJ[Value Objects<br/>ProductId, ProductName, etc.]\n        ENTITY_VARIANT[Entidad ProductVariant]\n        \n        %% Eventos de dominio\n        DOMAIN_EVENT[Eventos de Dominio<br/>ProductCreatedEvent, etc.]\n        \n        %% Interfaces de repositorio\n        REPO_INTERFACE[Interfaces de Repositorio<br/>ProductRepositoryInterface]\n        \n        %% Relaciones dentro del dominio\n        ENTITY --> VALUE_OBJ\n        ENTITY --> ENTITY_VARIANT\n        ENTITY --> DOMAIN_EVENT\n    end\n    \n    %% Relaciones entre Aplicación y Dominio\n    CMD_HANDLER --> ENTITY\n    CMD_HANDLER --> REPO_INTERFACE\n    QUERY_HANDLER --> REPO_INTERFACE\n    \n    %% Capa de Infraestructura\n    subgraph \"Infraestructura (Infrastructure)\"\n        %% Implementación de repositorios\n        REPO_IMPL[Implementación de Repositorio<br/>DoctrineProductRepository]\n        \n        %% Base de datos\n        DATABASE[(Base de Datos)]\n        \n        %% Event listeners\n        EVENT_LISTENER[Event Listeners<br/>ProductCreatedListener, etc.]\n        \n        %% Servicios externos\n        LOGGER[Servicio de Logs]\n        EMAIL[Servicio de Email]\n    end\n    \n    %% Relaciones entre Dominio e Infraestructura\n    REPO_INTERFACE -.Implementa.-> REPO_IMPL\n    REPO_IMPL --> DATABASE\n    DOMAIN_EVENT --> EVENT_LISTENER\n    EVENT_LISTENER --> LOGGER\n    EVENT_LISTENER --> EMAIL\n    \n    %% Flujo completo de creación de producto\n    HTTP -->|POST /products| REST_CTRL\n    REST_CTRL -->|CreateProductCommand| CMD\n    CMD -->|Ejecuta| CMD_HANDLER\n    CMD_HANDLER -->|Crea| ENTITY\n    CMD_HANDLER -->|Guarda| REPO_INTERFACE\n    REPO_INTERFACE -.-> REPO_IMPL\n    REPO_IMPL -->|Persiste| DATABASE\n    ENTITY -->|Dispara| DOMAIN_EVENT\n    DOMAIN_EVENT -->|Notifica| EVENT_LISTENER\n    EVENT_LISTENER -->|Registra| LOGGER\n    \n    %% Flujo completo de consulta de producto\n    HTTP -->|GET /products/{id}| REST_CTRL\n    REST_CTRL -->|GetProductQuery| QUERY\n    QUERY -->|Ejecuta| QUERY_HANDLER\n    QUERY_HANDLER -->|Consulta| REPO_INTERFACE\n    REPO_INTERFACE -.-> REPO_IMPL\n    REPO_IMPL -->|Lee| DATABASE\n    QUERY_HANDLER -->|Mapea a| DTO\n    DTO -->|Responde| REST_CTRL\n    \n    %% Aplicar estilos\n    class HTTP,REST_CTRL,CLI_CTRL,CONSOLE ui;\n    class CMD,CMD_HANDLER,QUERY,QUERY_HANDLER,DTO application;\n    class ENTITY,VALUE_OBJ,ENTITY_VARIANT,DOMAIN_EVENT,REPO_INTERFACE domain;\n    class REPO_IMPL,DATABASE,EVENT_LISTENER,LOGGER,EMAIL infrastructure;\n```\n",
  "content_size": 3581,
  "collected_at": "2026-02-06T02:04:06.613185",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}