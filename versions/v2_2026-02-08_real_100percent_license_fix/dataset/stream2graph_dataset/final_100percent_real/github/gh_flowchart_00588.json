{
  "id": "gh_flowchart_00588",
  "source": "github",
  "source_url": "https://github.com/MoNejjar/echo-hallucination-detect/blob/1eeccb569ce2ac46c9ded3f5ccce45a98a1afb8b/docs/diagrams/user-flow.mmd",
  "github_repo": "MoNejjar/echo-hallucination-detect",
  "github_file_path": "docs/diagrams/user-flow.mmd",
  "diagram_type": "flowchart",
  "code": "ï»¿%% Echo User Journey - Doctoral Thesis Version\n%% Complete User Experience Flow with Decision Points\n%% Author: Mohamed Nejjar\n%% Thesis: \"Mitigating Hallucination Potential in User Prompts Through AI-Guided Iterative Refinement\"\n%% Render: mmdc -i user-flow.mmd -o user-flow.svg\n\nflowchart TB\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% ENTRY PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph Entry[\"<b>ENTRY PHASE</b><br/>Prompt Composition\"]\n        Start([ğŸš€ Start])\n        Input[\"<b>Input Prompt</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Direct text entry<br/>â€¢ File upload (.txt, .md)<br/>â€¢ Paste from clipboard\"]\n        ModeSelect{\"<b>Select Analysis Mode</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Which risk type?\"}\n        Faith[\"Faithfulness<br/>Context adherence\"]\n        Fact[\"Factuality<br/>World knowledge\"]\n        Both[\"Both<br/>Comprehensive\"]\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% ANALYSIS PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph Analysis[\"<b>ANALYSIS PHASE</b><br/>Risk Assessment\"]\n        Analyze[\"<b>Run Analysis</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Analyzer Agent<br/>processes prompt\"]\n        Processing[\"<b>Processing</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Load 12-pillar guidelines<br/>â€¢ Pattern matching<br/>â€¢ PRD calculation\"]\n        Results[\"<b>View Results</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Highlighted prompt<br/>â€¢ PRD gauges<br/>â€¢ Violation cards\"]\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% INTERPRETATION PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph Interpretation[\"<b>INTERPRETATION PHASE</b><br/>Understanding Risks\"]\n        ReviewPRD{\"<b>Review PRD Scores</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>prompt_PRD | meta_PRD\"}\n        LowRisk[\"âœ… Low Risk<br/>PRD < 20%<br/>Prompt well-structured\"]\n        MedRisk[\"âš ï¸ Moderate Risk<br/>20% â‰¤ PRD < 50%<br/>Some improvements needed\"]\n        HighRisk[\"ğŸ”´ High Risk<br/>PRD â‰¥ 50%<br/>Significant revision needed\"]\n        ViewHighlights[\"<b>Examine Highlights</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸŸ¡ Medium | ğŸŸ  High | ğŸ”´ Critical\"]\n        ViewViolations[\"<b>Read Violation Details</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Pillar + Rule + Mitigation\"]\n        ViewQuestions[\"<b>Review Initiator Questions</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>One question per broken rule\"]\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% REFINEMENT PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph Refinement[\"<b>REFINEMENT PHASE</b><br/>Iterative Improvement\"]\n        DecideRefine{\"<b>Refine Prompt?</b>\"}\n        OpenChat[\"<b>Open Chat Interface</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Conversational Agent\"]\n        Converse[\"<b>Discuss Risks</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Ask clarification questions<br/>â€¢ Receive suggestions<br/>â€¢ Critical (non-yes-man) feedback\"]\n        ApplySuggestion[\"<b>Apply Suggestions</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Incorporate improvements\"]\n        MoreRefine{\"<b>More Refinement?</b>\"}\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% RE-ANALYSIS PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph ReAnalysis[\"<b>RE-ANALYSIS PHASE</b><br/>Validation Cycle\"]\n        PrepareReAnalyze[\"<b>Prepare Re-Analysis</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Preparator Agent<br/>synthesizes conversation\"]\n        PreviewRefined[\"<b>Preview Refined Prompt</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ See changes summary<br/>â€¢ Edit if needed\"]\n        ConfirmRefine{\"<b>Confirm Preview?</b>\"}\n        ReAnalyze[\"<b>Re-Analyze</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Fresh analysis on<br/>refined prompt\"]\n        ComparePRD[\"<b>Compare PRD</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Before vs After<br/>ğŸ¯ Measure improvement\"]\n        Satisfied{\"<b>PRD Acceptable?</b>\"}\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% EXIT PHASE\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    subgraph Exit[\"<b>EXIT PHASE</b><br/>Export & Deploy\"]\n        Export[\"<b>Export Results</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ JSON (with metadata)<br/>â€¢ Markdown<br/>â€¢ PDF report\"]\n        Deploy[\"<b>Deploy Prompt</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Use in production<br/>with reduced risk\"]\n        End([ğŸ End])\n    end\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% CONNECTIONS\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    %% Entry Phase Flow\n    Start --> Input\n    Input --> ModeSelect\n    ModeSelect -->|\"Faithfulness\"| Faith\n    ModeSelect -->|\"Factuality\"| Fact\n    ModeSelect -->|\"Both\"| Both\n    Faith --> Analyze\n    Fact --> Analyze\n    Both --> Analyze\n\n    %% Analysis Phase Flow\n    Analyze --> Processing\n    Processing --> Results\n\n    %% Interpretation Phase Flow\n    Results --> ReviewPRD\n    ReviewPRD -->|\"< 20%\"| LowRisk\n    ReviewPRD -->|\"20-50%\"| MedRisk\n    ReviewPRD -->|\"> 50%\"| HighRisk\n    LowRisk --> DecideRefine\n    MedRisk --> ViewHighlights\n    HighRisk --> ViewHighlights\n    ViewHighlights --> ViewViolations\n    ViewViolations --> ViewQuestions\n    ViewQuestions --> DecideRefine\n\n    %% Refinement Phase Flow\n    DecideRefine -->|\"Yes\"| OpenChat\n    DecideRefine -->|\"No - Accept\"| Export\n    OpenChat --> Converse\n    Converse --> ApplySuggestion\n    ApplySuggestion --> MoreRefine\n    MoreRefine -->|\"Yes\"| Converse\n    MoreRefine -->|\"No\"| PrepareReAnalyze\n\n    %% Re-Analysis Phase Flow\n    PrepareReAnalyze --> PreviewRefined\n    PreviewRefined --> ConfirmRefine\n    ConfirmRefine -->|\"Yes\"| ReAnalyze\n    ConfirmRefine -->|\"Edit\"| PreviewRefined\n    ReAnalyze --> ComparePRD\n    ComparePRD --> Satisfied\n    Satisfied -->|\"Yes\"| Export\n    Satisfied -->|\"No - Iterate\"| OpenChat\n\n    %% Exit Phase Flow\n    Export --> Deploy\n    Deploy --> End\n\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    %% STYLING - Preserved Color Scheme\n    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n    \n    style Entry fill:#002147,stroke:#764ba2,stroke-width:3px,color:#ffffff\n    style Analysis fill:#002147,stroke:#f5576c,stroke-width:3px,color:#ffffff\n    style Interpretation fill:#002147,stroke:#00f2fe,stroke-width:3px,color:#ffffff\n    style Refinement fill:#002147,stroke:#38f9d7,stroke-width:3px,color:#ffffff\n    style ReAnalysis fill:#002147,stroke:#fee140,stroke-width:3px,color:#ffffff\n    style Exit fill:#002147,stroke:#764ba2,stroke-width:3px,color:#ffffff\n\n    %% Node Styling\n    style Start fill:#764ba2,stroke:#764ba2,stroke-width:2px,color:#ffffff\n    style End fill:#38f9d7,stroke:#38f9d7,stroke-width:2px,color:#002147\n    style LowRisk fill:#38f9d7,stroke:#38f9d7,stroke-width:2px,color:#002147\n    style MedRisk fill:#fee140,stroke:#fee140,stroke-width:2px,color:#002147\n    style HighRisk fill:#f5576c,stroke:#f5576c,stroke-width:2px,color:#ffffff\n\n    linkStyle default stroke:#5B7C99,stroke-width:2px\n",
  "content_size": 7057,
  "collected_at": "2026-02-06T01:45:34.287739",
  "compilation_status": "failed",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 1,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚"
}