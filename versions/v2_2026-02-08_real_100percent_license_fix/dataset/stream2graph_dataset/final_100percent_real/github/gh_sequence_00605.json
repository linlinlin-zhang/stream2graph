{
  "id": "gh_sequence_00605",
  "source": "github",
  "source_url": "https://github.com/operationalgenomics/digital-genome-specs/blob/a8f929d1031e3d1c2a5db342cfc7352ad391620e/diagrams/api/api-governance-ledger-flow.mmd",
  "github_repo": "operationalgenomics/digital-genome-specs",
  "github_file_path": "diagrams/api/api-governance-ledger-flow.mmd",
  "diagram_type": "sequence",
  "code": "%% ==============================================================================\r\n%% Governance Ledger Flow Diagram\r\n%% ==============================================================================\r\n%% Source File:     specs/api/governance-api.md\r\n%% Repository Path: diagrams/api/api-governance-ledger-flow.png\r\n%% Description:     Visualizes the audit logging sequence: API Request -> Ledger \r\n%%                  Write (Start) -> Execution -> Ledger Write (Result) -> \r\n%%                  Immutable Hash Generation -> Client Receipt.\r\n%% ==============================================================================\r\n\r\nsequenceDiagram\r\n    participant Client as External Client\r\n    participant GW as API Gateway\r\n    participant Ledger as Ledger Service\r\n    participant Chain as Immutable Log\r\n    participant Core as Cognitive Core\r\n\r\n    %% 1. Request Start\r\n    Client->>GW: POST /v1/execute (Action)\r\n    GW->>Ledger: Log Event: REQUEST_RECEIVED\r\n    Ledger->>Chain: Commit Block (Timestamp, CallerID)\r\n    Chain-->>Ledger: TxID: 0x8a7f...\r\n    \r\n    %% 2. Execution\r\n    GW->>Core: Execute Action\r\n    activate Core\r\n    Core->>Core: Process Logic\r\n    Core-->>GW: Result: SUCCESS\r\n    deactivate Core\r\n\r\n    %% 3. Request End\r\n    GW->>Ledger: Log Event: EXECUTION_COMPLETE\r\n    Ledger->>Chain: Commit Block (TxID, ResultHash)\r\n    Chain-->>Ledger: FinalHash: 0xb29c...\r\n\r\n    %% 4. Receipt\r\n    GW-->>Client: HTTP 200 OK (Data + ReceiptHeader)\r\n    Note right of Client: Receipt Header contains<br/>Ledger Hash for verification\r\n",
  "content_size": 1545,
  "collected_at": "2026-02-06T01:34:37.402444",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "operationalgenomics",
  "repo_name": "digital-genome-specs",
  "repo_description": "Technical specifications of Operational Genomics — codons, operational genes, cognitive cores, merism, and the Digital Genome architecture.",
  "repo_language": "Mermaid",
  "repo_topics": [],
  "repo_created_at": "2025-12-03T00:43:48Z",
  "repo_updated_at": "2025-12-19T12:35:49Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}