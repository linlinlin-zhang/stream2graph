{
  "id": "gh_class_01323",
  "source": "github",
  "source_url": "https://github.com/anhkhoatqt11/animeentertainment-admin-designpattern/blob/796dec04b441558bf806918e913dfb62003ed01c/docs/MementoPatternStructure.mmd",
  "github_repo": "anhkhoatqt11/animeentertainment-admin-designpattern",
  "github_file_path": "docs/MementoPatternStructure.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    class AnimeFormMemento {\n        -state: AnimeFormState\n        +constructor(state: AnimeFormState)\n        +getState(): AnimeFormState\n        +getTimestamp(): number\n        +getPageName(): string\n    }\n\n    class AnimeFormOriginator {\n        -currentState: AnimeFormState\n        +constructor()\n        -getDefaultState(): AnimeFormState\n        +setState(state: Partial~AnimeFormState~): void\n        +getState(): AnimeFormState\n        +createMemento(): AnimeFormMemento\n        +restoreFromMemento(memento: AnimeFormMemento): void\n        +hasSignificantChanges(): boolean\n    }\n\n    class AnimeFormCaretaker {\n        -mementos: Map~string, AnimeFormMemento~\n        -maxMementos: number\n        -storageKey: string\n        +constructor()\n        +saveMemento(key: string, memento: AnimeFormMemento): void\n        +getMemento(key: string): AnimeFormMemento | null\n        +getAllDrafts(): Array~object~\n        +deleteDraft(key: string): boolean\n        +clearAllDrafts(): void\n        -cleanup(): void\n        -saveToStorage(): void\n        -loadFromStorage(): void\n        +generateDraftKey(movieName: string): string\n    }\n\n    class AnimeFormState {\n        <<interface>>\n        +landspaceImage: any[]\n        +coverImage: any[]\n        +movieName: string\n        +description: string\n        +genreSelected: any[]\n        +publisher: string\n        +weeklyTime: string\n        +ageFor: any\n        +episodeList: any[]\n        +timestamp: number\n        +pageName: string\n    }\n\n    AnimeFormOriginator --> AnimeFormMemento\n    AnimeFormCaretaker --> AnimeFormMemento\n    AnimeFormMemento --> AnimeFormState\n",
  "content_size": 1638,
  "collected_at": "2026-02-06T01:56:13.237851",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}