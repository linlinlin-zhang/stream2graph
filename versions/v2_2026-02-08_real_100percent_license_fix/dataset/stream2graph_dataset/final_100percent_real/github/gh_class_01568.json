{
  "id": "gh_class_01568",
  "source": "github",
  "source_url": "https://github.com/davis-boudreau/PROG1400/blob/f06c7d043c1c490a915f76e1e36926f8f57529f2/UML/pacman_case_study_UML_class_diagram.mmd",
  "github_repo": "davis-boudreau/PROG1400",
  "github_file_path": "UML/pacman_case_study_UML_class_diagram.mmd",
  "diagram_type": "class",
  "code": "---\nconfig:\n  layout: elk\n---\nclassDiagram\ndirection LR\n\n%% =========================================================\n%% Core Game Orchestrator\n%% =========================================================\nclass Game {\n  -Maze maze\n  -Pacman pacman\n  -list~Ghost~ ghosts\n  -ScoreBoard score\n  -GameState state\n  -int level\n  -int tick\n  +load_level(n: int): void\n  +update(inputDir: Direction): void\n  +reset_positions(): void\n  -resolve_collisions(): void\n  -check_level_complete(): void\n}\n\nclass GameState {\n  <<enumeration>>\n  READY\n  PLAYING\n  DYING\n  LEVEL_COMPLETE\n  GAME_OVER\n}\n\n%% Game OWNS core parts (composition = lifecycle bound)\nGame *-- Maze : composes (owns world)\nGame *-- Pacman : composes (owns player)\nGame *-- ScoreBoard : composes (owns scoring/lives)\n\n%% Game MANAGES a collection of ghosts (aggregation = managed set)\nGame \"1\" o-- \"0..*\" Ghost : aggregates (manages enemies)\n\n%% Game USES state + input types (association / dependency)\nGame --> GameState : uses (controls game flow)\nGame --> Direction : uses (player input)\n\n%% =========================================================\n%% Maze / World Model\n%% =========================================================\nclass Maze {\n  -int rows\n  -int cols\n  -TileType[][] tiles\n  -dict~Cell, Item~ items\n  -Cell pacmanSpawn\n  -list~Cell~ ghostSpawns\n  +is_walkable(cell: Cell): bool\n  +warp(cell: Cell): Cell\n  +get_item(cell: Cell): Item\n  +remove_item(cell: Cell): void\n  +pellets_remaining(): int\n}\n\nclass TileType {\n  <<enumeration>>\n  WALL\n  FLOOR\n  TUNNEL\n}\n\n%% Maze CONTAINS items placed in cells (aggregation)\nMaze o-- Item : aggregates (items placed on cells)\n\n%% Maze USES tile classifications + coordinate type\nMaze --> TileType : uses (grid cell types)\nMaze --> Cell : uses (coordinates & spawns)\n\n%% =========================================================\n%% Coordinate + Input Types\n%% =========================================================\nclass Cell {\n  -int r\n  -int c\n  +moved(d: Direction): Cell\n  +equals(other: Cell): bool\n}\n\nclass Direction {\n  <<enumeration>>\n  UP\n  DOWN\n  LEFT\n  RIGHT\n  NONE\n}\n\n%% =========================================================\n%% Actor Abstraction (shared movement + timing)\n%% =========================================================\nclass Actor {\n  <<abstract>>\n  -Cell cell\n  -Direction dir\n  -Direction nextDir\n  -int moveEveryTicks\n  -int moveCounter\n  +update(game: Game): void\n  #try_turn(maze: Maze): void\n  #try_step(maze: Maze): void\n  +set_next_dir(d: Direction): void\n  +get_cell(): Cell\n}\n\nclass Pacman {\n  -int powerTicks\n  -int ghostCombo\n  +update(game: Game): void\n  +is_powered(): bool\n  +power_up(ticks: int): void\n  +reset_combo(): void\n  +consume_ghost_points(): int\n}\n\nclass Ghost {\n  <<abstract>>\n  -GhostState state\n  -Cell home\n  +update(game: Game): void\n  #choose_dir(game: Game): Direction\n  +frighten(ticks: int): void\n  +is_frightened(): bool\n  +reset_home(): void\n}\n\n%% Inheritance (is-a)\nActor <|-- Pacman : inherits (player actor)\nActor <|-- Ghost : inherits (enemy actor)\n\n%% =========================================================\n%% Ghost Specializations + State\n%% =========================================================\nclass RandomGhost {\n  #choose_dir(game: Game): Direction\n}\n\nclass ChaserGhost {\n  #choose_dir(game: Game): Direction\n}\n\nclass GhostState {\n  <<enumeration>>\n  CHASE\n  SCATTER\n  FRIGHTENED\n}\n\nGhost <|-- RandomGhost : inherits (random movement AI)\nGhost <|-- ChaserGhost : inherits (chase-target AI)\nGhost --> GhostState : uses (behavior mode)\n\n%% =========================================================\n%% Items / Collectibles (polymorphic apply effects)\n%% =========================================================\nclass Item {\n  <<abstract>>\n  -int points\n  +apply(game: Game): void\n  +get_points(): int\n}\n\nclass Pellet {\n  +apply(game: Game): void\n}\n\nclass PowerPellet {\n  -int powerTicks\n  +apply(game: Game): void\n}\n\nclass Fruit {\n  -int points\n  +apply(game: Game): void\n}\n\n%% Inheritance (is-a)\nItem <|-- Pellet : inherits (basic points)\nItem <|-- PowerPellet : inherits (points + power mode)\nItem <|-- Fruit : inherits (bonus points)\n\n%% =========================================================\n%% Score / Lives / High Score Tracking\n%% =========================================================\nclass ScoreBoard {\n  -int score\n  -int lives\n  -int highScore\n  -int nextExtraLifeAt\n  +reset_new_game(): void\n  +reset_new_level(level: int): void\n  +add(points: int): void\n  +lose_life(): void\n  +maybe_extra_life(): bool\n  +save_high_score(path: str): void\n  +load_high_score(path: str): void\n  +get_score(): int\n  +get_lives(): int\n  +get_high_score(): int\n}\n\n%% Explicit usage relationships (kept for teaching clarity)\nGame --> ScoreBoard : uses (updates score/lives)\nItem --> ScoreBoard : awards via Game.score\nPacman --> ScoreBoard : updates on ghost eats",
  "content_size": 4860,
  "collected_at": "2026-02-06T01:59:30.108015",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 0,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}