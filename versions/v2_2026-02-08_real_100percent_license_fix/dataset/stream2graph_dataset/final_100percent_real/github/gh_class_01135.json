{
  "id": "gh_class_01135",
  "source": "github",
  "source_url": "https://github.com/Beatwen/TeslaAPI/blob/db73ac855fed5e3bbc4f2d10cfb7ff7b1b78e405/Class%20Diagram/TeslaAPI.mmd",
  "github_repo": "Beatwen/TeslaAPI",
  "github_file_path": "Class Diagram/TeslaAPI.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    class FavoriteCommands {\n        -List<Command> Commands\n        -List<string> BaseTasks\n    }\n    \n    class Command {\n        -string? _displayName\n        +string Name\n        +string DisplayName\n        +bool Selected\n        +int Value\n        +int BoolValue\n    }\n    \n    FavoriteCommands --> \"*\" Command : contains\n\n    class GetAllVIN {\n        -HttpClient _httpClient\n        +GetAllVIN(string accessToken)\n        +Task<string?> GetVIN()\n    }\n\n    class VehicleResponse {\n        +List<VehicleInfo> Response\n    }\n\n    class VehicleInfo {\n        +long IdS\n    }\n    \n    GetAllVIN --> VehicleResponse : Uses\n    VehicleResponse --> \"*\" VehicleInfo : contains\n\n    class UserToken {\n        <<static>> String BaseUrl\n        <<static>> String RedirectUrl\n        <<static>> String ClientId\n        <<static>> String ClientSecret\n        <<static>> String tokenEndpoint\n        <<static>> String Scope\n        +<<static>> Task<string?> GetUserToken(NavigationManager, IJSRuntime)\n        -<<static>> Task<bool> IsTokenStillValid(LocalStorageService)\n        -<<static>> void RedirectUser(NavigationManager, IJSRuntime)\n        +<<static>> void RedirectUserToIndex(NavigationManager, IJSRuntime)\n        +<<static>> Task<string?> GenerateUserToken(string, IJSRuntime)\n        +<<static>> Task<string?> RefreshToken(string, IJSRuntime, NavigationManager)\n        +<<static>> Task<string> StoreToken(TokenResponse, IJSRuntime)\n    }\n    \n    class LocalStorageService {\n        +Task<T> GetItemAsync<T>(string key)\n        +Task SetItemAsync<T>(string key, T value)\n    }\n    \n    class TokenResponse {\n        String access_token\n        String refresh_token\n        int expires_in\n    }\n\n    UserToken --> LocalStorageService : Uses\n    UserToken ..> TokenResponse : Manipulates\n\n    class RegisterVehicleClass {\n        <<static>> RegisterVehicle(string accessToken)\n    }\n    \n    class ErrorResponse {\n        String error_code\n        String error_description\n    }\n\n    RegisterVehicleClass ..> ErrorResponse : Parses\n\n    class PartnerToken {\n        <<static>> Task<string?> GetPartnerToken(IJSRuntime jsRuntime)\n        <<static>> bool IsTokenStillValid(TokenResponse? tokenResponse)\n        <<static>> Task<string?> GeneratePartnerToken()\n        <<static>> void StoreToken(TokenResponse tokenResponse)\n    }\n    \n    class TokenResponse {\n        String access_token\n        String refresh_token\n        String token_type\n        int expires_in\n        String scope\n    }\n    \n    class ErrorResponse {\n        String error_code\n        String error_description\n    }\n\n    PartnerToken ..> TokenResponse : Uses -- \"Generate, Check, Store\"\n    PartnerToken ..> ErrorResponse : Parses -- \"On Error\"\n\n    class EcKeyGenerator {\n        -String EcPrivateKey\n    }\n\n    class CommandsMethod {\n        <<static>> Task Honk(string, string, VehicleDataResponse, Command)\n        <<static>> Task Flash(string, string, VehicleDataResponse, Command)\n        <<static>> Task SetSentryMode(string, string, VehicleDataResponse, Command)\n        <<static>> Task Unlock(string, string, VehicleDataResponse, Command)\n        <<static>> Task OpenChargePort(string, string, VehicleDataResponse, Command)\n        <<static>> Task<string?> NewhttpClient(string, string, string, VehicleDataResponse, string?)\n    }\n    \n    class VehicleDataResponse {\n        VehicleState response\n    }\n    \n    class VehicleState {\n        bool sentry_mode_available\n        bool sentry_mode\n        bool locked\n        ChargeState charge_state\n    }\n    \n    class ChargeState {\n        bool charge_port_door_open\n    }\n    \n    class Command {\n        String Name\n        String DisplayName\n        bool Selected\n        int Value\n        int BoolValue\n    }\n\n    CommandsMethod ..> VehicleDataResponse : Uses\n    CommandsMethod ..> Command : Uses\n    VehicleDataResponse --> VehicleState : Contains\n    VehicleState --> ChargeState : Contains\n\n    class Code {\n        <<static>> string GenerateRandomString(int length)\n        <<static>> byte[] Sha256(string input)\n        <<static>> string Base64UrlEncode(byte[] data)\n    }\n    class WakeUp {\n        <<static>> Task<VehicleDataResponse?> WakeItUp(string vehicleVIN, string userToken)\n        <<static>> Task<VehicleDataResponse?> GetVehicleInfo(string vehicleVIN, string userToken)\n    }\n    \n    class VehicleDataResponse {\n        ResponseData response\n    }\n    \n    class ResponseData {\n        long user_id\n        int vehicle_id\n        string vin\n        ChargeState charge_state\n        VehicleState vehicle_state\n    }\n    \n    class ChargeState {\n        int battery_level\n        string preconditioning_times\n        bool preconditioning_enable\n        bool charge_port_door_open\n        string charging_state\n        bool managed_charging_active\n        string? managed_charging_start_time\n        int time_to_full_charge\n    }\n    \n    class VehicleState {\n        bool sentry_mode\n        bool sentry_mode_available\n        bool preconditioning_enable\n        bool remote_start\n        bool locked\n    }\n\n    WakeUp ..> VehicleDataResponse : Uses\n    VehicleDataResponse --> ResponseData : Contains\n    ResponseData --> ChargeState : Contains\n    ResponseData --> VehicleState : Contains\n\n    class ILocalStorageService {\n        <<interface>> \n        Task SetItemAsync<T>(string key, T value)\n        Task<T?> GetItemAsync<T>(string key)\n        Task RemoveItemAsync(string key)\n    }\n    \n    class LocalStorageService {\n        -IJSRuntime _jsRuntime\n        +LocalStorageService(IJSRuntime jsRuntime)\n        +Task SetItemAsync<T>(string key, T value)\n        +Task<T?> GetItemAsync<T>(string key)\n        +Task RemoveItemAsync(string key)\n    }\n    \n    class LocalStorageServiceWrapper {\n        -LocalStorageService _localStorageService\n        +LocalStorageServiceWrapper(LocalStorageService localStorageService)\n        +Task SetItemAsync<T>(string key, T value)\n        +Task<T?> GetItemAsync<T>(string key)\n        +Task RemoveItemAsync(string key)\n    }\n\n    ILocalStorageService <|.. LocalStorageService : Implements\n    ILocalStorageService <|.. LocalStorageServiceWrapper : Implements\n    LocalStorageServiceWrapper --> LocalStorageService : Uses\n\n",
  "content_size": 6236,
  "collected_at": "2026-02-06T01:53:28.506683",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}