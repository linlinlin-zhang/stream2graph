{
  "id": "gh_sequence_00221",
  "source": "github",
  "source_url": "https://github.com/hungtran3011/SAD-uml/blob/6488e4768c3a2e5f0fb6b33aa41f182a434e3385/sequence/buy_sequence.mmd",
  "github_repo": "hungtran3011/SAD-uml",
  "github_file_path": "sequence/buy_sequence.mmd",
  "diagram_type": "sequence",
  "code": "sequenceDiagram\n    participant Người dùng\n    participant Hệ thống\n    participant Cổng thanh toán\n    participant Vận chuyển\n    %% participant Email\n\n    Note over Người dùng,Vận chuyển: Bắt đầu quy trình mua hàng\n    \n    alt Chọn đăng nhập\n        Người dùng->>Hệ thống: Yêu cầu đăng nhập\n        Hệ thống-->>Người dùng: Hiển thị trang đăng nhập/đăng ký\n        Người dùng->>Hệ thống: Đăng nhập vào hệ thống\n        Hệ thống-->>Người dùng: Xác nhận đăng nhập thành công\n    end\n\n    Người dùng->>Hệ thống: Tìm kiếm và xem sản phẩm\n    Hệ thống-->>Người dùng: Hiển thị thông tin sản phẩm\n    \n    Người dùng->>Hệ thống: Thêm vào giỏ hàng\n    \n    alt Hết hàng\n        Hệ thống-->>Người dùng: Thông báo sản phẩm hết hàng\n    else Còn hàng\n        Hệ thống-->>Người dùng: Xác nhận thêm vào giỏ\n    end\n\n    Người dùng->>Hệ thống: Đi tới giỏ hàng và thanh toán\n    Hệ thống-->>Người dùng: Hiển thị thông tin đơn hàng\n    \n    alt Không đăng nhập (Mua hàng nhanh)\n        Hệ thống-->>Người dùng: Yêu cầu nhập thông tin giao hàng và liên hệ\n        Người dùng->>Hệ thống: Nhập thông tin giao hàng (Tên, SĐT, Email, Địa chỉ)\n        Hệ thống-->>Người dùng: Xác nhận thông tin và hiển thị lựa chọn thanh toán\n    else Đã đăng nhập\n        Hệ thống-->>Người dùng: Hiển thị thông tin giao hàng đã lưu\n        Người dùng->>Hệ thống: Xác nhận hoặc thay đổi thông tin\n        Hệ thống-->>Người dùng: Hiển thị lựa chọn thanh toán\n    end\n\n    Người dùng->>Hệ thống: Lựa chọn hình thức thanh toán\n    \n    alt Thanh toán trực tuyến\n        Hệ thống->>Cổng thanh toán: Xử lý thanh toán\n        \n        alt Thanh toán thất bại\n            Cổng thanh toán-->>Hệ thống: Thông báo lỗi thanh toán\n            Hệ thống-->>Người dùng: Thông báo lỗi và yêu cầu thử lại\n        else Thanh toán thành công\n            Cổng thanh toán-->>Hệ thống: Xác nhận thanh toán\n            Hệ thống-->>Người dùng: Thông báo thanh toán thành công\n        end\n        \n    else Thanh toán trực tiếp (COD)\n        Hệ thống-->>Người dùng: Xác nhận chọn COD\n    end\n\n    Hệ thống-->>Người dùng: Hiển thị chi tiết đơn hàng\n    Hệ thống->>Người dùng: Gửi email xác nhận đơn hàng\n\n    alt Hủy đơn (Trong khoảng thời gian cho phép)\n        Người dùng->>Hệ thống: Yêu cầu hủy đơn hàng\n        \n        alt Không đăng nhập\n            Hệ thống-->>Người dùng: Yêu cầu nhập mã đơn hàng và email xác nhận\n            Người dùng->>Hệ thống: Nhập thông tin xác nhận\n        end\n        \n        Hệ thống->>Người dùng: Yêu cầu lý do hủy đơn\n        Người dùng->>Hệ thống: Nhập lý do hủy và xác nhận hủy đơn hàng\n        \n        alt Đã thanh toán online\n            Hệ thống->>Cổng thanh toán: Yêu cầu hoàn tiền\n            Cổng thanh toán-->>Hệ thống: Xác nhận & gửi trạng thái hoàn tiền\n            Hệ thống-->>Người dùng: Thông báo trạng thái hoàn tiền\n            Cổng thanh toán-->>Người dùng: Hoàn tiền\n        end\n        \n        Hệ thống->>Người dùng: Gửi email xác nhận hủy đơn\n    end\n\n    Hệ thống->>Vận chuyển: Yêu cầu vận đơn\n    Vận chuyển-->>Hệ thống: Trả về thông tin vận đơn\n    Hệ thống-->>Người dùng: Hiển thị chi tiết vận đơn\n    \n    Note over Người dùng,Vận chuyển: Quá trình vận chuyển\n    \n    loop Cập nhật trạng thái\n        Vận chuyển->>Hệ thống: Cập nhật trạng thái đơn hàng\n        Hệ thống-->>Người dùng: Thông báo cập nhật trạng thái\n    end\n\n    alt COD\n        Vận chuyển->>Người dùng: Vận chuyển đơn hàng\n        \n        alt Giao hàng thành công\n            Người dùng->>Vận chuyển: Trả tiền sau khi nhận hàng\n            Vận chuyển->>Hệ thống: Xác nhận giao hàng và thanh toán thành công\n        else Từ chối nhận hàng\n            Người dùng->>Vận chuyển: Từ chối nhận hàng\n            Vận chuyển->>Hệ thống: Thông báo giao hàng thất bại\n        end\n        \n    else Thanh toán trực tuyến\n        Vận chuyển->>Người dùng: Vận chuyển đơn hàng (đã thanh toán)\n        \n        alt Giao hàng thành công\n            Vận chuyển->>Hệ thống: Xác nhận giao hàng thành công\n        else Từ chối nhận hàng\n            Người dùng->>Vận chuyển: Từ chối nhận hàng\n            Vận chuyển->>Hệ thống: Thông báo giao hàng thất bại\n            Hệ thống->>Cổng thanh toán: Xử lý hoàn tiền\n        end\n    end\n    \n    alt Giao hàng thành công\n        Hệ thống-->>Người dùng: Thông báo giao hàng thành công\n        Hệ thống->>Người dùng: Gửi email xác nhận giao hàng\n        \n        alt Đã đăng nhập\n            Note over Người dùng,Hệ thống: Sau khi nhận hàng\n            Người dùng->>Hệ thống: Đánh giá sản phẩm\n            Hệ thống-->>Người dùng: Xác nhận đánh giá\n        end\n        \n        alt Trả/Đổi hàng\n            Người dùng->>Hệ thống: Yêu cầu trả/đổi hàng\n            Hệ thống-->>Người dùng: Hướng dẫn quy trình trả/đổi hàng\n        end\n    end",
  "content_size": 4730,
  "collected_at": "2026-02-06T01:29:20.078555",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 2,
  "repo_forks": 3,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}