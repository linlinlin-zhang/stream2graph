{
  "id": "gh_architecture_01384",
  "source": "github",
  "source_url": "https://github.com/SamoraHunter/pat2vec/blob/498aba4e5cea9d85c1dae9379d573af7b2177b77/assets/config.mmd",
  "github_repo": "SamoraHunter/pat2vec",
  "github_file_path": "assets/config.mmd",
  "diagram_type": "architecture",
  "code": "graph TB\n    subgraph \"Main Classes\"\n        A[MultiStream] --> A1[write method]\n        A --> A2[flush method]\n        \n        B[config_class] --> B1[Patient Data Paths]\n        B --> B2[Time Window Configuration]\n        B --> B3[Data Processing Options]\n        B --> B4[MedCAT Integration]\n        B --> B5[Remote/Local Storage]\n    end\n    \n    subgraph \"Configuration Components\"\n        B1 --> C1[pre_annotation_path]\n        B1 --> C2[pre_document_batch_path]\n        B1 --> C3[pre_bloods_batch_path]\n        B1 --> C4[pre_drugs_batch_path]\n        B1 --> C5[pre_diagnostics_batch_path]\n        B1 --> C6[pre_appointments_batch_path]\n        \n        B2 --> D1[start_date]\n        B2 --> D2[years/months/days]\n        B2 --> D3[time_window_interval_delta]\n        B2 --> D4[global_start/end dates]\n        \n        B3 --> E1[main_options dict]\n        B3 --> E2[testing mode]\n        B3 --> E3[batch_mode]\n        B3 --> E4[individual_patient_window]\n        \n        B4 --> F1[medcat flag]\n        B4 --> F2[dummy_medcat_model]\n        B4 --> F3[annot_filter_options]\n        \n        B5 --> G1[remote_dump]\n        B5 --> G2[sftp_client]\n        B5 --> G3[root_path]\n    end\n    \n    subgraph \"Utility Functions\"\n        H[calculate_interval] --> H1[Calculates time intervals]\n        I[update_global_start_date] --> I1[Updates global start date]\n        J[get_test_options_dict] --> J1[Returns test configuration]\n        K[swap_start_end] --> K1[Swaps start/end dates for lookback]\n    end\n    \n    subgraph \"Data Types (main_options)\"\n        E1 --> L1[demo - Demographics]\n        E1 --> L2[bmi - Body Mass Index]\n        E1 --> L3[bloods - Blood tests]\n        E1 --> L4[drugs - Medications]\n        E1 --> L5[diagnostics - Diagnostic tests]\n        E1 --> L6[annotations - MedCAT annotations]\n        E1 --> L7[appointments - Patient appointments]\n        E1 --> L8[textual_obs - Textual observations]\n    end\n    \n    subgraph \"Time Window Processing\"\n        D1 --> M1[Base start date]\n        D2 --> M2[Duration specification]\n        D3 --> M3[Interval chunking]\n        D4 --> M4[Global time boundaries]\n        \n        M1 --> N1[generate_date_list]\n        M2 --> N1\n        M3 --> N1\n        M4 --> N1\n        \n        N1 --> O1[date_list array]\n        O1 --> O2[n_pat_lines count]\n    end\n    \n    subgraph \"Individual Patient Windows\"\n        B --> P1[individual_patient_window_df]\n        P1 --> P2[patient_dict]\n        P2 --> P3[build_patient_dict]\n        P3 --> P4[add_offset_column]\n        \n        K1 --> P2\n    end\n    \n    subgraph \"Remote Storage\"\n        G1 --> Q1[SSH/SFTP Connection]\n        Q1 --> Q2[paramiko client]\n        Q2 --> Q3[Remote path creation]\n        Q3 --> Q4[Remote file operations]\n    end\n    \n    subgraph \"Path Management\"\n        R[PathsClass] --> R1[Manages file paths]\n        R1 --> R2[Output folder structure]\n        B --> R\n    end\n    \n    style A fill:#e1f5fe\n    style B fill:#f3e5f5\n    style H fill:#e8f5e8\n    style I fill:#e8f5e8\n    style J fill:#e8f5e8\n    style K fill:#e8f5e8\n    style E1 fill:#fff3e0\n    style B2 fill:#fce4ec\n",
  "content_size": 3110,
  "collected_at": "2026-02-06T01:45:32.084064",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "",
  "repo_stars": 2,
  "repo_forks": 0
}