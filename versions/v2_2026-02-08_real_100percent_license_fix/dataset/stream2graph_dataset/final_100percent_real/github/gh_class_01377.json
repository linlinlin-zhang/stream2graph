{
  "id": "gh_class_01377",
  "source": "github",
  "source_url": "https://github.com/nlanhduy/ai-video-generator/blob/6d373defaaacd95d9f96ecc1a535be2bdc158de6/diagram/class_diagram_model.mmd",
  "github_repo": "nlanhduy/ai-video-generator",
  "github_file_path": "diagram/class_diagram_model.mmd",
  "diagram_type": "class",
  "code": "classDiagram\n    class Env {\n        +AI ai\n    }\n\n    class Scene {\n        +number id\n        +string title\n        +string description\n        +string image\n        +string narration\n    }\n\n    class Character {\n        +number id\n        +string name\n        +string description\n    }\n\n    class Story {\n        +string prompt\n        +number scenesCount\n        +Scene[] scenes\n        +Character[] characters\n        +string theme\n    }\n\n    class StoryRequest {\n        +string prompt\n        +number sceneCount\n    }\n\n    class StoryResponse {\n        +Story story\n        +string[] images\n    }\n\n    class AIModel {\n        +string API_KEY\n        +string URL\n        +string requestBody\n    }\n\n    class LLMResponse {\n        <<interface>>\n    }\n\n    class GenerateContentRequest {\n        +string topic\n        +string type\n        +number sceneCount\n    }\n\n    class CloudflareWorker {\n        +fetch(Request, Env): Promise~Response~\n    }\n\n    %% New unified function class\n    class ContentGenerator {\n        <<utility>>\n        +Promise~string~ generateImage(ai, prompt, characters, imageType)\n        +Promise~string~ generateLLMResponse(model, prompt)\n        +Promise~Story~ generateStoryOutline(model, prompt, scenesCount)\n    }\n\n    %% Updated Relations\n    Story \"1\" -- \"1...*\" Scene : \n    Story \"1\" -- \"1...*\" Character : \n    StoryResponse \"1\" -- \"1\" Story : \n    StoryResponse \"1\" -- \"1...*\" string : \n    CloudflareWorker \"1\" -- \"1\" ContentGenerator\n    ContentGenerator \"1\" -- \"1...*\" Character\n    ContentGenerator \"1\" -- \"1\" AIModel\n    CloudflareWorker \"1\" -- \"0...1\" StoryRequest\n    CloudflareWorker \"1\" -- \"0...1\" GenerateContentRequest\n    CloudflareWorker \"1\" -- \"0...1\" StoryResponse\n",
  "content_size": 1721,
  "collected_at": "2026-02-06T01:57:01.919990",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 1,
  "repo_forks": 1,
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}