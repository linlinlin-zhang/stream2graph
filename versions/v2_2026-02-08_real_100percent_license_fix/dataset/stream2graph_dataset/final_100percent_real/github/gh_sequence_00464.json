{
  "id": "gh_sequence_00464",
  "source": "github",
  "source_url": "https://github.com/pirc25/documentacion/blob/8e4bb4915c58e82f56cd76f4bafe11951f79a676/Listas%20negras/agregar%20a%20las%20listas%20negras/c%C3%B3digo%20diagrama%20de%20sequencia%20agregar%20a%20las%20listas%20negras.mmd",
  "github_repo": "pirc25/documentacion",
  "github_file_path": "Listas negras/agregar a las listas negras/cÃ³digo diagrama de sequencia agregar a las listas negras.mmd",
  "diagram_type": "sequence",
  "code": "sequenceDiagram\n    actor OC as Oficial de Cumplimiento\n    participant FE as Frontend\n    participant BE as Backend\n    participant BD as Base de Datos\n\n    Note over OC,BD: ğŸ” Proceso: Agregar a Listas Negras UAFE\n\n    OC->>FE: Ingresa al mÃ³dulo Listas Negras UAFE\n    FE->>OC: Muestra opciones:<br/>1. Subir Archivo<br/>2. Agregar Persona\n\n    alt OpciÃ³n 1: Subir Archivo Lista Negra\n        Note over OC,FE: ğŸ“‹ CARGA MASIVA - Permite agregar mÃºltiples personas simultÃ¡neamente\n        OC->>FE: Selecciona \"Subir Archivo\"\n        Note left of OC: El archivo debe tener<br/>formato CSV o Excel con<br/>columnas especÃ­ficas\n        OC->>FE: Carga archivo (Nombre, IdentificaciÃ³n, CategorÃ­a)\n        Note right of FE: Frontend lee y<br/>procesa el archivo<br/>âš ï¸ Valida formato y<br/>campos obligatorios\n        FE->>BE: POST /listas-negras/archivo<br/>JSON: {<br/>  token: \"xxx\",<br/>  personas: [{<br/>    nombre: \"...\",<br/>    identificacion: \"...\",<br/>    categoria: \"...\"<br/>  }]<br/>}\n        Note over FE,BE: ğŸ” ComunicaciÃ³n segura<br/>Token JWT para autenticaciÃ³n\n        Note right of BE: ğŸ”’ Valida token\n        BE->>BD: INSERT personas en listas_negras\n        BD-->>BE: ConfirmaciÃ³n de guardado\n        BE->>BD: SELECT * FROM listas_negras\n        Note right of BD: ğŸ’¾ Retorna TODAS<br/>las personas<br/>(nuevas + existentes)\n        BD-->>BE: Array completo de personas\n        BE-->>FE: Response 200 OK<br/>JSON: {<br/>  success: true,<br/>  personas: [...]<br/>}\n        FE->>FE: Actualiza tabla con lista completa\n        FE->>OC: âœ… NotificaciÃ³n: \"Lista ingresada correctamente\"\n        \n    else OpciÃ³n 2: Agregar Persona Individual\n        Note over OC,FE: ğŸ‘¤ CARGA INDIVIDUAL\n        OC->>FE: Selecciona \"Agregar Persona\"\n        OC->>FE: Ingresa datos:<br/>- Nombre<br/>- IdentificaciÃ³n<br/>- CategorÃ­a<br/>- ObservaciÃ³n\n        FE->>BE: POST /listas-negras/persona<br/>JSON: {<br/>  token: \"xxx\",<br/>  nombre: \"...\",<br/>  identificacion: \"...\",<br/>  categoria: \"...\",<br/>  observacion: \"...\"<br/>}\n        Note right of BE: ğŸ”’ Valida token\n        BE->>BD: INSERT nueva persona en listas_negras\n        Note right of BD: ğŸ†” BD genera ID<br/>automÃ¡ticamente\n        BD-->>BE: ConfirmaciÃ³n + ID generado\n        BE-->>FE: Response 201 Created<br/>JSON: {<br/>  success: true,<br/>  id: 123,<br/>  nombre: \"...\",<br/>  identificacion: \"...\",<br/>  categoria: \"...\",<br/>  observacion: \"...\"<br/>}\n        FE->>FE: Agrega persona a la tabla con ID\n        FE->>OC: âœ… NotificaciÃ³n: \"Usuario agregado exitosamente\"\n    end\n\n    Note over OC,BD: ğŸ FIN DEL PROCESO\n",
  "content_size": 2577,
  "collected_at": "2026-02-06T01:32:36.135343",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "pirc25",
  "repo_name": "documentacion",
  "repo_description": "Todos los flujos de trabajo que se realicen estarÃ¡n en este carpeta",
  "repo_language": "Mermaid",
  "repo_topics": [],
  "repo_created_at": "2025-10-29T15:20:12Z",
  "repo_updated_at": "2025-10-30T15:09:39Z",
  "compilation_error": "[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚"
}