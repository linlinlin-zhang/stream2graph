{
  "id": "gh_flowchart_00303",
  "source": "github",
  "source_url": "https://github.com/schickling/dilagent/blob/77d7d90d19d921841a18df350b6430c5bdc9eea3/diagrams/hypothesis-loop.mmd",
  "github_repo": "schickling/dilagent",
  "github_file_path": "diagrams/hypothesis-loop.mmd",
  "diagram_type": "flowchart",
  "code": "%%{init: {\"flowchart\": {\"htmlLabels\": true}, \"theme\": \"base\"}}%%\nflowchart TD\n    %% Title\n    Title[<b>Hypothesis Loop</b><br/>Example - H001: HLC/LWW Bug Causing Replica Inconsistency]\n    \n    %% Main Hypothesis Container\n    subgraph HypothesisLoop [\" \"]\n        %% Main Flow\n        Start([Start])\n        DesignExp[Design Experiments]\n        \n        %% Main Decision Points\n        HasExpDecision{{Switch: Experiments Available?}}\n        RootCauseNotFound[Root cause not found]\n        RunExperiments[Run Experiments]\n        \n        %% Experiments Container\n        subgraph ExperimentsContainer [\"üî¨ Experiments\"]\n            %% E03: Active Experiment\n            subgraph E03 [E03: Experiment Loop]\n                direction TB\n                DesignTest[Design Test]\n                RunTest[Run Test] \n                CollectEvidence[Collect Evidence & Diagnose]\n                \n                %% Experiment Decision Logic\n                ExpDecision{{Switch: Test Result?}}\n                \n                %% Counter-experiments Coordination\n                DesignCounterExperiments[Design Counter-experiments]\n                HasCounterExpDecision{{Switch: Counter-experiments Available?}}\n                RunCounterExperiments[Run Counter-experiments]\n                \n                %% Counter-experiments Container\n                subgraph CounterExpsContainer [\"‚öñÔ∏è Counter-Experiments\"]\n                    subgraph E03C01 [E03:C01: Counter-experiment]\n                        DesignCounterTest[Design Counter-test]\n                        RunTestCounter[Run Test]\n                        CollectEvidenceCounter[Collect Evidence & Diagnose]\n                        CEDecision{{Switch: Counter Result?}}\n                    end\n                    \n                end\n            end\n        end\n        \n        %% Status and Reporting System\n        UpdateStatus[Update Status]\n        ReportMd[report.md]\n        RootCauseFound[Root cause found]\n        ManagerMCP[Manager<br/>MCP Server]\n    end\n    \n    %% Context Information Panel\n    subgraph ContextPanel [\"üìã Context\"]\n        direction TB\n        \n        %% Current Status Indicators\n        CurrentExpLabel[current experiment]\n        CurrentCounterExpLabel[current counter-experiment]\n        \n        %% Files Section\n        subgraph FilesPanel [Files]\n            direction TB\n            ContextFiles[\"/context<br/>/context.md<br/>/instructions.md\"]\n            ProjectFiles[\"/project<br/>/reports<br/>/project-files...\"]\n            ExperimentFiles[\"/experiments<br/>/E01<br/>/tests<br/>/project-files...\"]\n        end\n        \n        %% Experiment Tree Section  \n        subgraph ExperimentTree [\"üß™ Experiment Status Tree\"]\n            direction TB\n            \n            subgraph E01Tree [\"‚ùå E01: Failed\"]\n                E01C01Status[\"‚ùå E01:C01: Failed\"]\n                E01C02Status[\"‚ùå E01:C02: Failed\"]\n                E01C01Status --> E01C02Status\n            end\n            \n            subgraph E02Tree [\"‚ùå E02: Failed\"]\n                E02C01Status[\"‚ùå E02:C01: Failed\"]\n                E02C02Status[\"‚ùå E02:C02: Failed\"]\n                E02C01Status --> E02C02Status\n            end\n            \n            subgraph E03Tree [\"üü¢ E03: Active\"]\n                E03C01Status[\"üü° E03:C01: Running\"]\n                E03C02Status[\"‚è∏Ô∏è E03:C02: Queued\"]\n                E03C01Status --> E03C02Status\n            end\n            \n            subgraph E04Tree [\"‚è∏Ô∏è E04: Queued\"]\n                E04C01Status[\"‚ö™ E04:C01: Not Started\"]\n                E04C02Status[\"‚ö™ E04:C02: Not Started\"]\n                E04C01Status --> E04C02Status\n            end\n            \n            %% Experiment Chain\n            E01Tree --> E02Tree\n            E02Tree --> E03Tree  \n            E03Tree --> E04Tree\n        end\n    end\n    \n    %% === FLOW CONNECTIONS ===\n    \n    %% Main Flow\n    Title --> Start\n    Start --> DesignExp\n    DesignExp -.->|\"update\"| UpdateStatus\n    DesignExp --> HasExpDecision\n    \n    %% Experiment Decision Branches\n    HasExpDecision -->|\"there are experiments\"| RunExperiments\n    HasExpDecision -->|\"no more experiments\"| RootCauseNotFound\n    \n    %% Run Experiments Flow\n    RunExperiments -.->|\"update\"| UpdateStatus\n    RunExperiments --> DesignTest\n    DesignTest -.->|\"update\"| UpdateStatus\n    DesignTest --> RunTest\n    RunTest --> CollectEvidence\n    CollectEvidence -.->|\"update\"| UpdateStatus\n    CollectEvidence --> ExpDecision\n    \n    %% Experiment Decision Branches (Switch)\n    ExpDecision -->|\"inconclusive - refine test\"| DesignTest\n    ExpDecision -->|\"experiment failed - refine experiments\"| DesignExp\n    ExpDecision -->|\"confirms hypothesis - run CEs\"| DesignCounterExperiments\n    ExpDecision -->|\"confirms hypothesis - no more CEs\"| RootCauseFound\n    \n    %% Design Counter-experiments Flow\n    DesignCounterExperiments -.->|\"update\"| UpdateStatus\n    DesignCounterExperiments --> HasCounterExpDecision\n    \n    %% Counter-Experiment Decision Branches\n    HasCounterExpDecision -->|\"there are counter-experiments\"| RunCounterExperiments\n    HasCounterExpDecision -->|\"no more counter-experiments, CEs didn't invalidate\"| RootCauseFound\n    RunCounterExperiments -.->|\"update\"| UpdateStatus\n    RunCounterExperiments --> DesignCounterTest\n    DesignCounterTest -.->|\"update\"| UpdateStatus\n    DesignCounterTest --> RunTestCounter\n    RunTestCounter --> CollectEvidenceCounter\n    CollectEvidenceCounter -.->|\"update\"| UpdateStatus\n    CollectEvidenceCounter --> CEDecision\n    \n    %% Counter-Experiment Decision Branches (Switch)\n    CEDecision -->|\"CE inconclusive -> refine CE\"| DesignCounterTest\n    CEDecision -->|\"CE passed -> next counter-experiment\"| DesignCounterExperiments\n    CEDecision -->|\"CE invalidated experiment -> refine experiments\"| DesignExp\n    \n    %% Status and Reporting Flow\n    UpdateStatus -.->|\"writes to\"| ReportMd\n    UpdateStatus -->|\"sends HypothesisStatusUpdate\"| ManagerMCP\n    \n    %% Final Result Flows\n    RootCauseFound -->|\"sends HypothesisResult (success)\"| ManagerMCP\n    RootCauseNotFound -->|\"sends HypothesisResult (failure)\"| ManagerMCP\n    \n    %% Current Status Visual Indicators (within Context container)\n    CurrentExpLabel -.-> E03Tree\n    CurrentCounterExpLabel -.-> E03C01Status\n    \n    %% === STYLING ===\n    \n    %% Decision Node Styling (Switch statements)\n    classDef decisionNode fill:#4a5568,stroke:#2d3748,stroke-width:2px,color:#fff,font-weight:bold\n    \n    %% Process Node Styling\n    classDef processNode fill:#2b6cb0,stroke:#2c5282,stroke-width:2px,color:#fff\n    \n    %% Status/External Node Styling\n    classDef statusNode fill:#7c2d12,stroke:#92400e,stroke-width:2px,color:#fff\n    \n    %% Experiment Container Styling\n    classDef experimentNode fill:#065f46,stroke:#047857,stroke-width:2px,color:#fff\n    \n    %% Files/Context Styling\n    classDef contextNode fill:#374151,stroke:#4b5563,stroke-width:1px,color:#fff\n    \n    %% Current Status Indicator Styling\n    classDef indicatorNode fill:#fbbf24,stroke:#f59e0b,stroke-width:2px,color:#000,font-style:italic\n    \n    %% Apply Styles\n    class HasExpDecision,ExpDecision,HasCounterExpDecision,CEDecision decisionNode\n    class DesignExp,DesignTest,RunTest,CollectEvidence,DesignCounterTest,RunTestCounter,CollectEvidenceCounter,RunExperiments,DesignCounterExperiments,RunCounterExperiments processNode\n    class UpdateStatus,ReportMd,RootCauseFound,RootCauseNotFound,ManagerMCP statusNode\n    class ContextFiles,ProjectFiles,ExperimentFiles contextNode\n    class E01C01Status,E01C02Status,E02C01Status,E02C02Status,E03C01Status,E03C02Status,E04C01Status,E04C02Status contextNode\n    class CurrentExpLabel,CurrentCounterExpLabel indicatorNode\n    \n    %% Title Styling\n    classDef titleNode fill:#1f2937,stroke:#374151,stroke-width:3px,color:#fff,font-size:16px\n    class Title titleNode\n    \n    %% Container Background Colors\n    style ExperimentsContainer fill:#1e3a8a15,stroke:#1e3a8a,stroke-width:2px\n    style CounterExpsContainer fill:#7c2d1215,stroke:#7c2d12,stroke-width:2px\n    style ContextPanel fill:#6b728015,stroke:#6b7280,stroke-width:2px\n    style FilesPanel fill:#37415115,stroke:#374151,stroke-width:1px\n    style ExperimentTree fill:#22c55e15,stroke:#22c55e,stroke-width:1px\n    style E01Tree fill:#ef444425,stroke:#ef4444,stroke-width:1px\n    style E02Tree fill:#ef444425,stroke:#ef4444,stroke-width:1px\n    style E03Tree fill:#22c55e25,stroke:#22c55e,stroke-width:1px\n    style E04Tree fill:#64748b25,stroke:#64748b,stroke-width:1px",
  "content_size": 8517,
  "collected_at": "2026-02-06T01:43:16.349496",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 102,
  "repo_forks": 2,
  "repo_owner": "schickling",
  "repo_name": "dilagent",
  "repo_description": "\"Deep research for bugs\" ‚Äì Agentic root cause analysis through hypothesis-driven debugging",
  "repo_language": "TypeScript",
  "repo_topics": [],
  "repo_created_at": "2025-09-05T09:09:38Z",
  "repo_updated_at": "2026-01-26T22:55:48Z",
  "compilation_error": "[WinError 2] Á≥ªÁªüÊâæ‰∏çÂà∞ÊåáÂÆöÁöÑÊñá‰ª∂„ÄÇ"
}