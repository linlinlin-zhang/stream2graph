{
  "id": "gh_class_00951",
  "source": "github",
  "source_url": "https://github.com/m9xxx/stepik_parser_test/blob/d536e191f149c760d2c453e9a73a2c2a9293d434/class_diagram.mmd",
  "github_repo": "m9xxx/stepik_parser_test",
  "github_file_path": "class_diagram.mmd",
  "diagram_type": "class",
  "code": "---\nconfig:\n  theme: default\n---\nclassDiagram\n    class CourseController {\n        -CourseService courseService\n        -ParserService parserService\n        +index()\n        +show(id)\n        +showBySourceAndId(source, id)\n        +search()\n        +importCourses()\n        +runParser(parser)\n        +runAllParsers()\n        +getParserStatistics()\n        -jsonResponse(data, statusCode)\n    }\n    class AuthController {\n        +login()\n        +register()\n    }\n    class FavoriteController {\n        +add()\n        +remove()\n        +list()\n    }\n    class PlatformController {\n        -db: Database\n        +__construct()\n        +index()\n    }\n    class CourseService {\n        -jsonDataReader: JsonDataReader\n        +__construct(JsonDataReader)\n        +getAllCourses()\n        +getCourseById(id, source)\n        +searchCourses(query, filters)\n        +importCoursesFromJson()\n        -importFromSource(sourceName)\n        -getPlatformUrl(sourceName)\n        +getAllCoursesFromJson()\n    }\n    class ParserService {\n        -availableParsers: array\n        +runAllParsers()\n        +runSpecificParser(parserName)\n        +getParserStatistics()\n        -getLastModifiedTime(parserName)\n    }\n    class Course {\n        -id: int\n        -title: string\n        -description: string\n        -rating: float\n        -url: string\n        -source: string\n        -additionalData: array\n        +__construct(data, source)\n        +toArray()\n        +getId()\n        +getTitle()\n        +getDescription()\n        +getRating()\n        +getUrl()\n        +getSource()\n        +getPrice()\n        +getCurrency()\n        +getReviewsCount()\n        +getFullDescription()\n    }\n    class CourseDB {\n        -platformId: int\n        -externalId: string\n        -parsedAt: timestamp\n        +__construct(data, source)\n        +save()\n        +findById(id)\n        +search(filters)\n        +getPlatformId()\n        +getExternalId()\n        +getParsedAt()\n        +getCreatedAt()\n        +getUpdatedAt()\n        +setPlatformId(platformId)\n        +setParsedAt(parsedAt)\n    }\n    class User {\n        -id: int\n        -username: string\n        -email: string\n        -passwordHash: string\n        -createdAt: timestamp\n        -updatedAt: timestamp\n        +__construct(data)\n        +save()\n        +findById(id)\n        +findByUsername(username)\n        +authenticate(password)\n        +setPassword(password)\n        +toArray()\n        +getId()\n        +getUsername()\n        +getEmail()\n        +getCreatedAt()\n        +getUpdatedAt()\n        +setUsername(username)\n        +setEmail(email)\n    }\n    class Platform {\n        -id: int\n        -name: string\n        -url: string\n        -createdAt: timestamp\n        +__construct(data)\n        +save()\n        +findById(id)\n        +findByName(name)\n        +getAll()\n        +toArray()\n        +getId()\n        +getName()\n        +getUrl()\n        +getCreatedAt()\n        +setName(name)\n        +setUrl(url)\n    }\n    class Favorite {\n        -id: int\n        -userId: int\n        -courseId: int\n        -createdAt: timestamp\n        +__construct(data)\n        +save()\n        +delete()\n        +findByUserAndCourse(userId, courseId)\n        +getUserFavorites(userId)\n        +isFavorite(userId, courseId)\n        +toArray()\n        +getId()\n        +getUserId()\n        +getCourseId()\n        +getCreatedAt()\n        +setUserId(userId)\n        +setCourseId(courseId)\n    }\n    class Database {\n        -instance: Database\n        -pdo: PDO\n        -__construct()\n        -createTablesIfNotExist()\n        +getInstance()\n        +getConnection()\n    }\n    CourseController --> CourseService\n    CourseController --> ParserService\n    AuthController --> User\n    FavoriteController --> Favorite\n    PlatformController --> Platform\n    CourseService --> Course\n    CourseService --> CourseDB\n    CourseService --> Database\n    ParserService --> Course\n    Course <|-- CourseDB\n    CourseDB --> Database\n    User --> Database\n    Platform --> Database\n    Favorite --> Database\n",
  "content_size": 4015,
  "collected_at": "2026-02-06T01:39:15.661473",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}