{
  "id": "gh_architecture_01756",
  "source": "github",
  "source_url": "https://github.com/hppanpaliya/hppanpaliya.github.io/blob/36c02141f8fc3829eccbf93d4bb82224613570da/assets/diagrams/openai-text-moderation-server.mmd",
  "github_repo": "hppanpaliya/hppanpaliya.github.io",
  "github_file_path": "assets/diagrams/openai-text-moderation-server.mmd",
  "diagram_type": "architecture",
  "code": "graph TD\n    subgraph Client\n        App[Client Application]\n    end\n    \n    subgraph Server[Express.js Server]\n        API[REST API]\n        ModCtrl[Moderation Controller]\n        ChatCtrl[Chatbot Controller]\n        Monitor[Chat Monitor]\n        EmailSvc[Email Service]\n    end\n    \n    subgraph External[External Services]\n        OpenAI[OpenAI API]\n        Firebase[(Firebase/Firestore)]\n        SendGrid[SendGrid Email]\n    end\n    \n    App -->|POST /moderation| API\n    App -->|POST /chatbot| API\n    API --> ModCtrl\n    API --> ChatCtrl\n    ModCtrl --> OpenAI\n    ChatCtrl --> OpenAI\n    ChatCtrl -->|Track Usage| Firebase\n    Monitor -->|Listen for Chats| Firebase\n    Monitor --> ModCtrl\n    Monitor -->|Self-Harm Detected| EmailSvc\n    EmailSvc --> SendGrid\n    SendGrid -->|Alert Email| User[User Email]",
  "content_size": 815,
  "collected_at": "2026-02-06T02:02:57.167358",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "none",
  "license_name": "No License (Assumed)"
}