{
  "id": "gh_architecture_01603",
  "source": "github",
  "source_url": "https://github.com/asifhussain60/CORTEX/blob/c300db39a0cee046f03f290c792fe891f073f73d/docs/01-cortex-brain/diagrams/06-knowledge-retrieval.mmd",
  "github_repo": "asifhussain60/CORTEX",
  "github_file_path": "docs/01-cortex-brain/diagrams/06-knowledge-retrieval.mmd",
  "diagram_type": "architecture",
  "code": "graph TD\n    subgraph query[\"User Query\"]\n        q[\"'How to implement<br/>governance validation?'\"]\n    end\n    \n    subgraph normalize[\"Query Normalization\"]\n        n1[\"Remove stop words\"]\n        n2[\"Expand abbreviations\"]\n        n3[\"Extract keywords\"]\n        result_norm[\"Normalized:<br/>'implement governance validation'\"]\n    end\n    \n    subgraph cache[\"Cache Check\"]\n        cache_key[\"Compute cache key<br/>hash(query, context)\"]\n        cache_lookup[\"Lookup in cache<br/>(TTL: 24 hours)\"]\n        cache_hit[\"Cache HIT?\"]\n        hit_return[\"Return cached result\"]\n    end\n    \n    subgraph embedding[\"Semantic Embedding\"]\n        no_hit[\"Cache MISS\"]\n        embed[\"Embed query:<br/>convert to vector\"]\n    end\n    \n    subgraph search[\"Vector Search\"]\n        index_search[\"Search knowledge index<br/>for similar vectors\"]\n        candidates[\"Return top 10<br/>candidates\"]\n    end\n    \n    subgraph ranking[\"Relevance Ranking\"]\n        rank_context[\"Rank by context:<br/>- Domain match (40%)<br/>- Type match (30%)<br/>- Tier match (20%)<br/>- Popularity (10%)\"]\n        top_results[\"Select top 5<br/>ranked results\"]\n    end\n    \n    subgraph retrieval[\"Knowledge Retrieval\"]\n        retrieve[\"Retrieve full knowledge<br/>from storage:<br/>- Memory cache<br/>- Redis<br/>- Disk\"]\n        validate[\"Validate knowledge<br/>authenticity (hash check)\"]\n    end\n    \n    subgraph store_cache[\"Store in Cache\"]\n        cache_store[\"Store results in:<br/>- Memory (LRU)<br/>- Redis (24h TTL)<br/>- Disk (persistent)\"]\n    end\n    \n    subgraph return[\"Return to Requester\"]\n        results[\"Return ranked<br/>knowledge entries\"]\n        timing[\"Performance:<br/>23ms avg<br/>87% cache hit rate\"]\n    end\n    \n    q --> n1\n    n1 --> n2\n    n2 --> n3\n    n3 --> result_norm\n    \n    result_norm --> cache_key\n    cache_key --> cache_lookup\n    cache_lookup --> cache_hit\n    \n    cache_hit -->|YES| hit_return\n    cache_hit -->|NO| no_hit\n    hit_return --> results\n    \n    no_hit --> embed\n    embed --> index_search\n    index_search --> candidates\n    candidates --> rank_context\n    rank_context --> top_results\n    \n    top_results --> retrieve\n    retrieve --> validate\n    validate --> cache_store\n    cache_store --> results\n    results --> timing\n    \n    style result_norm fill:#e0e0ff\n    style candidates fill:#ffe0e0\n    style top_results fill:#e0ffe0\n    style results fill:#ffff99\n    style timing fill:#ffcc99\n",
  "content_size": 2434,
  "collected_at": "2026-02-06T01:48:26.994724",
  "license": "none",
  "license_name": "No License",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0
}