{
  "id": "gl_flowchart_00711",
  "source": "gitlab",
  "source_url": "https://github.com/olaaroub/WebServer/blob/c2179fa8d6fc68bdd650216baf387311f26908fa/overview.mmd",
  "source_note": "collected_from_github_final",
  "github_repo": "olaaroub/WebServer",
  "diagram_type": "flowchart",
  "code": "flowchart TD\n    %% PART 1: FOUNDATION\n    subgraph \"Part 1: Foundation\"\n        A0[\"Start Program\"]\n        A1[\"Config File: l3robi.conf\"]\n        A2[\"1.1: Configuration Parsing<br/>• FileReader::readFile<br/>• ConfigParser::parse<br/>• System Call: access()\"]\n        A3((\"Config Object<br/>vector<ServerConfigs>\"))\n        A4[\"1.2: Server Setup<br/>• ServerManager::setupServers<br/>• System Calls: socket(), bind(), listen(), fcntl()\"]\n        A0 --> A1 --> A2 --> A3 --> A4\n    end\n    %% Use lighter background colors for better font visibility\n    style A0 fill:#ffffff,stroke:#1565c0,color:#222\n    style A1 fill:#ffffff,stroke:#1565c0,color:#222\n    style A2 fill:#ffffff,stroke:#1565c0,color:#222\n    style A3 fill:#e3f6fd,stroke:#1565c0,color:#222\n    style A4 fill:#ffffff,stroke:#1565c0,color:#222\n\n    %% PART 2: CORE ENGINE\n    subgraph \"Part 2: Core Engine\"\n        B1[\"2.1: Create epoll Instance<br/>• System Call: epoll_create()\"]\n        B2{\"2.1: Main Event Loop<br/>ServerManager::listening<br/>System Call: epoll_wait()\"}\n        B3[\"2.2: Accept New Connection<br/>• server::onEvent<br/>• System Call: accept()\"]\n        B4[\"Add Client to epoll<br/>• epoll_ctl(ADD)\"]\n        B5[\"2.3: Parse HTTP Request<br/>• Request::run_parser<br/>• Logic: State Machine\"]\n        A4 --> B1 --> B2\n        B2 -- \"Event on Listener\" --> B3 --> B4\n        B2 -- \"Event on Client\" --> B5\n        B4 --> B5\n    end\n    style B1 fill:#fffbe7,stroke:#f57c00,color:#222\n    style B2 fill:#fffbe7,stroke:#f57c00,color:#222\n    style B3 fill:#fffbe7,stroke:#f57c00,color:#222\n    style B4 fill:#fffbe7,stroke:#f57c00,color:#222\n    style B5 fill:#fffbe7,stroke:#f57c00,color:#222\n\n    %% PART 3: REQUEST PROCESSING & RESPONSE\n    subgraph \"Part 3: Request Processing & Response\"\n        C1((\"Complete Request Object\"))\n        C2[\"3.2: Method Routing<br/>• client::onEvent\"]\n        C3[\"GET Handler\"]\n        C4[\"POST Handler\"]\n        C5[\"DELETE Handler\"]\n        D1[\"3.1: HttpResponse Builder<br/>• HttpResponse::toString()\"]\n        D2[\"Send Response to Client\"]\n        B5 --> C1 --> C2\n        C2 --> C3 --> D1\n        C2 --> C4 --> D1\n        C2 --> C5 --> D1\n        D1 --> D2\n    end\n    style C1 fill:#ffffff,stroke:#388e3c,color:#222\n    style C2 fill:#e8fbe9,stroke:#388e3c,color:#222\n    style C3 fill:#e8fbe9,stroke:#388e3c,color:#222\n    style C4 fill:#e8fbe9,stroke:#388e3c,color:#222\n    style C5 fill:#e8fbe9,stroke:#388e3c,color:#222\n    style D1 fill:#ffffff,stroke:#388e3c,color:#222\n    style D2 fill:#ffffff,stroke:#388e3c,color:#222\n\n    %% PART 4: DYNAMIC CONTENT & BONUS\n    subgraph \"Part 4: Dynamic Content & Bonus\"\n        E1[\"4.1: CGI Setup<br/>• CgiExecutor Constructor<br/>• System Call: pipe()\"]\n        E2[\"4.1: Fork & Execute<br/>• System Calls: fork(), dup2(), execve()\"]\n        E3[\"Manage I/O & Timeout<br/>• Read/Write to Pipes<br/>• System Call: kill()\"]\n        E4[\"Becomes CGI Script\"]\n        E5((\"CGI Output\"))\n        F1[\"4.2: Session Creation<br/>• ServerManager::createSession<br/>• Adds 'Set-Cookie' Header\"]\n        F2[\"4.2: Session Validation<br/>• ServerManager::validateSession<br/>• Triggered by 'auth_required on'\"]\n        G1[\"Error Handler<br/>• handleHttpError()<br/>• Returns 4xx/5xx Status\"]\n\n        C4 -- \"CGI Request\" --> E1 --> E2\n        E2 -- \"Parent Process\" --> E3 --> E5\n        E2 -- \"Child Process\" --> E4\n        E5 --> D1\n\n        E5 --> F1 --> D1\n        B5 -- \"Request has Cookie\" --> F2\n        F2 -- \"Valid\" --> C2\n        F2 -- \"Invalid\" --> G1\n    end\n    style E1 fill:#f3e5f5,stroke:#6a1b9a,color:#222\n    style E2 fill:#f3e5f5,stroke:#6a1b9a,color:#222\n    style E3 fill:#f3e5f5,stroke:#6a1b9a,color:#222\n    style E4 fill:#ede7f6,stroke:#6a1b9a,color:#222\n    style E5 fill:#ede7f6,stroke:#6a1b9a,color:#222\n    style F1 fill:#e1f5fe,stroke:#0277bd,color:#222\n    style F2 fill:#e1f5fe,stroke:#0277bd,color:#222\n\n    %% ERROR HANDLING (PARALLEL)\n    subgraph \"Error Handling (Parallel)\"\n        style G1 fill:#ffebee,stroke:#d32f2f,stroke-width:2px,color:#222\n        C2 -- \"e.g., Path Not Found\" --> G1\n        B5 -- \"e.g., Bad Request\" --> G1\n        G1 --> D1\n    end",
  "content_size": 4149,
  "collected_at": "2026-02-06T14:19:18.596917",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "olaaroub",
  "repo_name": "WebServer",
  "repo_description": "A high-performance HTTP/1.1 web server in C++98 featuring non-blocking I/O with epoll, CGI/1.1 support for dynamic content, and flexible Nginx-inspired configuration",
  "repo_language": "C++",
  "repo_topics": [],
  "repo_created_at": "2025-05-14T10:01:41Z",
  "repo_updated_at": "2025-11-05T20:23:48Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}