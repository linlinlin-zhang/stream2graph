{
  "id": "gl_packet-beta_00400",
  "source": "gitlab",
  "source_url": "https://github.com/aftahi334/alpha-smart-router/blob/ece6102a501a71972308f983be955b10b34694ef/docs/diagrams/mem_overview.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "aftahi334/alpha-smart-router",
  "diagram_type": "packet-beta",
  "code": "%% file: docs/diagrams/mem_overview.mmd\n%% Mermaid v10+ compatible, safe for mmdc\n\nflowchart LR\n\n%% ================== MEMORY PRIMITIVES ==================\n    subgraph Mem[\"alpha::mem — Primitives\"]\n        direction TB\n        POOL[\"PacketPool<br/>(fixed-capacity, preallocated)\"]\n        SPSC[\"SPSC Queue<br/>(single-producer, single-consumer, bounded)\"]\n    end\n\n%% ================== THREADS ==================\n    subgraph Producer[\"Producer Thread (Ingress)\"]\n        P0[\"RX loop:<br/>read NIC → fill Packet\"]\n    end\n\n    subgraph Consumer[\"Consumer Thread (Routing/Egress)\"]\n        C0[\"Process:<br/>Path Selection → QoS → Failover\"]\n    end\n\n%% ================== LIFECYCLE ==================\n%% Startup preallocation\n    START[\"Startup\"] -->|\"allocate N packets\"| POOL\n\n%% Producer path\n    P0 -->|\"acquire() from pool\"| POOL\n    POOL -->|\"PacketHandle\"| P0\n    P0 -->|\"enqueue(PacketHandle)\"| SPSC\n\n%% Consumer path\n    SPSC -->|\"dequeue()\"| C0\n    C0 -->|\"release() to pool\"| POOL\n\n%% Notes / guarantees\n    NOTE1[\"Guarantees:<br/>• No dynamic allocation after startup<br/>• Bounded memory & backpressure via SPSC<br/>• Zero-copy handles (pool-managed)<br/>• Cache-friendly contiguous slabs\"]:::note\n\n%% Optional stalls/backpressure (dotted)\n    P0 -. \"if full → drop/backoff\" .-> SPSC\n    C0 -. \"if empty → wait/yield\" .-> SPSC\n\n%% ================== STYLES ==================\n    classDef note fill:#f6f6f6,stroke:#bbb,stroke-width:1px;\n",
  "content_size": 1452,
  "collected_at": "2026-02-06T14:09:00.409651",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "aftahi334",
  "repo_name": "alpha-smart-router",
  "repo_description": "Alpha Smart Router – Real-time, embedded-style routing simulator in C++23",
  "repo_language": "C++",
  "repo_topics": [],
  "repo_created_at": "2025-10-03T23:11:03Z",
  "repo_updated_at": "2025-10-03T23:44:49Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}