{
  "id": "gl_timeline_00089",
  "source": "gitlab",
  "source_url": "https://github.com/developer-jutra/dj-course/blob/521f7ffbc19450d8a3b52098f5c36b6a6d159874/M8/modelling/tms-er-diagram.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "developer-jutra/dj-course",
  "diagram_type": "timeline",
  "code": "erDiagram\n    %% MODUŁ ZASOBÓW I DOSTĘPNOŚCI\n    RESOURCE ||--o{ RESOURCE_AVAILABILITY : \"timeline\"\n    RESOURCE ||--o{ TRANSPORT_RESOURCE : \"assigned_to\"\n    \n    %% MODUŁ KADROWY (HR)\n    HR_DRIVER ||--o{ DRIVER_DOCUMENT : \"holds\"\n    HR_DRIVER |o--o| RESOURCE : \"represents_as_resource\"\n    \n    %% MODUŁ FLOTY (FLEET)\n    FLEET_VEHICLE ||--o{ RESOURCE : \"represents_as_resource\"\n    VEHICLE_CATEGORY ||--o{ FLEET_VEHICLE : \"defines\"\n    \n    %% MODUŁ ZAMÓWIEŃ (SALES)\n    CONTRAHENT ||--o{ ADDRESS : \"manages\"\n    CONTRAHENT ||--o{ ORDER : \"places\"\n    ORDER_STATUS ||--o{ ORDER : \"defines\"\n    ORDER ||--|{ SHIPMENT : \"consists_of\"\n    \n    %% MODUŁ TRANSPORTU (OPERATIONS)\n    TRANSPORT ||--o{ TRANSPORT_RESOURCE : \"uses\"\n    TRANSPORT ||--o{ MANIFEST_ITEM : \"executes\"\n    SHIPMENT ||--o{ MANIFEST_ITEM : \"included_in\"\n\n    CONTRAHENT {\n        int id PK\n        string name\n        string tax_id\n        string internal_code\n        jsonb contact_details\n    }\n\n    ADDRESS {\n        int id PK\n        int contrahent_id FK\n        string label\n        jsonb full_address_data \"city, street, post_code, country, contact_person, phone\"\n    }\n\n    ORDER {\n        int id PK\n        int contrahent_id FK\n        int status_id FK\n        string customer_ref \"Numer zamówienia klienta\"\n        datetime created_at\n        datetime deadline \"Termin realizacji całości\"\n        decimal total_agreed_price \"Kwota netto\"\n        string currency\n        text internal_notes\n    }\n\n    ORDER_STATUS {\n        int id PK\n        string code \"DRAFT, CONFIRMED, IN_PROGRESS, COMPLETED, CANCELLED\"\n        string display_name\n    }\n\n    SHIPMENT {\n        int id PK\n        int order_id FK\n        jsonb pickup_address_snapshot \"Snapshot z ADDRESS\"\n        jsonb delivery_address_snapshot \"Snapshot z ADDRESS\"\n        decimal weight\n        int pallets_count\n        string goods_description\n        jsonb requirements \"np. temperatura, ADR\"\n    }\n\n    TRANSPORT {\n        int id PK\n        int transport_status_id \"1:DRAFT, 2:READY, 3:IN_TRANSIT, 4:COMPLETED\"\n        tsrange scheduled_range\n        string route_notes\n        decimal estimated_km\n    }\n\n    TRANSPORT_RESOURCE {\n        int id PK\n        int transport_id FK\n        int resource_id FK\n        string role \"PRIMARY_DRIVER, SUPPORT_DRIVER, VEHICLE, TRAILER\"\n    }\n\n    RESOURCE {\n        int id PK\n        string resource_type \"DRIVER / VEHICLE / WAREHOUSE\"\n        jsonb metadata \"Snapshot dla dyspozytora\"\n        int external_id \"FK do HR_DRIVER lub FLEET_VEHICLE\"\n    }\n\n    RESOURCE_AVAILABILITY {\n        int id PK\n        int resource_id FK\n        tsrange busy_range \"GiST Index\"\n        string reason \"TRANSPORT / MAINTENANCE / HOLIDAY\"\n        int reference_transport_id \"Opcjonalne powiązanie z TRANSPORT.id\"\n    }\n\n    HR_DRIVER {\n        int id PK\n        string first_name\n        string last_name\n        string employee_id\n        jsonb contact_info\n    }\n\n    DRIVER_DOCUMENT {\n        int id PK\n        int driver_id FK\n        string doc_type\n        string doc_number\n        date expiry_date\n        jsonb metadata \"np. kategorie prawa jazdy\"\n    }\n\n    FLEET_VEHICLE {\n        int id PK\n        int category_id FK\n        string plates\n        string vin\n        jsonb technical_specs\n    }\n\n    VEHICLE_CATEGORY {\n        int id PK\n        string name\n        string code\n    }\n\n    MANIFEST_ITEM {\n        int id PK\n        int shipment_id FK\n        int transport_id FK\n        int sequence_order\n        string action_type \"LOAD / UNLOAD\"\n        datetime actual_time \"Rzeczywisty czas operacji\"\n    }",
  "content_size": 3585,
  "collected_at": "2026-02-06T14:02:32.928603",
  "compilation_status": "failed",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}