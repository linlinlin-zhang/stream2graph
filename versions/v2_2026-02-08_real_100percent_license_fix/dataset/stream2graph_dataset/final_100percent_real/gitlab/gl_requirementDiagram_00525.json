{
  "id": "gl_requirementDiagram_00525",
  "source": "gitlab",
  "source_url": "https://github.com/mtln/matlon/blob/b3f99abde8443adc238130038f86ad9ab829e9ac/nbs/running-wheel-tracker.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "mtln/matlon",
  "diagram_type": "requirementDiagram",
  "code": "We have three [degus](https://en.wikipedia.org/wiki/Common_degu), and in their three-story cage, the animals have various climbing options as well as a running wheel and two spinning plates.\n\n### Activity tracking\nAre they really only active during the day? When and how much do they run? I wanted to know for sure, so I installed sensors in their running wheel and on their two spinning plates, where they run their laps daily. I connected the sensors to a microcontroller and programmed it to send rotation data to my server, which generates charts that I can view from anywhere. \n\n```{mermaid}\nflowchart TD\n    A1[Running Wheel] -->|Hall Effect Sensor Signal| B(ESP32 Microcontroller)\n    A2[Spinning Plate 1] -->|Hall Effect Sensor Signal| B(ESP32 Microcontroller)\n    A3[Spinning Plate 2] -->|Hall Effect Sensor Signal| B(ESP32 Microcontroller)\n    B --> |WLAN| C{Web Server}\n    C <--> D(Database)\n    C --> E[Statistics Dashboard]\n```   \n\nThis way, I know when they run their laps—and how many laps they complete. Does that sound absurd? Kind of. Many people track their fitness with pedometers and similar devices, even though they should already have a pretty good sense of how far they've walked, considering they take the steps themselves. It's different with pets. What do they actually do during all the hours I spend at work or asleep? No idea. It could be interesting, right?\n![Activity by time of day](Degu_24h.png)\n\nThe chart shows activity grouped by time of day. From 9 p.m. to 7 a.m., they actually sleep. During the day, and especially in the early evening, they run quite a lot. Over 30 days, the animals ran a total of 200,000 laps. Technical details: On the back of the running wheel, I attached a small magnet and on the stationary part, a Hall effect sensor. This is connected to an ESP-32 microcontroller, which tracks the laps and reports them to the server.\n \n\n###  Behavior during vacation\nDuring a fall break, the degus (apart from brief \"feeding visits\" from the neighbor) were alone at home. The following chart shows the number of laps per day. The animals were much less active during our absence, from October 7 to 12, than they were before. Was it because of the light, since it was darker in the apartment? We had the shutters partially closed. On the next occasion, I tried it with more light, but even then, the degus were much more passive when they were alone at home.\n![Actvity during vacation](DeguFerien.png)\n\n\n### Audio stories for degus\n\nThe next hypothesis was, therefore: the quieter it is in the apartment, the less active the degus are. To test this, an installation was needed that would play audio for the degus at a specific time during the second week of vacation. This required a device that would automatically start playing when powered by a timer.\n\nThe [Gschichtefritz](/10_andri.ipynb#gschichtefritz) audio stations I built for public libraries met this requirement. So, I quickly connected an audio station to an amplifier, linked both to a timer, and set it to play Blue Dino stories near the degu cage in the mornings from around 7–8 a.m. and in the evenings from about 6–7:30 p.m. There was also a reason why the degus could only listen to stories at these off-peak times: during the second vacation week, the building manager was supposed to visit the apartment at some point to repair a broken shutter. He probably would have thought we were completely nuts if children's stories about the Blue Dino started playing next to the degu cage while he was there...\n\n### When the Blue Dino plays, they run\nThe following three charts show how many laps the degus ran at different times of the day in the days that followed.\n![Actvity with audiobook](Degu_Beschallt_d1-3.png)\n\n* Day one: Until the installation was activated at noon, the degus were passive. But when the Dino stories began playing in the evening around 6 p.m., the degus started running—and only for as long as the stories were playing.\n* Day two: The animals were active precisely during the times the stories were playing.\n* Day three: The same behavior pattern appeared again. \n\nWhether this was because they recognized my voice or if they would have run to Beethoven or The Rolling Stones as well still needs to be investigated...\n\n",
  "content_size": 4261,
  "collected_at": "2026-02-06T14:11:33.936289",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com"
}