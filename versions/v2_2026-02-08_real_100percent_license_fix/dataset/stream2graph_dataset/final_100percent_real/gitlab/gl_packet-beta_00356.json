{
  "id": "gl_packet-beta_00356",
  "source": "gitlab",
  "source_url": "https://github.com/seanchatmangpt/erlmcp/blob/1356e12d778f4f4908360bdb3af445db8caff50d/docs/diagrams/observability/chaos-testing.mmd",
  "source_note": "collected_from_github_additional",
  "github_repo": "seanchatmangpt/erlmcp",
  "diagram_type": "packet-beta",
  "code": "---\ntitle: erlmcp Chaos Engineering Failure Injection\n---\nflowchart TB\n    subgraph Chaos[\"erlmcp_chaos Coordinator\"]\n        Scheduler[\"Chaos Scheduler<br/>Cron-based trigger\"]\n        Config[\"Chaos Config<br/>Scenarios & intensity\"]\n        WorkerSup[\"chaos_worker_sup<br/>Dynamic supervisor\"]\n    end\n\n    subgraph Network[\"Network Failure Injection\"]\n        Latency[\"chaos_network<br/>inject_latency\"]\n        PacketLoss[\"chaos_network<br/>inject_packet_loss\"]\n        Partition[\"chaos_network<br/>inject_partition\"]\n    end\n\n    subgraph Process[\"Process Failure Injection\"]\n        Kill[\"chaos_process<br/>kill_random_process\"]\n        SpawnStorm[\"chaos_process<br/>spawn_storm\"]\n        MsgQueue[\"chaos_process<br/>message_queue_overflow\"]\n    end\n\n    subgraph Resource[\"Resource Exhaustion\"]\n        MemExhaust[\"chaos_resource<br/>memory_exhaustion\"]\n        CPUSat[\"chaos_resource<br/>cpu_saturation\"]\n        DiskFull[\"chaos_resource<br/>disk_full_simulation\"]\n        ETSFill[\"chaos_resource<br/>ets_table_fill\"]\n    end\n\n    subgraph Monitoring[\"Chaos Monitoring\"]\n        Recovery[\"erlmcp_recovery_manager<br/>Recovery time tracking\"]\n        Health[\"Health Monitor<br/>System state during chaos\"]\n        Metrics[\"Metrics Collector<br/>Performance impact\"]\n    end\n\n    subgraph Validation[\"Validation Criteria\"]\n        V1[\"Recovery Time < 5s<br/>(bounded recovery)\"]\n        V2[\"No Cascade Failures<br/>(isolation verified)\"]\n        V3[\"Circuit Breaker Triggered<br/>(protection active)\"]\n        V4[\"Graceful Degradation<br/>(andon visible)\"]\n        V5[\"Bounded Refusals<br/>(errors < 10%)\"]\n    end\n\n    Scheduler -->|\"select scenario\"| Config\n    Config -->|\"spawn worker\"| WorkerSup\n\n    WorkerSup -->|\"network chaos\"| Network\n    WorkerSup -->|\"process chaos\"| Process\n    WorkerSup -->|\"resource chaos\"| Resource\n\n    Network -->|\"inject failure\"| System[\"erlmcp System<br/>(Under Test)\"]\n    Process -->|\"inject failure\"| System\n    Resource -->|\"inject failure\"| System\n\n    System -->|\"health events\"| Health\n    System -->|\"recovery events\"| Recovery\n    System -->|\"metrics stream\"| Metrics\n\n    Health -->|\"validate\"| Validation\n    Recovery -->|\"measure recovery_time_s\"| Validation\n    Metrics -->|\"performance impact\"| Validation\n\n    style Chaos fill:#e1f5fe\n    style Network fill:#fff3e0\n    style Process fill:#f3e5f5\n    style Resource fill:#e8f5e9\n    style Monitoring fill:#ffebee\n    style Validation fill:#fff9c4\n\n    classDef coordinator fill:#0277bd,stroke:#01579b,color:#fff\n    classDef network fill:#f57c00,stroke:#e65100,color:#fff\n    classDef process fill:#7b1fa2,stroke:#4a148c,color:#fff\n    classDef resource fill:#388e3c,stroke:#1b5e20,color:#fff\n    classDef monitoring fill:#c62828,stroke:#b71c1c,color:#fff\n    classDef validation fill:#f9a825,stroke:#f57f17,color:#fff\n\n    class Scheduler,Config,WorkerSup coordinator\n    class Latency,PacketLoss,Partition network\n    class Kill,SpawnStorm,MsgQueue process\n    class MemExhaust,CPUSat,DiskFull,ETSFill resource\n    class Recovery,Health,Metrics monitoring\n    class V1,V2,V3,V4,V5 validation\n\n    %% Failure intensity levels\n    subgraph Intensity[\"Chaos Intensity Levels\"]\n        I1[\"LOW: 10ms latency / 1% packet loss\"]\n        I2[\"MEDIUM: 100ms latency / 5% packet loss\"]\n        I3[\"HIGH: 1s latency / 20% packet loss\"]\n        I4[\"EXTREME: 5s latency / 50% packet loss\"]\n    end\n",
  "content_size": 3397,
  "collected_at": "2026-02-06T14:08:11.770917",
  "compilation_status": "failed",
  "license": "gitlab_repo",
  "license_name": "GitLab Repository",
  "license_url": "https://gitlab.com",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}