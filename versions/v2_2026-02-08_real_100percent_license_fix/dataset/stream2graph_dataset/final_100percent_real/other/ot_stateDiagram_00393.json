{
  "id": "ot_stateDiagram_00393",
  "source": "other",
  "source_url": "https://github.com/Leyber91/WirthForge_wiki/blob/566ba86a84e0c8d6c7bf941bcd891dc085a370f8/assets/diagrams/WF-TECH/WF-TECH-005-state-machine.mmd",
  "source_type": "github_search_special",
  "github_repo": "Leyber91/WirthForge_wiki",
  "diagram_type": "stateDiagram",
  "code": "---\ntitle: \"Decipher Energy State Machine & Transitions\"\nconfig:\n  theme: dark\n  themeVariables:\n    primaryColor: \"#00ff88\"\n    primaryTextColor: \"#ffffff\"\n    primaryBorderColor: \"#27ae60\"\n    lineColor: \"#61dafb\"\n    secondaryColor: \"#ff6b6b\"\n    tertiaryColor: \"#feca57\"\n    background: \"#0d1117\"\n    mainBkg: \"#161b22\"\n    secondBkg: \"#21262d\"\n---\n\nstateDiagram-v2\n    [*] --> IDLE : System Start\n\n    state IDLE {\n        [*] --> WaitingForPrompt\n        WaitingForPrompt : üîµ No active generation\n        WaitingForPrompt : Energy: 0.0 EU\n        WaitingForPrompt : Rate: 0.0 EU/s\n        WaitingForPrompt : Visual: Dim ambient glow\n    }\n\n    IDLE --> CHARGING : Prompt Received\n\n    state CHARGING {\n        [*] --> ProcessingPrompt\n        ProcessingPrompt : üü° Prompt processing\n        ProcessingPrompt : Energy: Building potential\n        ProcessingPrompt : Rate: 0.0 EU/s\n        ProcessingPrompt : Visual: Charging animation\n        ProcessingPrompt : Timeout: 5 seconds max\n        \n        ProcessingPrompt --> WaitingFirstToken\n        WaitingFirstToken : ‚è≥ Awaiting first token\n        WaitingFirstToken : Energy: Potential energy\n        WaitingFirstToken : Visual: Pulsing charge\n    }\n\n    CHARGING --> FLOWING : First Token Arrives\n    CHARGING --> IDLE : Timeout / Cancel\n\n    state FLOWING {\n        [*] --> ActiveGeneration\n        \n        state ActiveGeneration {\n            [*] --> NormalFlow\n            NormalFlow : üü¢ Tokens flowing normally\n            NormalFlow : Energy: Accumulating\n            NormalFlow : Rate: 1-10 EU/s typical\n            NormalFlow : Visual: Lightning bolts\n            \n            NormalFlow --> BurstFlow : Rapid tokens (>5/sec)\n            BurstFlow : ‚ö° High-speed generation\n            BurstFlow : Energy: Rapid accumulation\n            BurstFlow : Rate: >10 EU/s\n            BurstFlow : Visual: Intense lightning\n            BurstFlow --> NormalFlow : Speed normalizes\n            \n            NormalFlow --> SlowFlow : Slow tokens (<1/sec)\n            SlowFlow : üêå Slow generation\n            SlowFlow : Energy: Gradual accumulation\n            SlowFlow : Rate: <1 EU/s\n            SlowFlow : Visual: Gentle sparks\n            SlowFlow --> NormalFlow : Speed increases\n        }\n        \n        ActiveGeneration --> PatternDetection : Multi-model active\n        \n        state PatternDetection {\n            [*] --> CheckingPatterns\n            CheckingPatterns : üîç Analyzing patterns\n            \n            CheckingPatterns --> InterferenceDetected : Models interfere\n            InterferenceDetected : ‚ö° Interference pattern\n            InterferenceDetected : Energy: Modified by correlation\n            InterferenceDetected : Visual: Wave interference\n            InterferenceDetected --> CheckingPatterns : Pattern ends\n            \n            CheckingPatterns --> ResonanceDetected : Models synchronize\n            ResonanceDetected : üåä Resonance pattern\n            ResonanceDetected : Energy: Amplified (1.5x-5x)\n            ResonanceDetected : Visual: Resonance waves\n            ResonanceDetected --> CheckingPatterns : Pattern ends\n        }\n        \n        PatternDetection --> ActiveGeneration : Single model\n    }\n\n    FLOWING --> STALLING : No tokens >500ms\n    FLOWING --> DRAINED : Final token received\n\n    state STALLING {\n        [*] --> DetectedStall\n        DetectedStall : üî¥ Generation stalled\n        DetectedStall : Energy: Decaying (friction)\n        DetectedStall : Rate: Decreasing\n        DetectedStall : Visual: Fading effects\n        \n        DetectedStall --> WaitingResumption\n        WaitingResumption : ‚è∏Ô∏è Waiting for resumption\n        WaitingResumption : Energy: Slow decay\n        WaitingResumption : Visual: Dim pulse\n        \n        WaitingResumption --> LongStall : >2 seconds\n        LongStall : ‚èπÔ∏è Extended stall\n        LongStall : Energy: Minimal\n        LongStall : Visual: Near-off state\n    }\n\n    STALLING --> FLOWING : Token arrives\n    STALLING --> DRAINED : Timeout (>2s)\n\n    state DRAINED {\n        [*] --> GenerationComplete\n        GenerationComplete : ‚úÖ Generation finished\n        GenerationComplete : Energy: Final total\n        GenerationComplete : Rate: 0.0 EU/s\n        GenerationComplete : Visual: Completion effect\n        \n        GenerationComplete --> CooldownPeriod\n        CooldownPeriod : üåô Cooldown period\n        CooldownPeriod : Energy: Stable\n        CooldownPeriod : Visual: Gentle fade\n        \n        CooldownPeriod --> ReadyForNext\n        ReadyForNext : üîÑ Ready for next prompt\n        ReadyForNext : Energy: Preserved total\n        ReadyForNext : Visual: Ready indicator\n    }\n\n    DRAINED --> IDLE : Session reset\n    DRAINED --> CHARGING : New prompt\n\n    %% Error states\n    state ErrorHandling {\n        [*] --> ErrorDetected\n        ErrorDetected : ‚ùå Error occurred\n        ErrorDetected : Energy: Preserved\n        ErrorDetected : Visual: Error indication\n        \n        ErrorDetected --> RecoveryAttempt\n        RecoveryAttempt : üîß Attempting recovery\n        RecoveryAttempt : Energy: Stable\n        RecoveryAttempt : Visual: Recovery animation\n        \n        RecoveryAttempt --> ErrorDetected : Recovery failed\n        RecoveryAttempt --> [*] : Recovery successful\n    }\n\n    IDLE --> ErrorHandling : System error\n    CHARGING --> ErrorHandling : Processing error\n    FLOWING --> ErrorHandling : Generation error\n    STALLING --> ErrorHandling : Recovery error\n    DRAINED --> ErrorHandling : Completion error\n\n    ErrorHandling --> IDLE : Error resolved\n\n    %% Performance states\n    state PerformanceMode {\n        [*] --> NormalMode\n        NormalMode : üü¢ Normal performance\n        NormalMode : Frame time: <12ms\n        NormalMode : All features enabled\n        \n        NormalMode --> DegradedMode : Performance issues\n        DegradedMode : üü° Degraded performance\n        DegradedMode : Frame time: >16ms\n        DegradedMode : Reduced features\n        \n        DegradedMode --> CriticalMode : Severe issues\n        CriticalMode : üî¥ Critical performance\n        CriticalMode : Frame time: >25ms\n        CriticalMode : Minimal features only\n        \n        CriticalMode --> DegradedMode : Performance improves\n        DegradedMode --> NormalMode : Performance restored\n    }\n\n    %% State annotations with energy formulas\n    note right of IDLE : Energy State: E(t) = 0\n    note right of IDLE : Visual: Ambient glow only\n    note right of IDLE : Frame rate: 60 FPS maintained\n\n    note right of CHARGING : Energy State: E(t) = potential\n    note right of CHARGING : Visual: Charging animation\n    note right of CHARGING : Timeout: 5 second maximum\n\n    note right of FLOWING : Energy State: E(t) = Œ£(token_energy)\n    note right of FLOWING : Formula: E = base √ó (velocity + certainty + friction)\n    note right of FLOWING : Visual: Lightning intensity ‚àù energy_rate\n    note right of FLOWING : Particle count ‚àù token_velocity\n\n    note right of STALLING : Energy State: E(t) = E(t-1) √ó decay_factor\n    note right of STALLING : Decay: friction_factor^(stall_time/threshold)\n    note right of STALLING : Visual: Fading effects\n    note right of STALLING : Recovery: immediate on new token\n\n    note right of DRAINED : Energy State: E(t) = final_total (preserved)\n    note right of DRAINED : Visual: Completion celebration\n    note right of DRAINED : Duration: 2-5 seconds typical\n    note right of DRAINED : Metrics: session summary\n\n    %% Transition conditions\n    note top of IDLE : Triggers:\n    note top of IDLE : ‚Ä¢ System startup\n    note top of IDLE : ‚Ä¢ Session reset\n    note top of IDLE : ‚Ä¢ Manual stop\n\n    note top of CHARGING : Triggers:\n    note top of CHARGING : ‚Ä¢ User prompt submitted\n    note top of CHARGING : ‚Ä¢ Model initialization\n    note top of CHARGING : ‚Ä¢ Context preparation\n\n    note top of FLOWING : Triggers:\n    note top of FLOWING : ‚Ä¢ First token received\n    note top of FLOWING : ‚Ä¢ Token stream active\n    note top of FLOWING : ‚Ä¢ Generation in progress\n\n    note top of STALLING : Triggers:\n    note top of STALLING : ‚Ä¢ No token >500ms\n    note top of STALLING : ‚Ä¢ Model processing delay\n    note top of STALLING : ‚Ä¢ Resource contention\n\n    note top of DRAINED : Triggers:\n    note top of DRAINED : ‚Ä¢ Final token received\n    note top of DRAINED : ‚Ä¢ Generation complete\n    note top of DRAINED : ‚Ä¢ Stop signal\n\n    %% Styling\n    classDef idleClass fill:#2c3e50,stroke:#34495e,stroke-width:2px,color:#ecf0f1\n    classDef chargingClass fill:#f39c12,stroke:#e67e22,stroke-width:2px,color:#fff\n    classDef flowingClass fill:#27ae60,stroke:#229954,stroke-width:2px,color:#fff\n    classDef stallingClass fill:#e74c3c,stroke:#c0392b,stroke-width:2px,color:#fff\n    classDef drainedClass fill:#9b59b6,stroke:#8e44ad,stroke-width:2px,color:#fff\n    classDef errorClass fill:#e67e22,stroke:#d35400,stroke-width:2px,color:#fff\n    classDef performanceClass fill:#3498db,stroke:#2980b9,stroke-width:2px,color:#fff\n\n    class IDLE idleClass\n    class CHARGING chargingClass\n    class FLOWING flowingClass\n    class STALLING stallingClass\n    class DRAINED drainedClass\n    class ErrorHandling errorClass\n    class PerformanceMode performanceClass\n",
  "content_size": 9141,
  "collected_at": "2026-02-06T10:41:37.785187",
  "compilation_status": "failed",
  "compilation_error": "[WinError 2] Á≥ªÁªüÊâæ‰∏çÂà∞ÊåáÂÆöÁöÑÊñá‰ª∂„ÄÇ",
  "license": "mit",
  "license_name": "MIT License",
  "license_url": "https://api.github.com/licenses/mit",
  "repo_stars": 0,
  "repo_forks": 0,
  "repo_owner": "Leyber91",
  "repo_name": "WirthForge_wiki",
  "repo_description": "WirthForge_WIKI",
  "repo_language": "Python",
  "repo_topics": [],
  "repo_created_at": "2025-08-08T21:24:59Z",
  "repo_updated_at": "2025-08-20T09:48:37Z"
}