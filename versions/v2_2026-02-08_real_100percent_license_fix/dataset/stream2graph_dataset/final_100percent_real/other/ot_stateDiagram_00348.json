{
  "id": "ot_stateDiagram_00348",
  "source": "other",
  "source_url": "https://github.com/PaulJPhilp/buddy/blob/6ca3a069c2d6b26ccbf7f65210684a37118e4441/docs/archive/workspace-state-diagram.mmd",
  "source_type": "github_search_special",
  "github_repo": "PaulJPhilp/buddy",
  "diagram_type": "stateDiagram",
  "code": "stateDiagram-v2\n    [*] --> Initializing\n    \n    Initializing --> Active : createDefaultWorkspace\n    \n    state Active {\n        state \"Workspace Management\" as WM {\n            [*] --> WM_Idle\n            \n            WM_Idle --> WM_Idle : WORKSPACE_ADDED\n            WM_Idle --> WM_Idle : WORKSPACE_UPDATED\n            WM_Idle --> WM_Idle : WORKSPACE_ACTIVATED\n            WM_Idle --> WM_Idle : WORKSPACE_ARCHIVED\n            WM_Idle --> WM_EnforcingCapacity : WORKSPACE_MAX_EXPANDED_APPS_UPDATED\n            \n            WM_EnforcingCapacity --> WM_Idle : enforceMaxExpandedApps\n        }\n        \n        state \"Chat App Management\" as CAM {\n            [*] --> CAM_NoApps\n            \n            CAM_NoApps --> CAM_ManagingApps : CHAT_APP_ADDED\n            \n            state CAM_ManagingApps {\n                state \"Capacity Control\" as CC {\n                    [*] --> CC_CheckingCapacity\n                    \n                    CC_CheckingCapacity --> CC_WithinCapacity : Apps ≤ maxExpandedApps\n                    CC_CheckingCapacity --> CC_ExceedsCapacity : Apps > maxExpandedApps\n                    \n                    CC_WithinCapacity --> CC_CheckingCapacity : CHAT_APP_EXPANDED\n                    CC_WithinCapacity --> CC_CheckingCapacity : CHAT_APP_COMPACTED\n                    \n                    CC_ExceedsCapacity --> CC_CheckingCapacity : compactOldestExpandedApp\n                }\n                \n                state \"Focus Mode\" as FM {\n                    [*] --> FM_Normal\n                    \n                    FM_Normal --> FM_Focused : CHAT_APP_FOCUS_ENTERED\n                    FM_Focused --> FM_Normal : CHAT_APP_FOCUS_EXITED\n                }\n                \n                state \"Active App Tracking\" as AT {\n                    [*] --> AT_NoActiveApp\n                    \n                    AT_NoActiveApp --> AT_HasActiveApp : CHAT_APP_ACTIVATED\n                    AT_NoActiveApp --> AT_HasActiveApp : CHAT_APP_EXPANDED\n                    \n                    AT_HasActiveApp --> AT_HasActiveApp : CHAT_APP_ACTIVATED\n                    AT_HasActiveApp --> AT_NoActiveApp : CHAT_APP_STASHED<br/>(if active app)\n                    AT_HasActiveApp --> AT_HasActiveApp : CHAT_APP_COMPACTED<br/>(updateActiveAppOnCompact)\n                    AT_HasActiveApp --> AT_NoActiveApp : CHAT_APP_REMOVED<br/>(if active app)\n                }\n            }\n            \n            CAM_ManagingApps --> CAM_NoApps : CHAT_APP_REMOVED<br/>(last app)\n        }\n    }\n    \n    note right of WM_EnforcingCapacity\n        Automatically compacts excess<br/>\n        expanded apps when limit<br/>\n        is reduced\n    end note\n    \n    note right of CC_ExceedsCapacity\n        Uses lastActiveAt timestamps<br/>\n        for chronological sorting.<br/>\n        Oldest expanded app is<br/>\n        compacted automatically.\n    end note\n    \n    note right of FM_Focused\n        Single app expanded.<br/>\n        Others hidden with<br/>\n        previousStatus preserved<br/>\n        for restoration.\n    end note\n    \n    note right of AT_HasActiveApp\n        Only one activeAppId<br/>\n        per workspace.<br/>\n        Auto-assigned on expand.<br/>\n        Smart fallback selection.\n    end note ",
  "content_size": 3229,
  "collected_at": "2026-02-06T10:41:02.844290",
  "compilation_status": "failed",
  "license": "none",
  "license_name": "No License",
  "license_url": "",
  "repo_stars": 2,
  "repo_forks": 0,
  "repo_owner": "PaulJPhilp",
  "repo_name": "buddy",
  "repo_description": "The refactored buddybuilder",
  "repo_language": "TypeScript",
  "repo_topics": [],
  "repo_created_at": "2025-03-01T20:53:27Z",
  "repo_updated_at": "2025-10-15T04:46:54Z",
  "compilation_error": "[WinError 2] 系统找不到指定的文件。"
}